/*! For license information please see main.e6210279.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},v={};function p(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(f,e)&&(d.test(e)?v[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,F=Object.assign;function W(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function B(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ae=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ae?Ae.push(e):Ae=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Ae;if(Ae=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Me(e,t){return e(t)}function Te(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,(null!==_e||null!==Ae)&&(Te(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Ne=!1}function De(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Fe=null,We=!1,je=null,ze={onError:function(e){Oe=!0,Fe=e}};function Be(e,t,n,r,i,a,s,o,l){Oe=!1,Fe=null,De.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ht(o):0!==(a&=s)&&(r=ht(a))}else 0!==(s=n&~i)?r=ht(s):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,_t,At,St,Et=!1,Ct=[],Mt=null,Tt=null,Pt=null,Rt=new Map,Lt=new Map,Nt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Wt(e)&&n.delete(t)}function zt(){Et=!1,null!==Mt&&Wt(Mt)&&(Mt=null),null!==Tt&&Wt(Tt)&&(Tt=null),null!==Pt&&Wt(Pt)&&(Pt=null),Rt.forEach(jt),Lt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Bt(Mt,e),null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Xt(e,t,n,r){if(Vt){var i=Kt(e,t,n,r);if(null===i)Vr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Ot(Mt,e,t,n,r,i),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Ot(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Ot(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Kt(e,t,n,r))&&Vr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=yi(e=ke(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=F({},un,{view:0,detail:0}),dn=an(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),vn=an(fn),pn=an(F({},fn,{dataTransfer:0})),gn=an(F({},hn,{relatedTarget:0})),mn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return An}var En=F({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),Mn=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Rn),Nn=[9,13,27,32],In=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var On=c&&"TextEvent"in window&&!Dn,Fn=c&&(!In||Dn&&8<Dn&&11>=Dn),Wn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Wr(e,0)}function Kn(e){if(X(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Gn(t,Xn,e,ke(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Ar={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return _r[e]=n[t];return e}c&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Mr=Sr("animationstart"),Tr=Sr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Pr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Ir=Rr[Nr];Lr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Lr(Er,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Mr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var c=Fe;Oe=!1,Fe=null,We||(We=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Wr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,o,u),a=l}}}if(We)throw e=je,We=!1,je=null,e}function jr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=a,i=ke(n),s=[];e:{var o=Pr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Cr:case Mr:l=mn;break;case Tr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,v=r;null!==v;){var p=(f=v).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=Le(v,d))&&c.push(Gr(v,p,f)))),h)break;v=v.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[vi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,p="onMouseLeave",d="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,p="onPointerLeave",d="onPointerEnter",v="pointer"),h=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(p,v+"leave",l,n,i)).target=h,o.relatedTarget=f,p=null,yi(i)===r&&((c=new c(d,v+"enter",u,n,i)).target=f,c.relatedTarget=h,p=c),h=p,l&&u)e:{for(d=u,v=0,f=c=l;f;f=Xr(f))v++;for(f=0,p=d;p;p=Xr(p))f++;for(;0<v-f;)c=Xr(c),v--;for(;0<f-v;)d=Xr(d),f--;for(;v--;){if(c===d||null!==d&&c===d.alternate)break e;c=Xr(c),d=Xr(d)}c=null}else c=null;null!==l&&Yr(s,o,l,c,!1),null!==u&&null!==h&&Yr(s,h,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Vn(o))if($n)g=sr;else{g=ir;var m=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(s,g,n,i):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=r?wi(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(m=qr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:m}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Wn);case"textInput":return(e=t.data)===Wn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Wr(s,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Le(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Le(n,a))&&s.unshift(Gr(n,l,o)):i||null!=(l=Le(n,a))&&s.push(Gr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,vi="__reactContainer$"+hi,pi="__reactEvents$"+hi,gi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[fi]||null}var xi=[],_i=-1;function Ai(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Mi=Ai(Ci),Ti=Ai(!1),Pi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Si(Ti),Si(Mi)}function Ii(e,t,n){if(Mi.current!==Ci)throw Error(a(168));Ei(Mi,t),Ei(Ti,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Mi.current,Ei(Mi,e),Ei(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Mi),Ei(Mi,e)):Si(Ti),Ei(Ti,n)}var Wi=null,ji=!1,zi=!1;function Bi(e){null===Wi?Wi=[e]:Wi.push(e)}function Ui(){if(!zi&&null!==Wi){zi=!0;var e=0,t=bt;try{var n=Wi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wi=null,ji=!1}catch(i){throw null!==Wi&&(Wi=Wi.slice(e+1)),Xe(Ze,Ui),i}finally{bt=t,zi=!1}}return null}var Hi=[],Vi=0,Gi=null,qi=0,Xi=[],Yi=0,Ki=null,Qi=1,$i="";function Ji(e,t){Hi[Vi++]=qi,Hi[Vi++]=Gi,Gi=e,qi=t}function Zi(e,t,n){Xi[Yi++]=Qi,Xi[Yi++]=$i,Xi[Yi++]=Ki,Ki=e;var r=Qi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,$i=a+e}else Qi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,$i=Xi[--Yi],Xi[Yi]=null,Qi=Xi[--Yi],Xi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(a(418));for(;t;)sa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var pa=w.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ai(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(s=0,c=u=l=null,o=a;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,p=o;switch(d=t,f=n,p.tag){case 1:if("function"===typeof(v=p.payload)){h=v.call(f,h,d);break e}h=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(d="function"===typeof(v=p.payload)?v.call(f,h,d):v)||void 0===d)break e;h=F({},h,d);break e;case 2:Pa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=h}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(nu(t,e,r,n),Da(t,e,r))}};function Ua(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Li(t)?Pi:Mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Li(t)?Pi:Mi.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Ya(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case x:return(t=Wu(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);Xa(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function p(i,a,o,l){for(var u=null,c=null,h=a,p=a=0,g=null;null!==h&&p<o.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,o[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=s(m,a,p),null===c?u=m:c.sibling=m,c=m,h=g}if(p===o.length)return n(i,h),ia&&Ji(i,p),u;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(a=s(h,a,p),null===c?u=h:c.sibling=h,c=h);return ia&&Ji(i,p),u}for(h=r(i,h);p<o.length;p++)null!==(g=v(h,i,p,o[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=s(g,a,p),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,p),u}function g(i,o,l,u){var c=D(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,p=o,g=o=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,y.value,u);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,g),null===h?c=b:h.sibling=b,h=b,p=m}if(y.done)return n(i,p),ia&&Ji(i,g),c;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(o=s(y,o,g),null===h?c=y:h.sibling=y,h=y);return ia&&Ji(i,g),c}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=v(p,i,g,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=s(y,o,g),null===h?c=y:h.sibling=y,h=y);return e&&p.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),c}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,s.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,s.props)).ref=qa(r,c,s),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===_?((a=Du(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Iu(s.type,s.key,s.props,null,r.mode,l)).ref=qa(r,a,s),l.return=r,r=l)}return o(r);case x:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Wu(s,r.mode,l)).return=r,r=a}return o(r);case L:return e(r,a,(c=s._init)(s._payload),l)}if(te(s))return p(r,a,s,l);if(D(s))return g(r,a,s,l);Xa(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Fu(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Qa=Ka(!0),$a=Ka(!1),Ja={},Za=Ai(Ja),es=Ai(Ja),ts=Ai(Ja);function ns(e){if(e===Ja)throw Error(a(174));return e}function rs(e,t){switch(Ei(ts,t),Ei(es,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function is(){Si(Za),Si(es),Si(ts)}function as(e){ns(ts.current);var t=ns(Za.current),n=le(t,e.type);t!==n&&(Ei(es,e),Ei(Za,n))}function ss(e){es.current===e&&(Si(Za),Si(es))}var os=Ai(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function cs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,ds=w.ReactCurrentBatchConfig,fs=0,vs=null,ps=null,gs=null,ms=!1,ys=!1,bs=0,ws=0;function ks(){throw Error(a(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function _s(e,t,n,r,i,s){if(fs=s,vs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),ys){s=0;do{if(ys=!1,bs=0,25<=s)throw Error(a(301));s+=1,gs=ps=null,t.updateQueue=null,hs.current=lo,e=n(r,i)}while(ys)}if(hs.current=ao,t=null!==ps&&null!==ps.next,fs=0,gs=ps=vs=null,ms=!1,t)throw Error(a(300));return e}function As(){var e=0!==bs;return bs=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gs?vs.memoizedState=gs=e:gs=gs.next=e,gs}function Es(){if(null===ps){var e=vs.alternate;e=null!==e?e.memoizedState:null}else e=ps.next;var t=null===gs?vs.memoizedState:gs.next;if(null!==t)gs=t,ps=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ps=e).memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},null===gs?vs.memoizedState=gs=e:gs=gs.next=e}return gs}function Cs(e,t){return"function"===typeof t?t(e):t}function Ms(e){var t=Es(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ps,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((fs&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,vs.lanes|=h,Ol|=h}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,vs.lanes|=s,Ol|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ts(e){var t=Es(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(wo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function Rs(e,t){var n=vs,r=Es(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,wo=!0),r=r.queue,Hs(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==gs&&1&gs.memoizedState.tag){if(n.flags|=2048,Ws(9,Ns.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&fs)||Ls(n,t,i)}return i}function Ls(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vs.updateQueue)?(t={lastEffect:null,stores:null},vs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,Ds(t)&&Os(e)}function Is(e,t,n){return n((function(){Ds(t)&&Os(e)}))}function Ds(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Os(e){var t=Ta(e,1);null!==t&&nu(t,e,1,-1)}function Fs(e){var t=Ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,vs,e),[t.memoizedState,e]}function Ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vs.updateQueue)?(t={lastEffect:null,stores:null},vs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return Es().memoizedState}function zs(e,t,n,r){var i=Ss();vs.flags|=e,i.memoizedState=Ws(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Es();r=void 0===r?null:r;var a=void 0;if(null!==ps){var s=ps.memoizedState;if(a=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Ws(t,n,a,r))}vs.flags|=e,i.memoizedState=Ws(1|t,n,a,r)}function Us(e,t){return zs(8390656,8,e,t)}function Hs(e,t){return Bs(2048,8,e,t)}function Vs(e,t){return Bs(4,2,e,t)}function Gs(e,t){return Bs(4,4,e,t)}function qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,qs.bind(null,t,e),n)}function Ys(){}function Ks(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),vs.lanes|=n,Ol|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ds.transition;ds.transition={};try{e(!1),t()}finally{bt=n,ds.transition=r}}function Zs(){return Es().memoizedState}function eo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ma(e,t,n,r))){nu(n,e,r,eu()),io(n,t,r)}}function to(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ca(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ma(e,t,i,r))&&(nu(n,e,r,i=eu()),io(n,t,r))}}function no(e){var t=e.alternate;return e===vs||null!==t&&t===vs}function ro(e,t){ys=ms=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ao={readContext:Sa,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},so={readContext:Sa,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Us,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,vs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:Fs,useDebugValue:Ys,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=Js.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vs,i=Ss();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&fs)||Ls(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Us(Is.bind(null,r,s,e),[e]),r.flags|=2048,Ws(9,Ns.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Tl.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Sa,useCallback:Ks,useContext:Sa,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:Ms,useRef:js,useState:function(){return Ms(Cs)},useDebugValue:Ys,useDeferredValue:function(e){return $s(Es(),ps.memoizedState,e)},useTransition:function(){return[Ms(Cs)[0],Es().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:Zs,unstable_isNewReconciler:!1},lo={readContext:Sa,useCallback:Ks,useContext:Sa,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:Ts,useRef:js,useState:function(){return Ts(Cs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Es();return null===ps?t.memoizedState=e:$s(t,ps.memoizedState,e)},useTransition:function(){return[Ts(Cs)[0],Es().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:Zs,unstable_isNewReconciler:!1};function uo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=r),ho(0,t)},n}function po(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function ko(e,t,n,r){t.child=null===e?$a(t,null,n,r):Qa(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=_s(e,t,n,r,a,i),n=As(),null===e||wo?(ia&&n&&ea(t),t.flags|=1,ko(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ao(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Nu(a,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Nl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Nl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Nl,Ll),Ll|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Nl,Ll),Ll|=r;return ko(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var a=Li(n)?Pi:Mi.current;return a=Ri(t,a),Aa(t,i),n=_s(e,t,n,r,a,i),r=As(),null===e||wo?(ia&&r&&ea(t),t.flags|=1,ko(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Mo(e,t,n,r,i){if(Li(n)){var a=!0;Oi(t)}else a=!1;if(Aa(t,i),null===t.stateNode)Ho(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Sa(u):u=Ri(t,u=Li(n)?Pi:Mi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&Va(t,s,r,u),Pa=!1;var d=t.memoizedState;s.state=d,Fa(t,r,s,i),l=t.memoizedState,o!==r||d!==l||Ti.current||Pa?("function"===typeof c&&(za(t,n,c,r),l=t.memoizedState),(o=Pa||Ua(t,n,o,r,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,La(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ga(t.type,o),s.props=u,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Ri(t,l=Li(n)?Pi:Mi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Va(t,s,r,l),Pa=!1,d=t.memoizedState,s.state=d,Fa(t,r,s,i);var v=t.memoizedState;o!==h||d!==v||Ti.current||Pa?("function"===typeof f&&(za(t,n,f,r),v=t.memoizedState),(u=Pa||Ua(t,n,u,r,d,v,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,v,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,v,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,a,i)}function To(e,t,n,r,i,a){Eo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Vo(e,t,a);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,o,a)):ko(e,t,o,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),rs(e,t.containerInfo)}function Ro(e,t,n,r,i){return fa(),va(i),t.flags|=256,ko(e,t,n,r),t.child}var Lo,No,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(os,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ou(l,i,0,null),e=Du(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):Wo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,jo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ou({mode:"visible",children:r.children},i,0,null),(s=Du(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return jo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,jo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ta(e,i),nu(r,e,i,-1))}return pu(),jo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Yi++]=Qi,Xi[Yi++]=$i,Xi[Yi++]=Ki,Qi=e.id,$i=e.overflow,Ki=t),(t=Wo(t,r.children)).flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Nu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Nu(r,o):(o=Du(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Nu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wo(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jo(e,t,n,r){return null!==r&&va(r),Qa(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ko(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Li(t.type)&&Ni(),qo(t),null;case 3:return r=t.stateNode,is(),Si(Ti),Si(Mi),cs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),qo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)No(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qo(t),null}if(e=ns(Za.current),ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Lo(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&jr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Io(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qo(t),null;case 13:if(Si(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),fa(),t.flags|=98560,s=!1;else if(s=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[di]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),s=!1}else null!==aa&&(su(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Il&&(Il=3):pu())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return is(),null===e&&Ur(t.stateNode.containerInfo),qo(t),null;case 10:return xa(t.type._context),qo(t),null;case 19:if(Si(os),null===(s=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Go(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Go(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Ul&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return qo(t),null}else 2*$e()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=os.current,Ei(os,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Si(Ti),Si(Mi),cs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Si(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(os),null;case 4:return is(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},No=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns(Za.current);var a,s=null;switch(n){case"input":i=K(e,i),r=K(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Au(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Au(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Au(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,dl(e,t,n),Qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));fl(s,o,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Au(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Au(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Au(e,e.return,g)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Au(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,o);var c=be(l,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;null!=v?ne(i,!!s.multiple,v,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Au(e,e.return,g)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Au(e,e.return,g)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Au(e,e.return,g)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&vl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(c=Qo)||h,pl(t,e),Qo=c):pl(t,e),ml(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(v=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Au(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==v?(v.return=f,Jo=v):kl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",o))}catch(g){Au(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Au(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),ml(e),4&r&&vl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Au(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ko;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Ko;var u=Qo;if(Ko=s,(Qo=l)&&!u)for(Jo=i;null!==Jo;)l=(s=Jo).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Jo=l):xl(i);for(;null!==a;)Jo=a,bl(a,t,n),a=a.sibling;Jo=i,Ko=o,Qo=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Jo=a):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&il(t)}catch(f){Au(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Au(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Au(t,i,l)}}var a=t.return;try{il(t)}catch(l){Au(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Au(t,s,l)}}}catch(l){Au(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var _l,Al=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Ml=0,Tl=null,Pl=null,Rl=0,Ll=0,Nl=Ai(0),Il=0,Dl=null,Ol=0,Fl=0,Wl=0,jl=null,zl=null,Bl=0,Ul=1/0,Hl=null,Vl=!1,Gl=null,ql=null,Xl=!1,Yl=null,Kl=0,Ql=0,$l=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Ml)?$e():-1!==Jl?Jl:Jl=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Rl?Rl&-Rl:null!==pa.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(a(185));mt(e,n,r),0!==(2&Ml)&&e===Tl||(e===Tl&&(0===(2&Ml)&&(Fl|=n),4===Il&&ou(e,Rl)),ru(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Ul=$e()+500,ji&&Ui()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Tl?Rl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),si((function(){0===(6&Ml)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Ml))throw Error(a(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Ml;Ml|=2;var s=vu();for(Tl===e&&Rl===t||(Hl=null,Ul=$e()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}ka(),Sl.current=s,Ml=i,null!==Pl?t=0:(Tl=null,Rl=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=au(e,i))),1===t)throw n=Dl,du(e,0),ou(e,r),ru(e,$e()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(s=vt(e))&&(r=s,t=au(e,s))),1===t))throw n=Dl,du(e,0),ou(e,r),ru(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:ku(e,zl,Hl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(ku.bind(null,e,zl,Hl),t);break}ku(e,zl,Hl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ri(ku.bind(null,e,zl,Hl),r);break}ku(e,zl,Hl);break;default:throw Error(a(329))}}}return ru(e,$e()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zl,zl=n,null!==t&&su(t)),e}function su(e){null===zl?zl=e:zl.push.apply(zl,e)}function ou(e,t){for(t&=~Wl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Ml))throw Error(a(327));xu();var t=dt(e,0);if(0===(1&t))return ru(e,$e()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Dl,du(e,0),ou(e,t),ru(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,zl,Hl),ru(e,$e()),null}function uu(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Ul=$e()+500,ji&&Ui())}}function cu(e){null!==Yl&&0===Yl.tag&&0===(6&Ml)&&xu();var t=Ml;Ml|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Ml=t))&&Ui()}}function hu(){Ll=Nl.current,Si(Nl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:is(),Si(Ti),Si(Mi),cs();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Si(os);break;case 10:xa(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Tl=e,Pl=e=Nu(e.current,null),Rl=Ll=t,Il=0,Dl=null,Wl=Fl=Ol=0,zl=jl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Ea=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(ka(),hs.current=ao,ms){for(var r=vs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ms=!1}if(fs=0,gs=ps=vs=null,ys=!1,bs=0,El.current=null,null===n||null===n.return){Il=1,Dl=t,Pl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=mo(o);if(null!==v){v.flags&=-257,yo(v,o,l,0,t),1&v.mode&&go(s,c,t),u=c;var p=(t=v).updateQueue;if(null===p){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}if(0===(1&t)){go(s,c,t),pu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var m=mo(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yo(m,o,l,0,t),va(uo(u,l));break e}}s=u=uo(u,l),4!==Il&&(Il=2),null===jl?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Oa(s,vo(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Oa(s,po(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function vu(){var e=Sl.current;return Sl.current=ao,null===e?ao:e}function pu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Ol)&&0===(268435455&Fl)||ou(Tl,Rl)}function gu(e,t){var n=Ml;Ml|=2;var r=vu();for(Tl===e&&Rl===t||(Hl=null,du(e,t));;)try{mu();break}catch(i){fu(e,i)}if(ka(),Ml=n,Sl.current=r,null!==Pl)throw Error(a(261));return Tl=null,Rl=0,Il}function mu(){for(;null!==Pl;)bu(Pl)}function yu(){for(;null!==Pl&&!Ke();)bu(Pl)}function bu(e){var t=_l(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Ll)))return void(Pl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function ku(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Yl);if(0!==(6&Ml))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Tl&&(Pl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tu(tt,(function(){return xu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Ml;Ml|=4,El.current=null,function(e,t){if(ei=Vt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var v;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(v=d.firstChild);)f=d,d=v;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===s&&++h===r&&(u=o),null!==(v=d.nextSibling))break;f=(d=f).parentNode}d=v}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Au(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}p=tl,tl=!1}(e,n),gl(n,e),vr(ti),Vt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Ml=l,bt=o,Cl.transition=s}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=i),0===(s=e.pendingLanes)&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&xu(),0!==(1&(s=e.pendingLanes))?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Ui()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function xu(){if(null!==Yl){var e=wt(Kl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Ml))throw Error(a(331));var i=Ml;for(Ml|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!==(16&Jo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Jo=c;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var f=(h=Jo).sibling,v=h.return;if(al(h),h===c){Jo=null;break}if(null!==f){f.return=v,Jo=f;break}Jo=v}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Jo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Jo=y;break e}Jo=s.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Au(l,l.return,x)}if(l===o){Jo=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Jo=k;break e}Jo=l.return}}if(Ml=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function _u(e,t,n){e=Ia(e,t=vo(0,t=uo(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),ru(e,t))}function Au(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ia(t,e=po(t,e=uo(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>$e()-Bl?du(e,0):Wl|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ta(e,t))&&(mt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}function Tu(e,t){return Xe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Lu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Du(n.children,i,s,t);case A:o=8,i|=8;break;case S:return(e=Ru(12,n,t,2|i)).elementType=S,e.lanes=s,e;case T:return(e=Ru(13,n,t,i)).elementType=T,e.lanes=s,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=s,e;case N:return Ou(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case M:o=11;break e;case R:o=14;break e;case L:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Du(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,a,s,o,l){return e=new ju(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Di(e,n,t)}return t}function Hu(e,t,n,r,i,a,s,o,l){return(e=zu(n,r,!0,e,0,a,0,o,l)).context=Uu(null),n=e.current,(a=Na(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Ia(n,a,i),e.current.lanes=i,mt(e,i,r),ru(e,r),e}function Vu(e,t,n,r){var i=t.current,a=eu(),s=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,s))&&(nu(e,i,s,a),Da(e,i,s)),s}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fa();break;case 5:as(t);break;case 1:Li(t.type)&&Oi(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ei(os,1&os.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ei(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Vo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ri(t,Mi.current);Aa(t,n),i=_s(null,t,r,e,i,n);var s=As();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=To(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===R)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Mo(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Po(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,La(e,t),Fa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ro(e,t,r,n,i=uo(Error(a(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=uo(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Vo(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&ua(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Eo(e,t),ko(e,t,o,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ei(ma,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ti.current){t=Vo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Na(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Sa(i)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),_o(e,t,r,i=ga(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Ho(e,t),t.tag=1,Li(r)?(e=!0,Oi(t)):e=!1,Aa(t,n),Ha(t,r,i),Ga(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Gu(s);o.call(e)}}Vu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gu(s);a.call(e)}}var s=Hu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[vi]=s.current,Ur(8===e.nodeType?e.parentNode:e),cu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Gu(l);o.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[vi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Vu(t,l,n,r)})),l}(n,t,e,i,r);return Gu(s)}Qu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vu(e,t,null,null)},Qu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Vu(null,e,null,null)})),t[vi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,$e()),0===(6&Ml)&&(Ul=$e()+500,Ui()))}break;case 13:cu((function(){var t=Ta(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Xu(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nu(t,e,134217728,eu());Xu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Ta(e,t);if(null!==n)nu(n,e,t,eu());Xu(e,t)}},At=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uu,Te=cu;var tc={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,Ce,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(a(200));return Bu(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,s,o),e[vi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,p(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+M(l,0):a,k(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",k(e))for(var u=0;u<e.length;u++){var c=a+M(o=e[u],u);l+=T(o,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,c=a+M(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},N={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!A.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new M(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=S(s,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?v:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}(e,n,s),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",v="completed",p={};function g(){}function m(){}function y(){}var b={};l(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,a)&&(b=k);var x=y.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,o){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,l(x,"constructor",y),l(y,"constructor",m),m.displayName=l(y,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(A.prototype),l(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(x),l(x,o,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,v=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,w(e),!p)if(null!==r(u))p=!0,N(x);else{var t=r(c);null!==t&&I(k,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,y(E),E=-1),v=!0;var a=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!T());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&I(k,h.startTime-n),l=!1}return l}finally{d=null,f=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,A=!1,S=null,E=-1,C=5,M=-1;function T(){return!(t.unstable_now()-M<C)}function P(){if(null!==S){var e=t.unstable_now();M=e;var n=!0;try{n=S(!0,e)}finally{n?_():(A=!1,S=null)}}else A=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=P,_=function(){L.postMessage(null)}}else _=function(){m(P,0)};function N(e){S=e,A||(A=!0,_())}function I(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,N(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(E),E=-1):g=!0,I(k,a-s))):(e.sortIndex=o,n(u,e),p||v||(p=!0,N(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},643:function(e,t,n){var r=n(61).default,i=n(156).default,a=n(83),s=function(){var e=i(r().mark((function e(t,n,s){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n,1,s);case 2:return o=e.sent,e.abrupt("return",o.recognize(t).finally(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.terminate();case 2:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o=function(){var e=i(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("osd",0,n);case 2:return s=e.sent,e.abrupt("return",s.detect(t).finally(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.terminate();case 2:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e.exports={recognize:s,detect:o}},475:function(e){e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},39:function(e){e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},139:function(e){e.exports={workerBlobURL:!0,logger:function(){}}},982:function(e){e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},638:function(e,t,n){var r=n(709),i=0;e.exports=function(e){var t=e.id,n=e.action,a=e.payload,s=void 0===a?{}:a,o=t;return"undefined"===typeof o&&(o=r("Job",i),i+=1),{id:o,action:n,payload:s}}},86:function(e,t,n){var r=n(61).default,i=n(861).default,a=n(156).default,s=this,o=n(638),l=n(287).log,u=n(709),c=0;e.exports=function(){var e=u("Scheduler",c),t={},n={},h=[];c+=1;var d=function(){return Object.keys(t).length},f=function(){if(0!==h.length)for(var e=Object.keys(t),r=0;r<e.length;r+=1)if("undefined"===typeof n[e[r]]){h[0](t[e[r]]);break}},v=function(t,u){return new Promise((function(c,d){var v=o({action:t,payload:u});h.push(function(){var e=a(r().mark((function e(a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.shift(),n[a.id]=v,e.prev=2,e.t0=c,e.next=6,a[t].apply(s,[].concat(i(u),[v.id]));case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(2),d(e.t2);case 13:return e.prev=13,delete n[a.id],f(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,10,13,17]])})));return function(t){return e.apply(this,arguments)}}()),l("[".concat(e,"]: Add ").concat(v.id," to JobQueue")),l("[".concat(e,"]: JobQueue length=").concat(h.length)),f()}))},p=function(){var t=a(r().mark((function t(n){var i,a,s,o=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==d()){t.next=2;break}throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));case 2:for(i=o.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=o[s];return t.abrupt("return",v(n,a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(t).forEach(function(){var e=a(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[n].terminate();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=[];case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{addWorker:function(n){return t[n.id]=n,l("[".concat(e,"]: Add ").concat(n.id)),l("[".concat(e,"]: Number of workers=").concat(d())),f(),n.id},addJob:p,terminate:g,getQueueLen:function(){return h.length},getNumWorkers:d}}},83:function(e,t,n){var r=n(61).default,i=n(861).default,a=n(122).default,s=n(215).default,o=n(156).default,l=["logger","errorHandler"],u=n(220),c=n(638),h=n(287).log,d=n(709),f=n(475),v=n(516),p=v.defaultOptions,g=v.spawnWorker,m=v.terminateWorker,y=v.onMessage,b=v.loadImage,w=v.send,k=0;e.exports=o(r().mark((function e(){var t,n,v,x,_,A,S,E,C,M,T,P,R,L,N,I,D,O,F,W,j,z,B,U,H,V,G,q,X,Y,K,Q,$,J,Z=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z.length>0&&void 0!==Z[0]?Z[0]:"eng",n=Z.length>1&&void 0!==Z[1]?Z[1]:f.LSTM_ONLY,v=Z.length>2&&void 0!==Z[2]?Z[2]:{},x=Z.length>3&&void 0!==Z[3]?Z[3]:{},_=d("Worker",k),A=u(a(a({},p),v)),S=A.logger,E=A.errorHandler,C=s(A,l),M={},T="string"===typeof t?t.split("+"):t,P=n,R=x,L=[f.DEFAULT,f.LSTM_ONLY].includes(n)&&!C.legacyCore,D=new Promise((function(e,t){I=e,N=t})),O=function(e){N(e.message)},(F=g(C)).onerror=O,k+=1,W=function(e){var t=e.id,n=e.action,r=e.payload;return new Promise((function(e,i){h("[".concat(_,"]: Start ").concat(t,", action=").concat(n));var a="".concat(n,"-").concat(t);M[a]={resolve:e,reject:i},w(F,{workerId:_,jobId:t,action:n,payload:r})}))},j=function(){return console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)")},z=function(e){return W(c({id:e,action:"load",payload:{options:{lstmOnly:L,corePath:C.corePath,logging:C.logging}}}))},B=function(e,t,n){return W(c({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}}))},U=function(e,t){return W(c({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}}))},H=function(e,t){return W(c({id:t,action:"FS",payload:{method:"unlink",args:[e]}}))},V=function(e,t,n){return W(c({id:n,action:"FS",payload:{method:e,args:t}}))},G=function(e,t){return W(c({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:C.langPath,dataPath:C.dataPath,cachePath:C.cachePath,cacheMethod:C.cacheMethod,gzip:C.gzip,lstmOnly:[f.DEFAULT,f.LSTM_ONLY].includes(P)&&!C.legacyLang}}}))},q=function(e,t,n,r){return W(c({id:r,action:"initialize",payload:{langs:e,oem:t,config:n}}))},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(L&&[f.TESSERACT_ONLY,f.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");var a=t||P;P=a;var s=n||R;R=s;var o="string"===typeof e?e.split("+"):e,l=o.filter((function(e){return!T.includes(e)}));return T.push.apply(T,i(l)),l.length>0?G(l,r).then((function(){return q(e,a,s,r)})):q(e,a,s,r)},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return W(c({id:t,action:"setParameters",payload:{params:e}}))},K=function(){var e=o(r().mark((function e(t){var n,i,a,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},i=s.length>2&&void 0!==s[2]?s[2]:{text:!0},a=s.length>3?s[3]:void 0,e.t0=W,e.t1=c,e.t2=a,e.next=8,b(t);case 8:return e.t3=e.sent,e.t4=n,e.t5=i,e.t6={image:e.t3,options:e.t4,output:e.t5},e.t7={id:e.t2,action:"recognize",payload:e.t6},e.t8=(0,e.t1)(e.t7),e.abrupt("return",(0,e.t0)(e.t8));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=o(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=2;break}throw Error("`worker.detect` requires Legacy model, which was not loaded.");case 2:return e.t0=W,e.t1=c,e.t2=n,e.next=7,b(t);case 7:return e.t3=e.sent,e.t4={image:e.t3},e.t5={id:e.t2,action:"detect",payload:e.t4},e.t6=(0,e.t1)(e.t5),e.abrupt("return",(0,e.t0)(e.t6));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==F&&(m(F),F=null),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y(F,(function(e){var t=e.workerId,n=e.jobId,r=e.status,i=e.action,s=e.data,o="".concat(i,"-").concat(n);if("resolve"===r)h("[".concat(t,"]: Complete ").concat(n)),M[o].resolve({jobId:n,data:s}),delete M[o];else if("reject"===r){if(M[o].reject(s),delete M[o],"load"===i&&N(s),!E)throw Error(s);E(s)}else"progress"===r&&S(a(a({},s),{},{userJobId:n}))})),J={id:_,worker:F,load:j,writeText:B,readText:U,removeFile:H,FS:V,reinitialize:X,setParameters:Y,recognize:K,detect:Q,terminate:$},z().then((function(){return G(t)})).then((function(){return q(t,n,x)})).then((function(){return I(J)})).catch((function(){})),e.abrupt("return",D);case 34:case"end":return e.stop()}}),e)})))},362:function(e,t,n){var r=n(122).default;n(727);var i=n(86),a=n(83),s=n(643),o=n(982),l=n(475),u=n(39),c=n(287).setLogging;e.exports=r({languages:o,OEM:l,PSM:u,createScheduler:i,createWorker:a,setLogging:c},s)},291:function(e){e.exports=function(e){var t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},709:function(e){e.exports=function(e,t){return"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))}},287:function(e,t){var n=this,r=!1;t.logging=r,t.setLogging=function(e){r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r?console.log.apply(n,t):null}},220:function(e,t,n){var r=n(122).default,i="browser"===n(291)("type")?function(e){return new URL(e,window.location.href).href}:function(e){return e};e.exports=function(e){var t=r({},e);return["corePath","workerPath","langPath"].forEach((function(n){e[n]&&(t[n]=i(t[n]))})),t}},993:function(e,t,n){var r=n(122).default,i=n(547).i8,a=n(139);e.exports=r(r({},a),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(i,"/dist/worker.min.js")})},516:function(e,t,n){var r=n(993),i=n(778),a=n(821),s=n(183),o=n(766),l=n(752);e.exports={defaultOptions:r,spawnWorker:i,terminateWorker:a,onMessage:s,send:o,loadImage:l}},752:function(e,t,n){var r=n(61).default,i=n(156).default,a=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(e){var t=e.target.error.code;n(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)}))},s=function(){var e=i(r().mark((function e(t){var n,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"undefined"!==typeof t){e.next=3;break}return e.abrupt("return","undefined");case 3:if("string"!==typeof t){e.next=16;break}if(!/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)){e.next=8;break}n=atob(t.split(",")[1]).split("").map((function(e){return e.charCodeAt(0)})),e.next=14;break;case 8:return e.next=10,fetch(t);case 10:return o=e.sent,e.next=13,o.arrayBuffer();case 13:n=e.sent;case 14:e.next=43;break;case 16:if(!("undefined"!==typeof HTMLElement&&t instanceof HTMLElement)){e.next=30;break}if("IMG"!==t.tagName){e.next=21;break}return e.next=20,s(t.src);case 20:n=e.sent;case 21:if("VIDEO"!==t.tagName){e.next=25;break}return e.next=24,s(t.poster);case 24:n=e.sent;case 25:if("CANVAS"!==t.tagName){e.next=28;break}return e.next=28,new Promise((function(e){t.toBlob(function(){var t=i(r().mark((function t(i){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(i);case 2:n=t.sent,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 28:e.next=43;break;case 30:if(!("undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)){e.next=39;break}return e.next=33,t.convertToBlob();case 33:return l=e.sent,e.next=36,a(l);case 36:n=e.sent,e.next=43;break;case 39:if(!(t instanceof File||t instanceof Blob)){e.next=43;break}return e.next=42,a(t);case 42:n=e.sent;case 43:return e.abrupt("return",new Uint8Array(n));case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.exports=s},183:function(e){e.exports=function(e,t){e.onmessage=function(e){var n=e.data;t(n)}}},766:function(e,t,n){var r=n(61).default,i=n(156).default;e.exports=function(){var e=i(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage(n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},778:function(e){e.exports=function(e){var t,n=e.workerPath,r=e.workerBlobURL;if(Blob&&URL&&r){var i=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(i))}else t=new Worker(n);return t}},821:function(e){e.exports=function(e){e.terminate()}},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},156:function(e){function t(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var s=e.apply(n,r);function o(e){t(s,i,a,o,l,"next",e)}function l(e){t(s,i,a,o,l,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},122:function(e,t,n){var r=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(71);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},71:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=_(s,n);if(o){if(o===f)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=h;var f={};function v(){}function p(){}function g(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==n&&a.call(b,o)&&(m=b);var w=g.prototype=v.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,s,o,l){var u=d(e[i],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=g,c(w,"constructor",g),c(g,"constructor",p),p.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var s=new x(h(e,n,r,i),a);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(w),c(w,u,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),s=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},547:function(e){"use strict";e.exports={i8:"6.0.0"}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return Ee},hasStandardBrowserEnv:function(){return Me},hasStandardBrowserWebWorkerEnv:function(){return Te},navigator:function(){return Ce},origin:function(){return Pe}});var t=n(791),r=n(250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(M){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=x(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=h(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=c;var d={};function f(){}function v(){}function p(){}var g={};u(g,s,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,s)&&(g=y);var b=p.prototype=f.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,s,o,l){var u=h(e[a],e,s);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(u.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=p,u(b,"constructor",p),u(p,"constructor",v),v.displayName=u(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(b),u(b,l,"Generator"),u(b,s,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)}))}}function l(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||c(e,t)||h()}var f=n(362);function v(e,t){return function(){return e.apply(t,arguments)}}var p,g=Object.prototype.toString,m=Object.getPrototypeOf,y=(p=Object.create(null),function(e){var t=g.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())}),b=function(e){return e=e.toLowerCase(),function(t){return y(t)===e}},w=function(e){return function(t){return typeof t===e}},k=Array.isArray,x=w("undefined");var _=b("ArrayBuffer");var A=w("string"),S=w("function"),E=w("number"),C=function(e){return null!==e&&"object"===typeof e},M=function(e){if("object"!==y(e))return!1;var t=m(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},T=b("Date"),P=b("File"),R=b("Blob"),L=b("FileList"),N=b("URLSearchParams"),I=d(["ReadableStream","Request","Response","Headers"].map(b),4),D=I[0],O=I[1],F=I[2],W=I[3];function j(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,s=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),k(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,l=s?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;for(n=0;n<u;n++)o=l[n],t.call(null,e[o],o,e)}}function z(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,U=function(e){return!x(e)&&e!==B};var H,V=(H="undefined"!==typeof Uint8Array&&m(Uint8Array),function(e){return H&&e instanceof H}),G=b("HTMLFormElement"),q=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),X=b("RegExp"),Y=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};j(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},K="abcdefghijklmnopqrstuvwxyz",Q="0123456789",$={DIGIT:Q,ALPHA:K,ALPHA_DIGIT:K+K.toUpperCase()+Q};var J=b("AsyncFunction"),Z=function(e,t){return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],B.addEventListener("message",(function(e){var t=e.source,i=e.data;t===B&&i===n&&r.length&&r.shift()()}),!1),function(e){r.push(e),B.postMessage(n,"*")}):function(e){return setTimeout(e)};var n,r}("function"===typeof setImmediate,S(B.postMessage)),ee="undefined"!==typeof queueMicrotask?queueMicrotask.bind(B):"undefined"!==typeof process&&process.nextTick||Z,te={isArray:k,isArrayBuffer:_,isBuffer:function(e){return null!==e&&!x(e)&&null!==e.constructor&&!x(e.constructor)&&S(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||S(e.append)&&("formdata"===(t=y(e))||"object"===t&&S(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_(e.buffer)},isString:A,isNumber:E,isBoolean:function(e){return!0===e||!1===e},isObject:C,isPlainObject:M,isReadableStream:D,isRequest:O,isResponse:F,isHeaders:W,isUndefined:x,isDate:T,isFile:P,isBlob:R,isRegExp:X,isFunction:S,isStream:function(e){return C(e)&&S(e.pipe)},isURLSearchParams:N,isTypedArray:V,isFileList:L,forEach:j,merge:function e(){for(var t=U(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&z(r,i)||i;M(r[a])&&M(t)?r[a]=e(r[a],t):M(t)?r[a]=e({},t):k(t)?r[a]=t.slice():r[a]=t},a=0,s=arguments.length;a<s;a++)arguments[a]&&j(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return j(t,(function(t,r){n&&S(t)?e[r]=v(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,s,o={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&m(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:y,kindOfTest:b,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(k(e))return e;var t=e.length;if(!E(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:G,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:Y,freezeMethods:function(e){Y(e,(function(t,n){if(S(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];S(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return k(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:z,global:B,isContextDefined:U,ALPHABET:$,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&S(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(C(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=k(n)?[]:{};return j(n,(function(t,n){var a=e(t,r+1);!x(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:J,isThenable:function(e){return e&&(C(e)||S(e))&&S(e.then)&&S(e.catch)},setImmediate:Z,asap:ee};function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});var se=ae.prototype,oe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){oe[e]={value:e}})),Object.defineProperties(ae,oe),Object.defineProperty(se,"isAxiosError",{value:!0}),ae.from=function(e,t,n,r,i,a){var s=Object.create(se);return te.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),ae.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var le=ae;function ue(e){return te.isPlainObject(e)||te.isArray(e)}function ce(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function he(e,t,n){return e?e.concat(t).map((function(e,t){return e=ce(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var de=te.toFlatObject(te,{},null,(function(e){return/^is[A-Z]/.test(e)}));var fe=function(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!te.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(te.isDate(e))return e.toISOString();if(!o&&te.isBlob(e))throw new le("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(e)||te.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){var o=e;if(e&&!i&&"object"===typeof e)if(te.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(te.isArray(e)&&function(e){return te.isArray(e)&&!e.some(ue)}(e)||(te.isFileList(e)||te.endsWith(n,"[]"))&&(o=te.toArray(e)))return n=ce(n),o.forEach((function(e,r){!te.isUndefined(e)&&null!==e&&t.append(!0===s?he([n],r,a):null===s?n:n+"[]",l(e))})),!1;return!!ue(e)||(t.append(he(i,n,a),l(e)),!1)}var c=[],h=Object.assign(de,{defaultVisitor:u,convertValue:l,isVisitable:ue});if(!te.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!te.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),te.forEach(n,(function(n,a){!0===(!(te.isUndefined(n)||null===n)&&i.call(t,n,te.isString(a)?a.trim():a,r,h))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function ve(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function pe(e,t){this._pairs=[],e&&fe(e,this,t)}var ge=pe.prototype;ge.append=function(e,t){this._pairs.push([e,t])},ge.toString=function(e){var t=e?function(t){return e.call(this,t,ve)}:ve;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var me=pe;function ye(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function be(e,t,n){if(!t)return e;var r=n&&n.encode||ye;te.isFunction(n)&&(n={serialize:n});var i,a=n&&n.serialize;if(i=a?a(t,n):te.isURLSearchParams(t)?t.toString():new me(t,n).toString(r)){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var we=function(){function e(){ne(this,e),this.handlers=[]}return ie(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){te.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ke={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:me,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ee="undefined"!==typeof window&&"undefined"!==typeof document,Ce="object"===typeof navigator&&navigator||void 0,Me=Ee&&(!Ce||["ReactNative","NativeScript","NS"].indexOf(Ce.product)<0),Te="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Pe=Ee&&window.location.href||"http://localhost",Re=Ae(Ae({},e),Se);var Le=function(e){function t(e,n,r,i){var a=e[i++];if("__proto__"===a)return!0;var s=Number.isFinite(+a),o=i>=e.length;return a=!a&&te.isArray(r)?r.length:a,o?(te.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s):(r[a]&&te.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&te.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!s)}if(te.isFormData(e)&&te.isFunction(e.entries)){var n={};return te.forEachEntry(e,(function(e,r){t(function(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var Ne={transitional:ke,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=te.isObject(e);if(a&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(Le(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fe(e,new Re.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Re.isNode&&te.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){var s=this.env&&this.env.FormData;return fe(n?{"files[]":e}:e,s&&new s,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Ne.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],(function(e){Ne.headers[e]={}}));var Ie=Ne;function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}var Oe=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fe=Symbol("internals");function We(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:te.isArray(e)?e.map(je):String(e)}function ze(e,t,n,r,i){return te.isFunction(r)?r.call(this,t,n):(i&&(t=n),te.isString(t)?te.isString(r)?-1!==t.indexOf(r):te.isRegExp(r)?r.test(t):void 0:void 0)}var Be=function(e,t){function n(e){ne(this,n),e&&this.set(e)}return ie(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=We(t);if(!i)throw new Error("header name must be a non-empty string");var a=te.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=je(e))}var a=function(e,t){return te.forEach(e,(function(e,n){return i(e,n,t)}))};if(te.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(te.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Oe[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t);else if(te.isHeaders(e)){var s,o=De(e.entries());try{for(o.s();!(s=o.n()).done;){var l=d(s.value,2),u=l[0];i(l[1],u,n)}}catch(c){o.e(c)}finally{o.f()}}else null!=e&&i(t,e,n);return this}},{key:"get",value:function(e,t){if(e=We(e)){var n=te.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(te.isFunction(t))return t.call(this,r,n);if(te.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=We(e)){var n=te.findKey(this,e);return!(!n||void 0===this[n]||t&&!ze(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=We(e)){var i=te.findKey(n,e);!i||t&&!ze(0,n[i],i,t)||(delete n[i],r=!0)}}return te.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!ze(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return te.forEach(this,(function(r,i){var a=te.findKey(n,i);if(a)return t[a]=je(r),void delete t[i];var s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();s!==i&&delete t[i],t[s]=je(r),n[s]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return te.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&te.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=d(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Fe]=this[Fe]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=We(e);t[r]||(!function(e,t){var n=te.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return te.isArray(e)?e.forEach(r):r(e),this}}]),n}();Be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),te.reduceDescriptors(Be.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),te.freezeMethods(Be);var Ue=Be;function He(e,t){var n=this||Ie,r=t||n,i=Ue.from(r.headers),a=r.data;return te.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Ve(e){return!(!e||!e.__CANCEL__)}function Ge(e,t,n){le.call(this,null==e?"canceled":e,le.ERR_CANCELED,t,n),this.name="CanceledError"}te.inherits(Ge,le,{__CANCEL__:!0});var qe=Ge;function Xe(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var Ye=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){var l=Date.now(),u=i[s];n||(n=l),r[a]=o,i[a]=l;for(var c=s,h=0;c!==a;)h+=r[c++],c%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),!(l-n<t)){var d=u&&l-u;return d?Math.round(1e3*h/d):void 0}}};var Ke=function(e,t){var n,r,i=0,a=1e3/t,s=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];t>=a?s(l,e):(n=l,r||(r=setTimeout((function(){r=null,s(n)}),a-t)))},function(){return n&&s(n)}]},Qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=Ye(50,250);return Ke((function(n){var a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o);r=a;var u=xe({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s},t?"download":"upload",!0);e(u)}),n)},$e=function(e,t){var n=null!=e;return[function(r){return t[0]({lengthComputable:n,total:e,loaded:r})},t[1]]},Je=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te.asap((function(){return e.apply(void 0,n)}))}};function Ze(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function et(e){return function(e){if(Array.isArray(e))return u(e)}(e)||Ze(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e){return l(e)||Ze(e)||c(e)||h()}var nt=Re.hasStandardBrowserEnv?function(e,t){return function(n){return n=new URL(n,Re.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)}}(new URL(Re.origin),Re.navigator&&/(msie|trident)/i.test(Re.navigator.userAgent)):function(){return!0},rt=Re.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var s=[e+"="+encodeURIComponent(t)];te.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),te.isString(r)&&s.push("path="+r),te.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function it(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var at=function(e){return e instanceof Ue?Ae({},e):e};function st(e,t){t=t||{};var n={};function r(e,t,n,r){return te.isPlainObject(e)&&te.isPlainObject(t)?te.merge.call({caseless:r},e,t):te.isPlainObject(t)?te.merge({},t):te.isArray(t)?t.slice():t}function i(e,t,n,i){return te.isUndefined(t)?te.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!te.isUndefined(t))return r(void 0,t)}function s(e,t){return te.isUndefined(t)?te.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:function(e,t,n){return i(at(e),at(t),0,!0)}};return te.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=l[r]||i,s=a(e[r],t[r],r);te.isUndefined(s)&&a!==o||(n[r]=s)})),n}var ot=function(e){var t,n=st({},e),r=n.data,i=n.withXSRFToken,a=n.xsrfHeaderName,s=n.xsrfCookieName,o=n.headers,l=n.auth;if(n.headers=o=Ue.from(o),n.url=be(it(n.baseURL,n.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),te.isFormData(r))if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(t=o.getContentType())){var u=tt(t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),c=u[0],h=u.slice(1);o.setContentType([c||"multipart/form-data"].concat(et(h)).join("; "))}if(Re.hasStandardBrowserEnv&&(i&&te.isFunction(i)&&(i=i(n)),i||!1!==i&&nt(n.url))){var d=a&&s&&rt.read(s);d&&o.set(a,d)}return n},lt="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a,s,o,l=ot(e),u=l.data,c=Ue.from(l.headers).normalize(),h=l.responseType,f=l.onUploadProgress,v=l.onDownloadProgress;function p(){s&&s(),o&&o(),l.cancelToken&&l.cancelToken.unsubscribe(r),l.signal&&l.signal.removeEventListener("abort",r)}var g=new XMLHttpRequest;function m(){if(g){var r=Ue.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Xe((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}}if(g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new le("Request aborted",le.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new le("Network Error",le.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",r=l.transitional||ke;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),n(new le(t,r.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,g)),g=null},void 0===u&&c.setContentType(null),"setRequestHeader"in g&&te.forEach(c.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),te.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),h&&"json"!==h&&(g.responseType=l.responseType),v){var y=d(Qe(v,!0),2);a=y[0],o=y[1],g.addEventListener("progress",a)}if(f&&g.upload){var b=d(Qe(f),2);i=b[0],s=b[1],g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",s)}(l.cancelToken||l.signal)&&(r=function(t){g&&(n(!t||t.type?new qe(null,e,g):t),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(r),l.signal&&(l.signal.aborted?r():l.signal.addEventListener("abort",r)));var w=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);w&&-1===Re.protocols.indexOf(w)?n(new le("Unsupported protocol "+w+":",le.ERR_BAD_REQUEST,e)):g.send(u||null)}))},ut=function(e,t){var n=(e=e?e.filter(Boolean):[]).length;if(t||n){var r,i=new AbortController,a=function(e){if(!r){r=!0,o();var t=e instanceof Error?e:this.reason;i.abort(t instanceof le?t:new qe(t instanceof Error?t.message:t))}},s=t&&setTimeout((function(){s=null,a(new le("timeout ".concat(t," of ms exceeded"),le.ETIMEDOUT))}),t),o=function(){e&&(s&&clearTimeout(s),s=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",a)}));var l=i.signal;return l.unsubscribe=function(){return te.asap(o)},l}};function ct(e){this.wrapped=e}function ht(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,o=s instanceof ct;Promise.resolve(o?s.wrapped:s).then((function(e){o?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(l){i("throw",l)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,s){var o={key:e,arg:i,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}function dt(e){return function(){return new ht(e.apply(this,arguments))}}function ft(e){return new ct(e)}function vt(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function pt(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new gt(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function gt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return gt=function(e){this.s=e,this.n=e.next},gt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new gt(e)}ht.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ht.prototype.next=function(e){return this._invoke("next",e)},ht.prototype.throw=function(e){return this._invoke("throw",e)},ht.prototype.return=function(e){return this._invoke("return",e)};var mt,yt,bt=a().mark((function e(t,n){var r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.byteLength,n&&!(r<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<r)){e.next=13;break}return s=i+n,e.next=10,t.slice(i,s);case 10:i=s,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),wt=function(){var e=dt(a().mark((function e(t,n){var r,i,s,o,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,o=pt(kt(t));case 4:return e.next=6,ft(o.next());case 6:if(!(r=!(l=e.sent).done)){e.next=12;break}return u=l.value,e.delegateYield(vt(pt(bt(u,n)),ft),"t0",9);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,s=e.t1;case 18:if(e.prev=18,e.prev=19,!r||null==o.return){e.next=23;break}return e.next=23,ft(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}(),kt=function(){var e=dt(a().mark((function e(t){var n,r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(vt(pt(t),ft),"t0",2);case 2:return e.abrupt("return");case 3:n=t.getReader(),e.prev=4;case 5:return e.next=7,ft(n.read());case 7:if(r=e.sent,i=r.done,s=r.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,s;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,ft(n.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(e,t,n,r){var i,s=wt(e,t),l=0,u=function(e){i||(i=!0,r&&r(e))};return new ReadableStream({pull:function(e){return o(a().mark((function t(){var r,i,o,c,h;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.next();case 3:if(r=t.sent,i=r.done,o=r.value,!i){t.next=10;break}return u(),e.close(),t.abrupt("return");case 10:c=o.byteLength,n&&(h=l+=c,n(h)),e.enqueue(new Uint8Array(o)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),u(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return u(e),s.return()}},{highWaterMark:2})},_t="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,At=_t&&"function"===typeof ReadableStream,St=_t&&("function"===typeof TextEncoder?(mt=new TextEncoder,function(e){return mt.encode(e)}):function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Et=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(i){return!1}},Ct=At&&Et((function(){var e=!1,t=new Request(Re.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Mt=At&&Et((function(){return te.isReadableStream(new Response("").body)})),Tt={stream:Mt&&function(e){return e.body}};_t&&(yt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!Tt[e]&&(Tt[e]=te.isFunction(yt[e])?function(t){return t[e]()}:function(t,n){throw new le("Response type '".concat(e,"' is not supported"),le.ERR_NOT_SUPPORT,n)})})));var Pt=function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!te.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!te.isSpecCompliantForm(t)){e.next=9;break}return n=new Request(Re.origin,{method:"POST",body:t}),e.next=8,n.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!te.isArrayBufferView(t)&&!te.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(te.isURLSearchParams(t)&&(t+=""),!te.isString(t)){e.next=16;break}return e.next=15,St(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=o(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?Pt(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Lt=_t&&function(){var e=o(a().mark((function e(t){var n,r,i,s,o,l,u,c,h,f,v,p,g,m,y,b,w,k,x,_,A,S,E,C,M,T,P,R,L,N,I,D,O,F;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ot(t),r=n.url,i=n.method,s=n.data,o=n.signal,l=n.cancelToken,u=n.timeout,c=n.onDownloadProgress,h=n.onUploadProgress,f=n.responseType,v=n.headers,p=n.withCredentials,g=void 0===p?"same-origin":p,m=n.fetchOptions,f=f?(f+"").toLowerCase():"text",y=ut([o,l&&l.toAbortSignal()],u),w=y&&y.unsubscribe&&function(){y.unsubscribe()},e.prev=4,e.t0=h&&Ct&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,Rt(v,s);case 9:e.t1=k=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}x=new Request(r,{method:"POST",body:s,duplex:"half"}),te.isFormData(s)&&(_=x.headers.get("content-type"))&&v.setContentType(_),x.body&&(A=$e(k,Qe(Je(h))),S=d(A,2),E=S[0],C=S[1],s=xt(x.body,65536,E,C));case 15:return te.isString(g)||(g=g?"include":"omit"),M="credentials"in Request.prototype,b=new Request(r,Ae(Ae({},m),{},{signal:y,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:M?g:void 0})),e.next=20,fetch(b);case 20:return T=e.sent,P=Mt&&("stream"===f||"response"===f),Mt&&(c||P&&w)&&(R={},["status","statusText","headers"].forEach((function(e){R[e]=T[e]})),L=te.toFiniteNumber(T.headers.get("content-length")),N=c&&$e(L,Qe(Je(c),!0))||[],I=d(N,2),D=I[0],O=I[1],T=new Response(xt(T.body,65536,D,(function(){O&&O(),w&&w()})),R)),f=f||"text",e.next=26,Tt[te.findKey(Tt,f)||"text"](T,t);case 26:return F=e.sent,!P&&w&&w(),e.next=30,new Promise((function(e,n){Xe(e,n,{data:F,headers:Ue.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:b})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),w&&w(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new le("Network Error",le.ERR_NETWORK,t,b),{cause:e.t2.cause||e.t2});case 38:throw le.from(e.t2,e.t2&&e.t2.code,t,b);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),Nt={http:null,xhr:lt,fetch:Lt};te.forEach(Nt,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var It=function(e){return"- ".concat(e)},Dt=function(e){return te.isFunction(e)||null===e||!1===e},Ot=function(e){for(var t,n,r=(e=te.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var s=void 0;if(n=t=e[a],!Dt(t)&&void 0===(n=Nt[(s=String(t)).toLowerCase()]))throw new le("Unknown adapter '".concat(s,"'"));if(n)break;i[s||"#"+a]=n}if(!n){var o=Object.entries(i).map((function(e){var t=d(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),l=r?o.length>1?"since :\n"+o.map(It).join("\n"):" "+It(o[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n};function Ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qe(null,e)}function Wt(e){return Ft(e),e.headers=Ue.from(e.headers),e.data=He.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ot(e.adapter||Ie.adapter)(e).then((function(t){return Ft(e),t.data=He.call(e,e.transformResponse,t),t.headers=Ue.from(t.headers),t}),(function(t){return Ve(t)||(Ft(e),t&&t.response&&(t.response.data=He.call(e,e.transformResponse,t.response),t.response.headers=Ue.from(t.response.headers))),Promise.reject(t)}))}var jt="1.7.9",zt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){zt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Bt={};zt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new le(r(i," has been removed"+(t?" in "+t:"")),le.ERR_DEPRECATED);return t&&!Bt[i]&&(Bt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},zt.spelling=function(e){return function(t,n){return console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0}};var Ut={assertOptions:function(e,t,n){if("object"!==typeof e)throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var o=e[a],l=void 0===o||s(o,a,e);if(!0!==l)throw new le("option "+a+" must be "+l,le.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new le("Unknown option "+a,le.ERR_BAD_OPTION)}},validators:zt},Ht=Ut.validators,Vt=function(){function e(t){ne(this,e),this.defaults=t,this.interceptors={request:new we,response:new we}}return ie(e,[{key:"request",value:function(){var e=o(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){r={},Error.captureStackTrace?Error.captureStackTrace(r):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(a){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=st(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&Ut.assertOptions(r,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1),null!=i&&(te.isFunction(i)?t.paramsSerializer={serialize:i}:Ut.assertOptions(i,{encode:Ht.function,serialize:Ht.function},!0)),Ut.assertOptions(t,{baseUrl:Ht.spelling("baseURL"),withXsrfToken:Ht.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var s=a&&te.merge(a.common,a[t.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=Ue.concat(s,a);var o=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var h,d=0;if(!l){var f=[Wt.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,c),h=f.length,u=Promise.resolve(t);d<h;)u=u.then(f[d++],f[d++]);return u}h=o.length;var v=t;for(d=0;d<h;){var p=o[d++],g=o[d++];try{v=p(v)}catch(m){g.call(this,m);break}}try{u=Wt.call(this,v)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}},{key:"getUri",value:function(e){return be(it((e=st(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();te.forEach(["delete","get","head","options"],(function(e){Vt.prototype[e]=function(t,n){return this.request(st(n||{},{method:e,url:t,data:(n||{}).data}))}})),te.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(st(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vt.prototype[e]=t(),Vt.prototype[e+"Form"]=t(!0)}));var Gt=Vt,qt=function(){function e(t){if(ne(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new qe(e,t,i),n(r.reason))}))}return ie(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,n=function(e){t.abort(e)};return this.subscribe(n),t.signal.unsubscribe=function(){return e.unsubscribe(n)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Xt=qt;var Yt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yt).forEach((function(e){var t=d(e,2),n=t[0],r=t[1];Yt[r]=n}));var Kt=Yt;var Qt=function e(t){var n=new Gt(t),r=v(Gt.prototype.request,n);return te.extend(r,Gt.prototype,n,{allOwnKeys:!0}),te.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(st(t,n))},r}(Ie);Qt.Axios=Gt,Qt.CanceledError=qe,Qt.CancelToken=Xt,Qt.isCancel=Ve,Qt.VERSION=jt,Qt.toFormData=fe,Qt.AxiosError=le,Qt.Cancel=Qt.CanceledError,Qt.all=function(e){return Promise.all(e)},Qt.spread=function(e){return function(t){return e.apply(null,t)}},Qt.isAxiosError=function(e){return te.isObject(e)&&!0===e.isAxiosError},Qt.mergeConfig=st,Qt.AxiosHeaders=Ue,Qt.formToJSON=function(e){return Le(te.isHTMLForm(e)?new FormData(e):e)},Qt.getAdapter=Ot,Qt.HttpStatusCode=Kt,Qt.default=Qt;var $t,Jt=Qt;function Zt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function en(e,t){return function(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(n){t.set.call(e,n)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}(e,Zt(e,t,"set"))}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tn(e)););return e}function rn(){return rn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rn.apply(this,arguments)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function on(e,t){sn(e,t),t.add(e)}function ln(e,t,n){sn(e,t),t.set(e,n)}function un(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function cn(e,t){return t.get?t.get.call(e):t.value}function hn(e,t){return cn(e,Zt(e,t,"get"))}function dn(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function fn(e,t,n){return dn(e,Zt(e,t,"set"),n),n}function vn(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function pn(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function gn(e,t,n,r){return vn(e,t),pn(n,"set"),dn(e,n,r),r}function mn(e,t,n){return vn(e,t),pn(n,"get"),cn(e,n)}function yn(e,t,n){return vn(e,t),n}function bn(e,t){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bn(e,t)}function wn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}function kn(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return an(e)}function xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var i=tn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kn(this,n)}}var _n={d:function(e,t){for(var n in t)_n.o(t,n)&&!_n.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},An=globalThis.pdfjsLib={};_n.d(An,{AbortException:function(){return Fr},AnnotationEditorLayer:function(){return hw},AnnotationEditorParamsType:function(){return jn},AnnotationEditorType:function(){return Wn},AnnotationEditorUIManager:function(){return xs},AnnotationLayer:function(){return up},AnnotationMode:function(){return Fn},ColorPicker:function(){return sm},DOMSVGFactory:function(){return wf},DrawLayer:function(){return Sw},FeatureTest:function(){return Br},GlobalWorkerOptions:function(){return $c},ImageKind:function(){return Xn},InvalidPDFException:function(){return Nr},MissingPDFException:function(){return Ir},OPS:function(){return yr},OutputScale:function(){return bi},PDFDataRangeTransport:function(){return Pd},PDFDateString:function(){return di},PDFWorker:function(){return Hd},PasswordResponses:function(){return br},PermissionFlag:function(){return zn},PixelsPerInch:function(){return Zr},RenderingCancelledException:function(){return ri},TextLayer:function(){return sd},TouchManager:function(){return So},UnexpectedResponseException:function(){return Dr},Util:function(){return Hr},VerbosityLevel:function(){return mr},XfaLayer:function(){return kf},build:function(){return pf},createValidAbsoluteUrl:function(){return Mr},fetchData:function(){return ei},getDocument:function(){return Ad},getFilenameFromUrl:function(){return si},getPdfFilenameFromUrl:function(){return oi},getXfaPageViewport:function(){return vi},isDataScheme:function(){return ii},isPdfFile:function(){return ai},noContextMenu:function(){return ci},normalizeUnicode:function(){return Kr},setLayerDimensions:function(){return yi},shadow:function(){return Tr},stopEvent:function(){return hi},version:function(){return vf}});var Sn="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),En=[1,0,0,1,0,0],Cn=[.001,0,0,.001,0,0],Mn=1.35,Tn=1,Pn=2,Rn=4,Ln=16,Nn=32,In=64,Dn=128,On=256,Fn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Wn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},jn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},zn={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bn=0,Un=1,Hn=2,Vn=3,Gn=3,qn=4,Xn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Yn=1,Kn=2,Qn=3,$n=4,Jn=5,Zn=6,er=7,tr=8,nr=9,rr=10,ir=11,ar=12,sr=13,or=14,lr=15,ur=16,cr=17,hr=20,dr=1,fr=2,vr=3,pr=4,gr=5,mr={ERRORS:0,WARNINGS:1,INFOS:5},yr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},br={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},wr=mr.WARNINGS;function kr(e){Number.isInteger(e)&&(wr=e)}function xr(){return wr}function _r(e){wr>=mr.INFOS&&console.log("Info: ".concat(e))}function Ar(e){wr>=mr.WARNINGS&&console.log("Warning: ".concat(e))}function Sr(e){throw new Error(e)}function Er(e,t){e||Sr(t)}function Cr(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){var r=e.match(/\./g);(null===r||void 0===r?void 0:r.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=qr(e)}catch(a){}}var i=t?new URL(e,t):new URL(e);if(Cr(i))return i}catch(s){}return null}function Tr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}var Pr=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}(),Rr=function(e){wn(n,e);var t=xn(n);function n(e,r){var i;return ne(this,n),(i=t.call(this,e,"PasswordException")).code=r,i}return ie(n)}(Pr),Lr=function(e){wn(n,e);var t=xn(n);function n(e,r){var i;return ne(this,n),(i=t.call(this,e,"UnknownErrorException")).details=r,i}return ie(n)}(Pr),Nr=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,"InvalidPDFException")}return ie(n)}(Pr),Ir=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,"MissingPDFException")}return ie(n)}(Pr),Dr=function(e){wn(n,e);var t=xn(n);function n(e,r){var i;return ne(this,n),(i=t.call(this,e,"UnexpectedResponseException")).status=r,i}return ie(n)}(Pr),Or=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,"FormatError")}return ie(n)}(Pr),Fr=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,"AbortException")}return ie(n)}(Pr);function Wr(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||Sr("Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var r=[],i=0;i<t;i+=n){var a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function jr(e){"string"!==typeof e&&Sr("Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function zr(e){var t,n=Object.create(null),r=De(e);try{for(r.s();!(t=r.n()).done;){var i=d(t.value,2),a=i[0],s=i[1];n[a]=s}}catch(o){r.e(o)}finally{r.f()}return n}var Br=function(){function e(){ne(this,e)}return ie(e,null,[{key:"isLittleEndian",get:function(){return Tr(this,"isLittleEndian",function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function(){return Tr(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return Tr(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}},{key:"isImageDecoderSupported",get:function(){return Tr(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}},{key:"platform",get:function(){var e,t;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?Tr(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&navigator.userAgent.includes("Firefox")}):Tr(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}},{key:"isCSSRoundSupported",get:function(){var e,t;return Tr(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}]),e}(),Ur=Array.from(Array(256).keys(),(function(e){return e.toString(16).padStart(2,"0")})),Hr=function(){function e(){ne(this,e)}return ie(e,null,[{key:"makeHexColor",value:function(e,t,n){return"#".concat(Ur[e]).concat(Ur[t]).concat(Ur[n])}},{key:"scaleMinMax",value:function(e,t){var n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,t){var n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt(Math.pow(n+a,2)-4*(n*a-i*r))/2,l=s+o||1,u=s-o||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){var n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;var i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}},{key:"bezierBoundingBox",value:function(t,n,r,i,a,s,o,l,u){return u?(u[0]=Math.min(u[0],t,o),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],t,o),u[3]=Math.max(u[3],n,l)):u=[Math.min(t,o),Math.min(n,l),Math.max(t,o),Math.max(n,l)],yn(this,e,Gr).call(this,t,r,a,o,n,i,s,l,3*(3*(r-a)-t+o),6*(t-2*r+a),3*(r-t),u),yn(this,e,Gr).call(this,t,r,a,o,n,i,s,l,3*(3*(i-s)-n+l),6*(n-2*i+s),3*(i-n),u),u}}]),e}();function Vr(e,t,n,r,i,a,s,o,l,u){if(!(l<=0||l>=1)){var c=1-l,h=l*l,d=h*l,f=c*(c*(c*e+3*l*t)+3*h*n)+d*r,v=c*(c*(c*i+3*l*a)+3*h*s)+d*o;u[0]=Math.min(u[0],f),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],f),u[3]=Math.max(u[3],v)}}function Gr(e,t,n,r,i,a,s,o,l,u,c,h){if(Math.abs(l)<1e-12)Math.abs(u)>=1e-12&&yn(this,Hr,Vr).call(this,e,t,n,r,i,a,s,o,-c/u,h);else{var d=Math.pow(u,2)-4*c*l;if(!(d<0)){var f=Math.sqrt(d),v=2*l;yn(this,Hr,Vr).call(this,e,t,n,r,i,a,s,o,(-u+f)/v,h),yn(this,Hr,Vr).call(this,e,t,n,r,i,a,s,o,(-u-f)/v,h)}}}function qr(e){return decodeURIComponent(escape(e))}var Xr=null,Yr=null;function Kr(e){return Xr||(Xr=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Yr=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Xr,(function(e,t,n){return t?t.normalize("NFKC"):Yr.get(n)}))}function Qr(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();var e=new Uint8Array(32);return crypto.getRandomValues(e),Wr(e)}var $r="pdfjs_internal_id_";"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t){t(e.apply(void 0,n))}))});var Jr="http://www.w3.org/2000/svg",Zr=ie((function e(){ne(this,e)}));function ei(e){return ti.apply(this,arguments)}function ti(){return ti=o(a().mark((function e(t){var n,r,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:"text",!ui(t,document.baseURI)){e.next=14;break}return e.next=4,fetch(t);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:e.t0=n,e.next="arraybuffer"===e.t0?10:"blob"===e.t0?11:"json"===e.t0?12:13;break;case 10:return e.abrupt("return",r.arrayBuffer());case 11:return e.abrupt("return",r.blob());case 12:return e.abrupt("return",r.json());case 13:return e.abrupt("return",r.text());case 14:return e.abrupt("return",new Promise((function(e,r){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=n,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(n){case"arraybuffer":case"blob":case"json":return void e(i.response)}e(i.responseText)}},i.send(null)})));case 15:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}xe(Zr,"CSS",96),xe(Zr,"PDF",72),xe(Zr,"PDF_TO_CSS_UNITS",Zr.CSS/Zr.PDF);var ni=function(){function e(t){var n=t.viewBox,r=t.userUnit,i=t.scale,a=t.rotation,s=t.offsetX,o=void 0===s?0:s,l=t.offsetY,u=void 0===l?0:l,c=t.dontFlip,h=void 0!==c&&c;ne(this,e),this.viewBox=n,this.userUnit=r,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=u,i*=r;var d,f,v,p,g,m,y,b,w=(n[2]+n[0])/2,k=(n[3]+n[1])/2;switch((a%=360)<0&&(a+=360),a){case 180:d=-1,f=0,v=0,p=1;break;case 90:d=0,f=1,v=1,p=0;break;case 270:d=0,f=-1,v=-1,p=0;break;case 0:d=1,f=0,v=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(v=-v,p=-p),0===d?(g=Math.abs(k-n[1])*i+o,m=Math.abs(w-n[0])*i+u,y=(n[3]-n[1])*i,b=(n[2]-n[0])*i):(g=Math.abs(w-n[0])*i+o,m=Math.abs(k-n[1])*i+u,y=(n[2]-n[0])*i,b=(n[3]-n[1])*i),this.transform=[d*i,f*i,v*i,p*i,g-d*i*w-v*i*k,m-f*i*w-p*i*k],this.width=y,this.height=b}return ie(e,[{key:"rawDims",get:function(){var e=this.userUnit,t=this.viewBox.map((function(t){return t*e}));return Tr(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,s=t.offsetX,o=void 0===s?this.offsetX:s,l=t.offsetY,u=void 0===l?this.offsetY:l,c=t.dontFlip,h=void 0!==c&&c;return new e({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:r,rotation:a,offsetX:o,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(e,t){return Hr.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=Hr.applyTransform([e[0],e[1]],this.transform),n=Hr.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return Hr.applyInverseTransform([e,t],this.transform)}}]),e}(),ri=function(e){wn(n,e);var t=xn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ne(this,n),(r=t.call(this,e,"RenderingCancelledException")).extraDelay=i,r}return ie(n)}(Pr);function ii(e){for(var t=e.length,n=0;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function ai(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function si(e){var t=e.split(/[#?]/,1);return(e=d(t,1)[0]).substring(e.lastIndexOf("/")+1)}function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(ii(e))return Ar('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(s){}return a||t}var li=function(){function e(){ne(this,e),xe(this,"started",Object.create(null)),xe(this,"times",[])}return ie(e,[{key:"time",value:function(e){e in this.started&&Ar("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||Ar("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=De(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;n=Math.max(i.length,n)}}catch(h){r.e(h)}finally{r.f()}var a,s=De(this.times);try{for(s.s();!(a=s.n()).done;){var o=a.value,l=o.name,u=o.start,c=o.end;t.push("".concat(l.padEnd(n)," ").concat(c-u,"ms\n"))}}catch(h){s.e(h)}finally{s.f()}return t.join("")}}]),e}();function ui(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}function ci(e){e.preventDefault()}function hi(e){e.preventDefault(),e.stopPropagation()}var di=function(){function e(){ne(this,e)}return ie(e,null,[{key:"toDateObject",value:function(t){if(!t||"string"!==typeof t)return null;mn(this,e,fi)||gn(this,e,fi,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var n=mn(this,e,fi).exec(t);if(!n)return null;var r=parseInt(n[1],10),i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;var a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;var s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;var o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;var l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;var u=n[7]||"Z",c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;var h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===u?(s+=c,o+=h):"+"===u&&(s-=c,o-=h),new Date(Date.UTC(r,i,a,s,o,l))}}]),e}(),fi={writable:!0,value:void 0};function vi(e,t){var n=t.scale,r=void 0===n?1:n,i=t.rotation,a=void 0===i?0:i,s=e.attributes.style,o=s.width,l=s.height,u=[0,0,parseInt(o),parseInt(l)];return new ni({viewBox:u,userUnit:1,scale:r,rotation:a})}function pi(e){if(e.startsWith("#")){var t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((function(e){return parseInt(e)})):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((function(e){return parseInt(e)})).slice(0,3):(Ar('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function gi(e){var t=e.getTransform();return[t.a,t.b,t.c,t.d,t.e,t.f]}function mi(e){var t=e.getTransform().invertSelf();return[t.a,t.b,t.c,t.d,t.e,t.f]}function yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof ni){var i=t.rawDims,a=i.pageWidth,s=i.pageHeight,o=e.style,l=Br.isCSSRoundSupported,u="var(--scale-factor) * ".concat(a,"px"),c="var(--scale-factor) * ".concat(s,"px"),h=l?"round(down, ".concat(u,", var(--scale-round-x, 1px))"):"calc(".concat(u,")"),d=l?"round(down, ".concat(c,", var(--scale-round-y, 1px))"):"calc(".concat(c,")");n&&t.rotation%180!==0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&e.setAttribute("data-main-rotation",t.rotation)}var bi=function(){function e(){ne(this,e);var t=window.devicePixelRatio||1;this.sx=t,this.sy=t}return ie(e,[{key:"scaled",get:function(){return 1!==this.sx||1!==this.sy}},{key:"symmetric",get:function(){return this.sx===this.sy}}]),e}(),wi=new WeakMap,ki=new WeakMap,xi=new WeakMap,_i=new WeakMap,Ai=new WeakMap,Si=new WeakSet,Ei=new WeakSet,Ci=new WeakSet,Mi=new WeakSet,Ti=new WeakMap,Pi=function(){function e(t){ne(this,e),ln(this,Ti,{get:Oi,set:void 0}),on(this,Mi),on(this,Ci),on(this,Ei),on(this,Si),ln(this,wi,{writable:!0,value:null}),ln(this,ki,{writable:!0,value:null}),ln(this,xi,{writable:!0,value:void 0}),ln(this,_i,{writable:!0,value:null}),ln(this,Ai,{writable:!0,value:null}),fn(this,xi,t),mn(e,e,Fi)||gn(e,e,Fi,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}return ie(e,[{key:"render",value:function(){var t=fn(this,wi,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");var n=hn(this,xi)._uiManager._signal;t.addEventListener("contextmenu",ci,{signal:n}),t.addEventListener("pointerdown",yn(e,e,Ri),{signal:n});var r=fn(this,_i,document.createElement("div"));r.className="buttons",t.append(r);var i=hn(this,xi).toolbarPosition;if(i){var a=t.style,s="ltr"===hn(this,xi)._uiManager.direction?1-i[0]:i[0];a.insetInlineEnd="".concat(100*s,"%"),a.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return un(this,Mi,Di).call(this),t}},{key:"div",get:function(){return hn(this,wi)}},{key:"hide",value:function(){var e;hn(this,wi).classList.add("hidden"),null===(e=hn(this,ki))||void 0===e||e.hideDropdown()}},{key:"show",value:function(){var e;hn(this,wi).classList.remove("hidden"),null===(e=hn(this,Ai))||void 0===e||e.shown()}},{key:"addAltText",value:function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render();case 2:n=e.sent,un(this,Ci,Ii).call(this,n),hn(this,_i).prepend(n,hn(this,Ti)),fn(this,Ai,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addColorPicker",value:function(e){fn(this,ki,e);var t=e.renderButton();un(this,Ci,Ii).call(this,t),hn(this,_i).prepend(t,hn(this,Ti))}},{key:"remove",value:function(){var e;hn(this,wi).remove(),null===(e=hn(this,ki))||void 0===e||e.destroy(),fn(this,ki,null)}}]),e}();function Ri(e){e.stopPropagation()}function Li(e){hn(this,xi)._focusEventsAllowed=!1,hi(e)}function Ni(e){hn(this,xi)._focusEventsAllowed=!0,hi(e)}function Ii(e){var t=hn(this,xi)._uiManager._signal;e.addEventListener("focusin",un(this,Si,Li).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",un(this,Ei,Ni).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ci,{signal:t})}function Di(){var e=hn(this,xi),t=e.editorType,n=e._uiManager,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",mn(Pi,Pi,Fi)[t]),un(this,Ci,Ii).call(this,r),r.addEventListener("click",(function(e){n.delete()}),{signal:n._signal}),hn(this,_i).append(r)}function Oi(){var e=document.createElement("div");return e.className="divider",e}var Fi={writable:!0,value:null},Wi=new WeakMap,ji=new WeakMap,zi=new WeakMap,Bi=new WeakSet,Ui=new WeakSet,Hi=new WeakSet,Vi=function(){function e(t){ne(this,e),on(this,Hi),on(this,Ui),on(this,Bi),ln(this,Wi,{writable:!0,value:null}),ln(this,ji,{writable:!0,value:null}),ln(this,zi,{writable:!0,value:void 0}),fn(this,zi,t)}return ie(e,[{key:"show",value:function(e,t,n){var r=d(un(this,Ui,qi).call(this,t,n),2),i=r[0],a=r[1],s=(hn(this,ji)||fn(this,ji,un(this,Bi,Gi).call(this))).style;e.append(hn(this,ji)),s.insetInlineEnd="".concat(100*i,"%"),s.top="calc(".concat(100*a,"% + var(--editor-toolbar-vert-offset))")}},{key:"hide",value:function(){hn(this,ji).remove()}}]),e}();function Gi(){var e=fn(this,ji,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ci,{signal:hn(this,zi)._signal});var t=fn(this,Wi,document.createElement("div"));return t.className="buttons",e.append(t),un(this,Hi,Xi).call(this),e}function qi(e,t){var n,r=0,i=0,a=De(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,o=s.y+s.height;if(!(o<r)){var l=s.x+(t?s.width:0);o>r?(i=l,r=o):t?l>i&&(i=l):l<i&&(i=l)}}}catch(u){a.e(u)}finally{a.f()}return[t?1-i:i,r]}function Xi(){var e=this,t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");var n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");var r=hn(this,zi)._signal;t.addEventListener("contextmenu",ci,{signal:r}),t.addEventListener("click",(function(){hn(e,zi).highlightSelection("floating_button")}),{signal:r}),hn(this,Wi).append(t)}function Yi(e,t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.addEventListener(a,e[a].bind(e))}}catch(s){i.e(s)}finally{i.f()}}var Ki=new WeakMap,Qi=function(){function e(){ne(this,e),ln(this,Ki,{writable:!0,value:0})}return ie(e,[{key:"id",get:function(){var e,t;return"".concat("pdfjs_internal_editor_").concat((fn(this,Ki,(e=hn(this,Ki),t=e++,e)),t))}}]),e}(),$i=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,ea=new WeakSet,ta=function(){function e(){ne(this,e),on(this,ea),ln(this,$i,{writable:!0,value:Qr()}),ln(this,Ji,{writable:!0,value:0}),ln(this,Zi,{writable:!0,value:null})}return ie(e,[{key:"getFromFile",value:function(){var e=o(a().mark((function e(t){var n,r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lastModified,r=t.name,i=t.size,s=t.type,e.abrupt("return",un(this,ea,na).call(this,"".concat(n,"_").concat(r,"_").concat(i,"_").concat(s),t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFromUrl",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(this,ea,na).call(this,t,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFromBlob",value:function(){var e=o(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",un(this,ea,na).call(this,t,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFromId",value:function(){var e=o(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hn(this,Zi)||fn(this,Zi,new Map),n=hn(this,Zi).get(t)){e.next=4;break}return e.abrupt("return",null);case 4:if(!n.bitmap){e.next=7;break}return n.refCounter+=1,e.abrupt("return",n);case 7:if(!n.file){e.next=9;break}return e.abrupt("return",this.getFromFile(n.file));case 9:if(!n.blobPromise){e.next=13;break}return r=n.blobPromise,delete n.blobPromise,e.abrupt("return",this.getFromBlob(n.id,r));case 13:return e.abrupt("return",this.getFromUrl(n.url));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFromCanvas",value:function(e,t){var n,r,i;hn(this,Zi)||fn(this,Zi,new Map);var a=hn(this,Zi).get(e);if(null!==(i=a)&&void 0!==i&&i.bitmap)return a.refCounter+=1,a;var s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),a={bitmap:s.transferToImageBitmap(),id:"image_".concat(hn(this,$i),"_").concat((fn(this,Ji,(n=hn(this,Ji),r=n++,n)),r)),refCounter:1,isSvg:!1},hn(this,Zi).set(e,a),hn(this,Zi).set(a.id,a),a}},{key:"getSvgUrl",value:function(e){var t=hn(this,Zi).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}},{key:"deleteId",value:function(e){var t;hn(this,Zi)||fn(this,Zi,new Map);var n=hn(this,Zi).get(e);if(n&&(n.refCounter-=1,0===n.refCounter)){var r=n.bitmap;if(!n.url&&!n.file){var i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}null===(t=r.close)||void 0===t||t.call(r),n.bitmap=null}}},{key:"isValidId",value:function(e){return e.startsWith("image_".concat(hn(this,$i),"_"))}}],[{key:"_isSVGFittingCanvas",get:function(){var e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Tr(this,"_isSVGFittingCanvas",t.decode().then((function(){return e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]})))}}]),e}();function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=o(a().mark((function e(t,n){var r,i,s,l,u,c,h,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hn(this,Zi)||fn(this,Zi,new Map),null!==(i=hn(this,Zi).get(t))){e.next=4;break}return e.abrupt("return",null);case 4:if(null===(r=i)||void 0===r||!r.bitmap){e.next=7;break}return i.refCounter+=1,e.abrupt("return",i);case 7:if(e.prev=7,i||(i={bitmap:null,id:"image_".concat(hn(this,$i),"_").concat((fn(this,Ji,(s=hn(this,Ji),l=s++,s)),l)),refCounter:0,isSvg:!1}),"string"!==typeof n){e.next=16;break}return i.url=n,e.next=13,ei(n,"blob");case 13:u=e.sent,e.next=17;break;case 16:n instanceof File?u=i.file=n:n instanceof Blob&&(u=n);case 17:if("image/svg+xml"!==u.type){e.next=27;break}return c=ta._isSVGFittingCanvas,h=new FileReader,d=new Image,f=new Promise((function(e,t){d.onload=function(){i.bitmap=d,i.isSvg=!0,e()},h.onload=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.svgUrl=h.result,e.next=3,c;case 3:if(!e.sent){e.next=7;break}e.t0="".concat(t,"#svgView(preserveAspectRatio(none))"),e.next=8;break;case 7:e.t0=t;case 8:d.src=e.t0;case 9:case"end":return e.stop()}}),e)}))),d.onerror=h.onerror=t})),h.readAsDataURL(u),e.next=25,f;case 25:e.next=30;break;case 27:return e.next=29,createImageBitmap(u);case 29:i.bitmap=e.sent;case 30:i.refCounter=1,e.next=37;break;case 33:e.prev=33,e.t0=e.catch(7),Ar(e.t0),i=null;case 37:return hn(this,Zi).set(t,i),i&&hn(this,Zi).set(i.id,i),e.abrupt("return",i);case 40:case"end":return e.stop()}}),e,this,[[7,33]])})))).apply(this,arguments)}var ia=new WeakMap,aa=new WeakMap,sa=new WeakMap,oa=new WeakMap,la=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;ne(this,e),ln(this,ia,{writable:!0,value:[]}),ln(this,aa,{writable:!0,value:!1}),ln(this,sa,{writable:!0,value:void 0}),ln(this,oa,{writable:!0,value:-1}),fn(this,sa,t)}return ie(e,[{key:"add",value:function(e){var t=e.cmd,n=e.undo,r=e.post,i=e.mustExec,a=e.type,s=void 0===a?NaN:a,o=e.overwriteIfSameType,l=void 0!==o&&o,u=e.keepUndo,c=void 0!==u&&u;if(i&&t(),!hn(this,aa)){var h={cmd:t,undo:n,post:r,type:s};if(-1===hn(this,oa))return hn(this,ia).length>0&&(hn(this,ia).length=0),fn(this,oa,0),void hn(this,ia).push(h);if(l&&hn(this,ia)[hn(this,oa)].type===s)return c&&(h.undo=hn(this,ia)[hn(this,oa)].undo),void(hn(this,ia)[hn(this,oa)]=h);var d=hn(this,oa)+1;d===hn(this,sa)?hn(this,ia).splice(0,1):(fn(this,oa,d),d<hn(this,ia).length&&hn(this,ia).splice(d)),hn(this,ia).push(h)}}},{key:"undo",value:function(){if(-1!==hn(this,oa)){fn(this,aa,!0);var e=hn(this,ia)[hn(this,oa)],t=e.undo,n=e.post;t(),null===n||void 0===n||n(),fn(this,aa,!1),fn(this,oa,hn(this,oa)-1)}}},{key:"redo",value:function(){if(hn(this,oa)<hn(this,ia).length-1){fn(this,oa,hn(this,oa)+1),fn(this,aa,!0);var e=hn(this,ia)[hn(this,oa)],t=e.cmd,n=e.post;t(),null===n||void 0===n||n(),fn(this,aa,!1)}}},{key:"hasSomethingToUndo",value:function(){return-1!==hn(this,oa)}},{key:"hasSomethingToRedo",value:function(){return hn(this,oa)<hn(this,ia).length-1}},{key:"cleanType",value:function(e){if(-1!==hn(this,oa)){for(var t=hn(this,oa);t>=0;t--)if(hn(this,ia)[t].type!==e)return hn(this,ia).splice(t+1,hn(this,oa)-t),void fn(this,oa,t);hn(this,ia).length=0,fn(this,oa,-1)}}},{key:"destroy",value:function(){fn(this,ia,null)}}]),e}(),ua=new WeakSet,ca=function(){function e(t){ne(this,e),on(this,ua),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var n,r=Br.platform.isMac,i=De(t);try{for(i.s();!(n=i.n()).done;){var a,s=d(n.value,3),o=s[0],l=s[1],u=s[2],c=void 0===u?{}:u,h=De(o);try{for(h.s();!(a=h.n()).done;){var f=a.value,v=f.startsWith("mac+");r&&v?(this.callbacks.set(f.slice(4),{callback:l,options:c}),this.allKeys.add(f.split("+").at(-1))):r||v||(this.callbacks.set(f,{callback:l,options:c}),this.allKeys.add(f.split("+").at(-1)))}}catch(p){h.e(p)}finally{h.f()}}}catch(p){i.e(p)}finally{i.f()}}return ie(e,[{key:"exec",value:function(e,t){if(this.allKeys.has(t.key)){var n=this.callbacks.get(un(this,ua,ha).call(this,t));if(n){var r=n.callback,i=n.options,a=i.bubbles,s=void 0!==a&&a,o=i.args,l=void 0===o?[]:o,u=i.checker,c=void 0===u?null:u;c&&!c(e,t)||(r.bind.apply(r,[e].concat(et(l),[t]))(),s||hi(t))}}}}]),e}();function ha(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);var t=this.buffer.join("+");return this.buffer.length=0,t}var da=function(){function e(){ne(this,e)}return ie(e,[{key:"_colors",get:function(){var e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){var t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);var n,r=De(e.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.style.color=i;var a=window.getComputedStyle(t).color;e.set(i,pi(a))}}catch(s){r.e(s)}finally{r.f()}t.remove()}(e),Tr(this,"_colors",e)}},{key:"convert",value:function(t){var n=pi(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;var r,i=De(this._colors);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),s=a[0];if(a[1].every((function(e,t){return e===n[t]})))return e._colorsMapping.get(s)}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"getHexCode",value:function(e){var t=this._colors.get(e);return t?Hr.makeHexColor.apply(Hr,et(t)):e}}]),e}();xe(da,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var fa=new WeakMap,va=new WeakMap,pa=new WeakMap,ga=new WeakMap,ma=new WeakMap,ya=new WeakMap,ba=new WeakMap,wa=new WeakMap,ka=new WeakMap,xa=new WeakMap,_a=new WeakMap,Aa=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,Ma=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,Ra=new WeakMap,La=new WeakMap,Na=new WeakMap,Ia=new WeakMap,Da=new WeakMap,Oa=new WeakMap,Fa=new WeakMap,Wa=new WeakMap,ja=new WeakMap,za=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,Ha=new WeakMap,Va=new WeakMap,Ga=new WeakMap,qa=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,$a=new WeakMap,Ja=new WeakMap,Za=new WeakMap,es=new WeakMap,ts=new WeakSet,ns=new WeakSet,rs=new WeakSet,is=new WeakSet,as=new WeakSet,ss=new WeakSet,os=new WeakSet,ls=new WeakSet,us=new WeakSet,cs=new WeakSet,hs=new WeakSet,ds=new WeakSet,fs=new WeakSet,vs=new WeakSet,ps=new WeakSet,gs=new WeakSet,ms=new WeakSet,ys=new WeakSet,bs=new WeakMap,ws=new WeakSet,ks=new WeakSet,xs=function(){function e(t,n,r,i,a,s,o,l,u,c,h,d,f){var v=this;ne(this,e),on(this,ks),on(this,ws),ln(this,bs,{get:Us,set:void 0}),on(this,ys),on(this,ms),on(this,gs),on(this,ps),on(this,vs),on(this,fs),on(this,ds),on(this,hs),on(this,cs),on(this,us),on(this,ls),on(this,os),on(this,ss),on(this,as),on(this,is),on(this,rs),on(this,ns),on(this,ts),ln(this,fa,{writable:!0,value:new AbortController}),ln(this,va,{writable:!0,value:null}),ln(this,pa,{writable:!0,value:new Map}),ln(this,ga,{writable:!0,value:new Map}),ln(this,ma,{writable:!0,value:null}),ln(this,ya,{writable:!0,value:null}),ln(this,ba,{writable:!0,value:null}),ln(this,wa,{writable:!0,value:new la}),ln(this,ka,{writable:!0,value:null}),ln(this,xa,{writable:!0,value:null}),ln(this,_a,{writable:!0,value:0}),ln(this,Aa,{writable:!0,value:new Set}),ln(this,Sa,{writable:!0,value:null}),ln(this,Ea,{writable:!0,value:null}),ln(this,Ca,{writable:!0,value:new Set}),xe(this,"_editorUndoBar",null),ln(this,Ma,{writable:!0,value:!1}),ln(this,Ta,{writable:!0,value:!1}),ln(this,Pa,{writable:!0,value:!1}),ln(this,Ra,{writable:!0,value:null}),ln(this,La,{writable:!0,value:null}),ln(this,Na,{writable:!0,value:null}),ln(this,Ia,{writable:!0,value:null}),ln(this,Da,{writable:!0,value:!1}),ln(this,Oa,{writable:!0,value:null}),ln(this,Fa,{writable:!0,value:new Qi}),ln(this,Wa,{writable:!0,value:!1}),ln(this,ja,{writable:!0,value:!1}),ln(this,za,{writable:!0,value:null}),ln(this,Ba,{writable:!0,value:null}),ln(this,Ua,{writable:!0,value:null}),ln(this,Ha,{writable:!0,value:null}),ln(this,Va,{writable:!0,value:Wn.NONE}),ln(this,Ga,{writable:!0,value:new Set}),ln(this,qa,{writable:!0,value:null}),ln(this,Xa,{writable:!0,value:null}),ln(this,Ya,{writable:!0,value:null}),ln(this,Ka,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}}),ln(this,Qa,{writable:!0,value:[0,0]}),ln(this,$a,{writable:!0,value:null}),ln(this,Ja,{writable:!0,value:null}),ln(this,Za,{writable:!0,value:null}),ln(this,es,{writable:!0,value:null});var p=this._signal=hn(this,fa).signal;fn(this,Ja,t),fn(this,Za,n),fn(this,ma,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",(function(e){return v.updateParams(e.type,e.value)}),{signal:p}),un(this,ss,Ms).call(this),un(this,fs,Ds).call(this),un(this,us,Rs).call(this),fn(this,ya,a.annotationStorage),fn(this,Ra,a.filterFactory),fn(this,Xa,s),fn(this,Ia,o||null),fn(this,Ma,l),fn(this,Ta,u),fn(this,Pa,c),fn(this,Ha,h||null),this.viewParameters={realScale:Zr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=d||null,this._supportsPinchToZoom=!1!==f}return ie(e,[{key:"destroy",value:function(){var e,t,n,r,i;null===(e=hn(this,es))||void 0===e||e.resolve(),fn(this,es,null),null===(t=hn(this,fa))||void 0===t||t.abort(),fn(this,fa,null),this._signal=null;var a,s=De(hn(this,ga).values());try{for(s.s();!(a=s.n()).done;){a.value.destroy()}}catch(o){s.e(o)}finally{s.f()}hn(this,ga).clear(),hn(this,pa).clear(),hn(this,Ca).clear(),fn(this,va,null),hn(this,Ga).clear(),hn(this,wa).destroy(),null===(n=hn(this,ma))||void 0===n||n.destroy(),null===(r=hn(this,Oa))||void 0===r||r.hide(),fn(this,Oa,null),hn(this,La)&&(clearTimeout(hn(this,La)),fn(this,La,null)),hn(this,$a)&&(clearTimeout(hn(this,$a)),fn(this,$a,null)),null===(i=this._editorUndoBar)||void 0===i||i.destroy()}},{key:"combinedSignal",value:function(e){return AbortSignal.any([this._signal,e.signal])}},{key:"mlManager",get:function(){return hn(this,Ha)}},{key:"useNewAltTextFlow",get:function(){return hn(this,Ta)}},{key:"useNewAltTextWhenAddingImage",get:function(){return hn(this,Pa)}},{key:"hcmFilter",get:function(){return Tr(this,"hcmFilter",hn(this,Xa)?hn(this,Ra).addHCMFilter(hn(this,Xa).foreground,hn(this,Xa).background):"none")}},{key:"direction",get:function(){return Tr(this,"direction",getComputedStyle(hn(this,Ja)).direction)}},{key:"highlightColors",get:function(){return Tr(this,"highlightColors",hn(this,Ia)?new Map(hn(this,Ia).split(",").map((function(e){return e.split("=").map((function(e){return e.trim()}))}))):null)}},{key:"highlightColorNames",get:function(){return Tr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(function(e){return e.reverse()}))):null)}},{key:"setCurrentDrawingSession",value:function(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),fn(this,xa,e)}},{key:"setMainHighlightColorPicker",value:function(e){fn(this,Ua,e)}},{key:"editAltText",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=hn(this,ma))||void 0===t||t.editAltText(this,e,n)}},{key:"switchToMode",value:function(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}},{key:"setPreference",value:function(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}},{key:"onSetPreference",value:function(e){var t=e.name,n=e.value;if("enableNewAltTextWhenAddingImage"===t)fn(this,Pa,n)}},{key:"onPageChanging",value:function(e){var t=e.pageNumber;fn(this,_a,t-1)}},{key:"focusMainContainer",value:function(){hn(this,Ja).focus()}},{key:"findParent",value:function(e,t){var n,r=De(hn(this,ga).values());try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.div.getBoundingClientRect(),s=a.x,o=a.y,l=a.width,u=a.height;if(e>=s&&e<=s+l&&t>=o&&t<=o+u)return i}}catch(c){r.e(c)}finally{r.f()}return null}},{key:"disableUserSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];hn(this,Za).classList.toggle("noUserSelect",e)}},{key:"addShouldRescale",value:function(e){hn(this,Ca).add(e)}},{key:"removeShouldRescale",value:function(e){hn(this,Ca).delete(e)}},{key:"onScaleChanging",value:function(e){var t,n=e.scale;this.commitOrRemove(),this.viewParameters.realScale=n*Zr.PDF_TO_CSS_UNITS;var r,i=De(hn(this,Ca));try{for(i.s();!(r=i.n()).done;){r.value.onScaleChanging()}}catch(a){i.e(a)}finally{i.f()}null===(t=hn(this,xa))||void 0===t||t.onScaleChanging()}},{key:"onRotationChanging",value:function(e){var t=e.pagesRotation;this.commitOrRemove(),this.viewParameters.rotation=t}},{key:"highlightSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=document.getSelection();if(n&&!n.isCollapsed){var r=n.anchorNode,i=n.anchorOffset,a=n.focusNode,s=n.focusOffset,o=n.toString(),l=un(this,ts,_s).call(this,n),u=l.closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty();var h=un(this,ns,As).call(this,u),d=hn(this,Va)===Wn.NONE,f=function(){null===h||void 0===h||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),d&&e.showAllEditors("highlight",!0,!0)};d?this.switchToMode(Wn.HIGHLIGHT,f):f()}}}},{key:"addToAnnotationStorage",value:function(e){e.isEmpty()||!hn(this,ya)||hn(this,ya).has(e.id)||hn(this,ya).setValue(e.id,e)}},{key:"blur",value:function(){if(this.isShiftKeyDown=!1,hn(this,Da)&&(fn(this,Da,!1),un(this,as,Cs).call(this,"main_toolbar")),this.hasSelection){var e,t=document.activeElement,n=De(hn(this,Ga));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.div.contains(t)){fn(this,Ba,[r,t]),r._focusEventsAllowed=!1;break}}}catch(i){n.e(i)}finally{n.f()}}}},{key:"focus",value:function(){if(hn(this,Ba)){var e=d(hn(this,Ba),2),t=e[0],n=e[1];fn(this,Ba,null),n.addEventListener("focusin",(function(){t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),n.focus()}}},{key:"addEditListeners",value:function(){un(this,us,Rs).call(this),un(this,hs,Ns).call(this)}},{key:"removeEditListeners",value:function(){un(this,cs,Ls).call(this),un(this,ds,Is).call(this)}},{key:"dragOver",value:function(e){var t,n=De(e.dataTransfer.items);try{for(n.s();!(t=n.n()).done;){var r,i=t.value.type,a=De(hn(this,Ea));try{for(a.s();!(r=a.n()).done;){if(r.value.isHandlingMimeForPasting(i))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"drop",value:function(e){var t,n=De(e.dataTransfer.items);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=De(hn(this,Ea));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.isHandlingMimeForPasting(i.type))return s.paste(i,this.currentLayer),void e.preventDefault()}}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}}},{key:"copy",value:function(e){var t;if(e.preventDefault(),null===(t=hn(this,va))||void 0===t||t.commitOrRemove(),this.hasSelection){var n,r=[],i=De(hn(this,Ga));try{for(i.s();!(n=i.n()).done;){var a=n.value.serialize(!0);a&&r.push(a)}}catch(s){i.e(s)}finally{i.f()}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}}},{key:"cut",value:function(e){this.copy(e),this.delete()}},{key:"paste",value:function(){var e=o(a().mark((function e(t){var n,r,i,s,o,l,u,c,h,d,f,v,p,g,m,y,b=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.clipboardData,r=De(n.items),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=27;break}s=i.value,o=De(hn(this,Ea)),e.prev=8,o.s();case 10:if((l=o.n()).done){e.next=17;break}if(!(u=l.value).isHandlingMimeForPasting(s.type)){e.next=15;break}return u.paste(s,this.currentLayer),e.abrupt("return");case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=5;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(3),r.e(e.t1);case 32:return e.prev=32,r.f(),e.finish(32);case 35:if(c=n.getData("application/pdfjs")){e.next=38;break}return e.abrupt("return");case 38:e.prev=38,c=JSON.parse(c),e.next=46;break;case 42:return e.prev=42,e.t2=e.catch(38),Ar('paste: "'.concat(e.t2.message,'".')),e.abrupt("return");case 46:if(Array.isArray(c)){e.next=48;break}return e.abrupt("return");case 48:this.unselectAll(),h=this.currentLayer,e.prev=50,d=[],f=De(c),e.prev=53,f.s();case 55:if((v=f.n()).done){e.next=65;break}return p=v.value,e.next=59,h.deserialize(p);case 59:if(g=e.sent){e.next=62;break}return e.abrupt("return");case 62:d.push(g);case 63:e.next=55;break;case 65:e.next=70;break;case 67:e.prev=67,e.t3=e.catch(53),f.e(e.t3);case 70:return e.prev=70,f.f(),e.finish(70);case 73:m=function(){var e,t=De(d);try{for(t.s();!(e=t.n()).done;){var n=e.value;un(b,ys,Bs).call(b,n)}}catch(r){t.e(r)}finally{t.f()}un(b,ks,Vs).call(b,d)},y=function(){var e,t=De(d);try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(n){t.e(n)}finally{t.f()}},this.addCommands({cmd:m,undo:y,mustExec:!0}),e.next=81;break;case 78:e.prev=78,e.t4=e.catch(50),Ar('paste: "'.concat(e.t4.message,'".'));case 81:case"end":return e.stop()}}),e,this,[[3,29,32,35],[8,19,22,25],[38,42],[50,78],[53,67,70,73]])})));return function(t){return e.apply(this,arguments)}}()},{key:"keydown",value:function(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),hn(this,Va)===Wn.NONE||this.isEditorHandlingKeyboard||e._keyboardManager.exec(this,t)}},{key:"keyup",value:function(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,hn(this,Da)&&(fn(this,Da,!1),un(this,as,Cs).call(this,"main_toolbar")))}},{key:"onEditingAction",value:function(e){var t=e.name;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}},{key:"setEditingState",value:function(e){e?(un(this,os,Ts).call(this),un(this,hs,Ns).call(this),un(this,vs,Os).call(this,{isEditing:hn(this,Va)!==Wn.NONE,isEmpty:un(this,ws,Hs).call(this),hasSomethingToUndo:hn(this,wa).hasSomethingToUndo(),hasSomethingToRedo:hn(this,wa).hasSomethingToRedo(),hasSelectedEditor:!1})):(un(this,ls,Ps).call(this),un(this,ds,Is).call(this),un(this,vs,Os).call(this,{isEditing:!1}),this.disableUserSelect(!1))}},{key:"registerEditorTypes",value:function(e){if(!hn(this,Ea)){fn(this,Ea,e);var t,n=De(hn(this,Ea));try{for(n.s();!(t=n.n()).done;){var r=t.value;un(this,ps,Fs).call(this,r.defaultPropertiesToUpdate)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"getId",value:function(){return hn(this,Fa).id}},{key:"currentLayer",get:function(){return hn(this,ga).get(hn(this,_a))}},{key:"getLayer",value:function(e){return hn(this,ga).get(e)}},{key:"currentPageIndex",get:function(){return hn(this,_a)}},{key:"addLayer",value:function(e){hn(this,ga).set(e.pageIndex,e),hn(this,Wa)?e.enable():e.disable()}},{key:"removeLayer",value:function(e){hn(this,ga).delete(e.pageIndex)}},{key:"updateMode",value:function(){var e=o(a().mark((function e(t){var n,r,i,s,o,l,u,c,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:null,r=h.length>2&&void 0!==h[2]&&h[2],hn(this,Va)!==t){e.next=4;break}return e.abrupt("return");case 4:if(!hn(this,es)){e.next=9;break}return e.next=7,hn(this,es).promise;case 7:if(hn(this,es)){e.next=9;break}return e.abrupt("return");case 9:if(fn(this,es,Promise.withResolvers()),fn(this,Va,t),t!==Wn.NONE){e.next=17;break}return this.setEditingState(!1),un(this,ms,zs).call(this),null===(i=this._editorUndoBar)||void 0===i||i.hide(),hn(this,es).resolve(),e.abrupt("return");case 17:return this.setEditingState(!0),e.next=20,un(this,gs,Ws).call(this);case 20:this.unselectAll(),s=De(hn(this,ga).values());try{for(s.s();!(o=s.n()).done;)o.value.updateMode(t)}catch(a){s.e(a)}finally{s.f()}if(n){e.next=27;break}return r&&this.addNewEditorFromKeyboard(),hn(this,es).resolve(),e.abrupt("return");case 27:l=De(hn(this,pa).values());try{for(l.s();!(u=l.n()).done;)(c=u.value).annotationElementId===n?(this.setSelected(c),c.enterInEditMode()):c.unselect()}catch(a){l.e(a)}finally{l.f()}hn(this,es).resolve();case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addNewEditorFromKeyboard",value:function(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}},{key:"updateToolbar",value:function(e){e!==hn(this,Va)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}},{key:"updateParams",value:function(e,t){var n;if(hn(this,Ea)){switch(e){case jn.CREATE:return void this.currentLayer.addNewEditor();case jn.HIGHLIGHT_DEFAULT_COLOR:null===(n=hn(this,Ua))||void 0===n||n.updateColor(t);break;case jn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(hn(this,Ya)||fn(this,Ya,new Map)).set(e,t),this.showAllEditors("highlight",t)}var r,i=De(hn(this,Ga));try{for(i.s();!(r=i.n()).done;){r.value.updateParams(e,t)}}catch(o){i.e(o)}finally{i.f()}var a,s=De(hn(this,Ea));try{for(s.s();!(a=s.n()).done;){a.value.updateDefaultParams(e,t)}}catch(o){s.e(o)}finally{s.f()}}}},{key:"showAllEditors",value:function(e,t){var n,r,i,a=De(hn(this,pa).values());try{for(a.s();!(i=a.n()).done;){var s=i.value;s.editorType===e&&s.show(t)}}catch(l){a.e(l)}finally{a.f()}var o=null===(n=null===(r=hn(this,Ya))||void 0===r?void 0:r.get(jn.HIGHLIGHT_SHOW_ALL))||void 0===n||n;o!==t&&un(this,ps,Fs).call(this,[[jn.HIGHLIGHT_SHOW_ALL,t]])}},{key:"enableWaiting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(hn(this,ja)!==e){fn(this,ja,e);var t,n=De(hn(this,ga).values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"getEditors",value:function(e){var t,n=[],r=De(hn(this,pa).values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.pageIndex===e&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"getEditor",value:function(e){return hn(this,pa).get(e)}},{key:"addEditor",value:function(e){hn(this,pa).set(e.id,e)}},{key:"removeEditor",value:function(e){var t,n=this;(e.div.contains(document.activeElement)&&(hn(this,La)&&clearTimeout(hn(this,La)),fn(this,La,setTimeout((function(){n.focusMainContainer(),fn(n,La,null)}),0))),hn(this,pa).delete(e.id),this.unselect(e),e.annotationElementId&&hn(this,Aa).has(e.annotationElementId))||(null===(t=hn(this,ya))||void 0===t||t.remove(e.id))}},{key:"addDeletedAnnotationElement",value:function(e){hn(this,Aa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}},{key:"isDeletedAnnotationElement",value:function(e){return hn(this,Aa).has(e)}},{key:"removeDeletedAnnotationElement",value:function(e){hn(this,Aa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}},{key:"setActiveEditor",value:function(e){hn(this,va)!==e&&(fn(this,va,e),e&&un(this,ps,Fs).call(this,e.propertiesToUpdate))}},{key:"updateUI",value:function(e){hn(this,bs)===e&&un(this,ps,Fs).call(this,e.propertiesToUpdate)}},{key:"updateUIForDefaultProperties",value:function(e){un(this,ps,Fs).call(this,e.defaultPropertiesToUpdate)}},{key:"toggleSelected",value:function(e){if(hn(this,Ga).has(e))return hn(this,Ga).delete(e),e.unselect(),void un(this,vs,Os).call(this,{hasSelectedEditor:this.hasSelection});hn(this,Ga).add(e),e.select(),un(this,ps,Fs).call(this,e.propertiesToUpdate),un(this,vs,Os).call(this,{hasSelectedEditor:!0})}},{key:"setSelected",value:function(e){var t;null===(t=hn(this,xa))||void 0===t||t.commitOrRemove();var n,r=De(hn(this,Ga));try{for(r.s();!(n=r.n()).done;){var i=n.value;i!==e&&i.unselect()}}catch(a){r.e(a)}finally{r.f()}hn(this,Ga).clear(),hn(this,Ga).add(e),e.select(),un(this,ps,Fs).call(this,e.propertiesToUpdate),un(this,vs,Os).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function(e){return hn(this,Ga).has(e)}},{key:"firstSelectedEditor",get:function(){return hn(this,Ga).values().next().value}},{key:"unselect",value:function(e){e.unselect(),hn(this,Ga).delete(e),un(this,vs,Os).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function(){return 0!==hn(this,Ga).size}},{key:"isEnterHandled",get:function(){return 1===hn(this,Ga).size&&this.firstSelectedEditor.isEnterHandled}},{key:"undo",value:function(){var e;hn(this,wa).undo(),un(this,vs,Os).call(this,{hasSomethingToUndo:hn(this,wa).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:un(this,ws,Hs).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}},{key:"redo",value:function(){hn(this,wa).redo(),un(this,vs,Os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:hn(this,wa).hasSomethingToRedo(),isEmpty:un(this,ws,Hs).call(this)})}},{key:"addCommands",value:function(e){hn(this,wa).add(e),un(this,vs,Os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:un(this,ws,Hs).call(this)})}},{key:"cleanUndoStack",value:function(e){hn(this,wa).cleanType(e)}},{key:"delete",value:function(){var e,t=this;this.commitOrRemove();var n=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(this.hasSelection||n){var r=n?[n]:et(hn(this,Ga)),i=function(){var e,n=De(r);try{for(n.s();!(e=n.n()).done;){var i=e.value;un(t,ys,Bs).call(t,i)}}catch(a){n.e(a)}finally{n.f()}};this.addCommands({cmd:function(){var e;null===(e=t._editorUndoBar)||void 0===e||e.show(i,1===r.length?r[0].editorType:r.length);var n,a=De(r);try{for(a.s();!(n=a.n()).done;){n.value.remove()}}catch(s){a.e(s)}finally{a.f()}},undo:i,mustExec:!0})}}},{key:"commitOrRemove",value:function(){var e;null===(e=hn(this,va))||void 0===e||e.commitOrRemove()}},{key:"hasSomethingToControl",value:function(){return hn(this,va)||this.hasSelection}},{key:"selectAll",value:function(){var e,t=De(hn(this,Ga));try{for(t.s();!(e=t.n()).done;){e.value.commit()}}catch(n){t.e(n)}finally{t.f()}un(this,ks,Vs).call(this,hn(this,pa).values())}},{key:"unselectAll",value:function(){var e;if((!hn(this,va)||(hn(this,va).commitOrRemove(),hn(this,Va)===Wn.NONE))&&(null===(e=hn(this,xa))||void 0===e||!e.commitOrRemove())&&this.hasSelection){var t,n=De(hn(this,Ga));try{for(n.s();!(t=n.n()).done;){t.value.unselect()}}catch(r){n.e(r)}finally{n.f()}hn(this,Ga).clear(),un(this,vs,Os).call(this,{hasSelectedEditor:!1})}}},{key:"translateSelectedEditors",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r||this.commitOrRemove(),this.hasSelection){hn(this,Qa)[0]+=e,hn(this,Qa)[1]+=t;var i=hn(this,Qa),a=d(i,2),s=a[0],o=a[1],l=et(hn(this,Ga)),u=1e3;hn(this,$a)&&clearTimeout(hn(this,$a)),fn(this,$a,setTimeout((function(){fn(n,$a,null),hn(n,Qa)[0]=hn(n,Qa)[1]=0,n.addCommands({cmd:function(){var e,t=De(l);try{for(t.s();!(e=t.n()).done;){var r=e.value;hn(n,pa).has(r.id)&&r.translateInPage(s,o)}}catch(i){t.e(i)}finally{t.f()}},undo:function(){var e,t=De(l);try{for(t.s();!(e=t.n()).done;){var r=e.value;hn(n,pa).has(r.id)&&r.translateInPage(-s,-o)}}catch(i){t.e(i)}finally{t.f()}},mustExec:!1})}),u));var c,h=De(l);try{for(h.s();!(c=h.n()).done;){var f=c.value;f.translateInPage(e,t)}}catch(v){h.e(v)}finally{h.f()}}}},{key:"setUpDragSession",value:function(){if(this.hasSelection){this.disableUserSelect(!0),fn(this,Sa,new Map);var e,t=De(hn(this,Ga));try{for(t.s();!(e=t.n()).done;){var n=e.value;hn(this,Sa).set(n,{savedX:n.x,savedY:n.y,savedPageIndex:n.pageIndex,newX:0,newY:0,newPageIndex:-1})}}catch(r){t.e(r)}finally{t.f()}}}},{key:"endDragSession",value:function(){var e=this;if(!hn(this,Sa))return!1;this.disableUserSelect(!1);var t=hn(this,Sa);fn(this,Sa,null);var n,r=!1,i=De(t);try{for(i.s();!(n=i.n()).done;){var a=d(n.value,2),s=a[0],o=s.x,l=s.y,u=s.pageIndex,c=a[1];c.newX=o,c.newY=l,c.newPageIndex=u,r||(r=o!==c.savedX||l!==c.savedY||u!==c.savedPageIndex)}}catch(f){i.e(f)}finally{i.f()}if(!r)return!1;var h=function(t,n,r,i){if(hn(e,pa).has(t.id)){var a=hn(e,ga).get(i);a?t._setParentAndPosition(a,n,r):(t.pageIndex=i,t.x=n,t.y=r)}};return this.addCommands({cmd:function(){var e,n=De(t);try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1],s=a.newX,o=a.newY,l=a.newPageIndex;h(i,s,o,l)}}catch(f){n.e(f)}finally{n.f()}},undo:function(){var e,n=De(t);try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1],s=a.savedX,o=a.savedY,l=a.savedPageIndex;h(i,s,o,l)}}catch(f){n.e(f)}finally{n.f()}},mustExec:!0}),!0}},{key:"dragSelectedEditors",value:function(e,t){if(hn(this,Sa)){var n,r=De(hn(this,Sa).keys());try{for(r.s();!(n=r.n()).done;){n.value.drag(e,t)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"rebuild",value:function(e){if(null===e.parent){var t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}},{key:"isEditorHandlingKeyboard",get:function(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===hn(this,Ga).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}},{key:"isActive",value:function(e){return hn(this,va)===e}},{key:"getActive",value:function(){return hn(this,va)}},{key:"getMode",value:function(){return hn(this,Va)}},{key:"imageManager",get:function(){return Tr(this,"imageManager",new ta)}},{key:"getSelectionBoxes",value:function(e){if(!e)return null;for(var t=document.getSelection(),n=0,r=t.rangeCount;n<r;n++)if(!e.contains(t.getRangeAt(n).commonAncestorContainer))return null;var i,a=e.getBoundingClientRect(),s=a.x,o=a.y,l=a.width,u=a.height;switch(e.getAttribute("data-main-rotation")){case"90":i=function(e,t,n,r){return{x:(t-o)/u,y:1-(e+n-s)/l,width:r/u,height:n/l}};break;case"180":i=function(e,t,n,r){return{x:1-(e+n-s)/l,y:1-(t+r-o)/u,width:n/l,height:r/u}};break;case"270":i=function(e,t,n,r){return{x:1-(t+r-o)/u,y:(e-s)/l,width:r/u,height:n/l}};break;default:i=function(e,t,n,r){return{x:(e-s)/l,y:(t-o)/u,width:n/l,height:r/u}}}var c=[];for(n=0,r=t.rangeCount;n<r;n++){var h=t.getRangeAt(n);if(!h.collapsed){var d,f=De(h.getClientRects());try{for(f.s();!(d=f.n()).done;){var v=d.value,p=v.x,g=v.y,m=v.width,y=v.height;0!==m&&0!==y&&c.push(i(p,g,m,y))}}catch(b){f.e(b)}finally{f.f()}}}return 0===c.length?null:c}},{key:"addChangedExistingAnnotation",value:function(e){var t=e.annotationElementId,n=e.id;(hn(this,ba)||fn(this,ba,new Map)).set(t,n)}},{key:"removeChangedExistingAnnotation",value:function(e){var t,n=e.annotationElementId;null===(t=hn(this,ba))||void 0===t||t.delete(n)}},{key:"renderAnnotationElement",value:function(e){var t,n=null===(t=hn(this,ba))||void 0===t?void 0:t.get(e.data.id);if(n){var r=hn(this,ya).getRawValue(n);r&&(hn(this,Va)!==Wn.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}}}],[{key:"_keyboardManager",get:function(){var t=e.prototype,n=function(e){return hn(e,Ja).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl()},r=function(e,t){var n=t.target;if(n instanceof HTMLInputElement){var r=n.type;return"text"!==r&&"number"!==r}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Tr(this,"_keyboardManager",new ca([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:function(e,t){var n=t.target;return!(n instanceof HTMLButtonElement)&&hn(e,Ja).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:function(e,t){return!(t.target instanceof HTMLButtonElement)&&hn(e,Ja).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:n}]]))}}]),e}();function _s(e){var t=e.anchorNode;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function As(e){var t=this.currentLayer;if(t.hasTextLayer(e))return t;var n,r=De(hn(this,ga).values());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.hasTextLayer(e))return i}}catch(a){r.e(a)}finally{r.f()}return null}function Ss(){var e=document.getSelection();if(e&&!e.isCollapsed){var t=un(this,ts,_s).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(hn(this,Oa)||fn(this,Oa,new Vi(this)),hn(this,Oa).show(t,n,"ltr"===this.direction))}}function Es(){var e,t=this,n=document.getSelection();if(n&&!n.isCollapsed){var r=n.anchorNode;if(r!==hn(this,qa)){var i,a=un(this,ts,_s).call(this,n).closest(".textLayer");if(a){if(null===(e=hn(this,Oa))||void 0===e||e.hide(),fn(this,qa,r),un(this,vs,Os).call(this,{hasSelectedText:!0}),(hn(this,Va)===Wn.HIGHLIGHT||hn(this,Va)===Wn.NONE)&&(hn(this,Va)===Wn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),fn(this,Da,this.isShiftKeyDown),!this.isShiftKeyDown)){var s=hn(this,Va)===Wn.HIGHLIGHT?un(this,ns,As).call(this,a):null;null===s||void 0===s||s.toggleDrawing();var o=new AbortController,l=this.combinedSignal(o),u=function(e){"pointerup"===e.type&&0!==e.button||(o.abort(),null===s||void 0===s||s.toggleDrawing(!0),"pointerup"===e.type&&un(t,as,Cs).call(t,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}}else hn(this,qa)&&(null===(i=hn(this,Oa))||void 0===i||i.hide(),fn(this,qa,null),un(this,vs,Os).call(this,{hasSelectedText:!1}))}}else{var c;hn(this,qa)&&(null===(c=hn(this,Oa))||void 0===c||c.hide(),fn(this,qa,null),un(this,vs,Os).call(this,{hasSelectedText:!1}))}}function Cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";hn(this,Va)===Wn.HIGHLIGHT?this.highlightSelection(e):hn(this,Ma)&&un(this,rs,Ss).call(this)}function Ms(){document.addEventListener("selectionchange",un(this,is,Es).bind(this),{signal:this._signal})}function Ts(){if(!hn(this,Na)){fn(this,Na,new AbortController);var e=this.combinedSignal(hn(this,Na));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}}function Ps(){var e;null===(e=hn(this,Na))||void 0===e||e.abort(),fn(this,Na,null)}function Rs(){if(!hn(this,za)){fn(this,za,new AbortController);var e=this.combinedSignal(hn(this,za));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}}function Ls(){var e;null===(e=hn(this,za))||void 0===e||e.abort(),fn(this,za,null)}function Ns(){if(!hn(this,ka)){fn(this,ka,new AbortController);var e=this.combinedSignal(hn(this,ka));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}}function Is(){var e;null===(e=hn(this,ka))||void 0===e||e.abort(),fn(this,ka,null)}function Ds(){var e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function Os(e){var t=this;Object.entries(e).some((function(e){var n=d(e,2),r=n[0],i=n[1];return hn(t,Ka)[r]!==i}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(hn(this,Ka),e)}),hn(this,Va)===Wn.HIGHLIGHT&&!1===e.hasSelectedEditor&&un(this,ps,Fs).call(this,[[jn.HIGHLIGHT_FREE,!0]]))}function Fs(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function Ws(){return js.apply(this,arguments)}function js(){return(js=o(a().mark((function e(){var t,n,r,i,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hn(this,Wa)){e.next=9;break}fn(this,Wa,!0),t=[],n=De(hn(this,ga).values());try{for(n.s();!(r=n.n()).done;)i=r.value,t.push(i.enable())}catch(a){n.e(a)}finally{n.f()}return e.next=7,Promise.all(t);case 7:s=De(hn(this,pa).values());try{for(s.s();!(o=s.n()).done;)o.value.enable()}catch(a){s.e(a)}finally{s.f()}case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function zs(){if(this.unselectAll(),hn(this,Wa)){fn(this,Wa,!1);var e,t=De(hn(this,ga).values());try{for(t.s();!(e=t.n()).done;){e.value.disable()}}catch(i){t.e(i)}finally{t.f()}var n,r=De(hn(this,pa).values());try{for(r.s();!(n=r.n()).done;){n.value.disable()}}catch(i){r.e(i)}finally{r.f()}}}function Bs(e){var t=hn(this,ga).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function Us(){var e,t=null,n=De(hn(this,Ga));try{for(n.s();!(e=n.n()).done;)t=e.value}catch(r){n.e(r)}finally{n.f()}return t}function Hs(){if(0===hn(this,pa).size)return!0;if(1===hn(this,pa).size){var e,t=De(hn(this,pa).values());try{for(t.s();!(e=t.n()).done;){return e.value.isEmpty()}}catch(n){t.e(n)}finally{t.f()}}return!1}function Vs(e){var t,n=De(hn(this,Ga));try{for(n.s();!(t=n.n()).done;){t.value.unselect()}}catch(s){n.e(s)}finally{n.f()}hn(this,Ga).clear();var r,i=De(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.isEmpty()||(hn(this,Ga).add(a),a.select())}}catch(s){i.e(s)}finally{i.f()}un(this,vs,Os).call(this,{hasSelectedEditor:this.hasSelection})}xe(xs,"TRANSLATE_SMALL",1),xe(xs,"TRANSLATE_BIG",10);var Gs=new WeakMap,qs=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,Ks=new WeakMap,Qs=new WeakMap,$s=new WeakMap,Js=new WeakMap,Zs=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,ro=new WeakMap,io=new WeakSet,ao=function(){function e(t){ne(this,e),on(this,io),ln(this,ro,{get:so,set:void 0}),ln(this,Gs,{writable:!0,value:null}),ln(this,qs,{writable:!0,value:!1}),ln(this,Xs,{writable:!0,value:null}),ln(this,Ys,{writable:!0,value:null}),ln(this,Ks,{writable:!0,value:null}),ln(this,Qs,{writable:!0,value:null}),ln(this,$s,{writable:!0,value:!1}),ln(this,Js,{writable:!0,value:null}),ln(this,Zs,{writable:!0,value:null}),ln(this,eo,{writable:!0,value:null}),ln(this,to,{writable:!0,value:null}),ln(this,no,{writable:!0,value:!1}),fn(this,Zs,t),fn(this,no,t._uiManager.useNewAltTextFlow),mn(e,e,uo)||gn(e,e,uo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}return ie(e,[{key:"render",value:function(){var t=o(a().mark((function t(){var n,r,i,s,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=fn(this,Xs,document.createElement("button"))).className="altText",n.tabIndex="0",r=fn(this,Ys,document.createElement("span")),n.append(r),hn(this,no)?(n.classList.add("new"),n.setAttribute("data-l10n-id",mn(e,e,uo).missing),r.setAttribute("data-l10n-id",mn(e,e,uo)["missing-label"])):(n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label")),i=hn(this,Zs)._uiManager._signal,n.addEventListener("contextmenu",ci,{signal:i}),n.addEventListener("pointerdown",(function(e){return e.stopPropagation()}),{signal:i}),s=function(e){e.preventDefault(),hn(o,Zs)._uiManager.editAltText(hn(o,Zs)),hn(o,no)&&hn(o,Zs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:hn(o,ro)}})},n.addEventListener("click",s,{capture:!0,signal:i}),n.addEventListener("keydown",(function(e){e.target===n&&"Enter"===e.key&&(fn(o,$s,!0),s(e))}),{signal:i}),t.next=14,un(this,io,oo).call(this);case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"finish",value:function(){hn(this,Xs)&&(hn(this,Xs).focus({focusVisible:hn(this,$s)}),fn(this,$s,!1))}},{key:"isEmpty",value:function(){return hn(this,no)?null===hn(this,Gs):!hn(this,Gs)&&!hn(this,qs)}},{key:"hasData",value:function(){return hn(this,no)?null!==hn(this,Gs)||!!hn(this,eo):this.isEmpty()}},{key:"guessedText",get:function(){return hn(this,eo)}},{key:"setGuessedText",value:function(){var t=o(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===hn(this,Gs)){t.next=2;break}return t.abrupt("return");case 2:return fn(this,eo,n),t.t0=fn,t.t1=this,t.t2=to,t.next=8,e._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:n});case 8:t.t3=t.sent,(0,t.t0)(t.t1,t.t2,t.t3),un(this,io,oo).call(this);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"toggleAltTextBadge",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!hn(this,no)||hn(this,Gs))return null===(e=hn(this,Js))||void 0===e||e.remove(),void fn(this,Js,null);if(!hn(this,Js)){var n=fn(this,Js,document.createElement("div"));n.className="noAltTextBadge",hn(this,Zs).div.append(n)}hn(this,Js).classList.toggle("hidden",!t)}},{key:"serialize",value:function(e){var t=hn(this,Gs);return e||hn(this,eo)!==t||(t=hn(this,to)),{altText:t,decorative:hn(this,qs),guessedText:hn(this,eo),textWithDisclaimer:hn(this,to)}}},{key:"data",get:function(){return{altText:hn(this,Gs),decorative:hn(this,qs)}},set:function(e){var t=e.altText,n=e.decorative,r=e.guessedText,i=e.textWithDisclaimer,a=e.cancel,s=void 0!==a&&a;r&&(fn(this,eo,r),fn(this,to,i)),hn(this,Gs)===t&&hn(this,qs)===n||(s||(fn(this,Gs,t),fn(this,qs,n)),un(this,io,oo).call(this))}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];hn(this,Xs)&&(!e&&hn(this,Qs)&&(clearTimeout(hn(this,Qs)),fn(this,Qs,null)),hn(this,Xs).disabled=!e)}},{key:"shown",value:function(){hn(this,Zs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:hn(this,ro)}})}},{key:"destroy",value:function(){var e,t;null===(e=hn(this,Xs))||void 0===e||e.remove(),fn(this,Xs,null),fn(this,Ys,null),fn(this,Ks,null),null===(t=hn(this,Js))||void 0===t||t.remove(),fn(this,Js,null)}}],[{key:"initialize",value:function(t){var n;null!==(n=e._l10n)&&void 0!==n||(e._l10n=t)}}]),e}();function so(){return(hn(this,Gs)?"added":null===hn(this,Gs)&&this.guessedText&&"review")||"missing"}function oo(){return lo.apply(this,arguments)}function lo(){return(lo=o(a().mark((function e(){var t,n,r,i,s,o,l,u=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hn(this,Xs)){e.next=3;break}return e.abrupt("return");case 3:if(!hn(this,no)){e.next=12;break}if(t.classList.toggle("done",!!hn(this,Gs)),t.setAttribute("data-l10n-id",mn(ao,ao,uo)[hn(this,ro)]),null===(n=hn(this,Ys))||void 0===n||n.setAttribute("data-l10n-id",mn(ao,ao,uo)["".concat(hn(this,ro),"-label")]),hn(this,Gs)){e.next=10;break}return null===(r=hn(this,Ks))||void 0===r||r.remove(),e.abrupt("return");case 10:e.next=18;break;case 12:if(hn(this,Gs)||hn(this,qs)){e.next=16;break}return t.classList.remove("done"),null===(i=hn(this,Ks))||void 0===i||i.remove(),e.abrupt("return");case 16:t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button");case 18:(s=hn(this,Ks))||(fn(this,Ks,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id="alt-text-tooltip-".concat(hn(this,Zs).id),100,(o=hn(this,Zs)._uiManager._signal).addEventListener("abort",(function(){clearTimeout(hn(u,Qs)),fn(u,Qs,null)}),{once:!0}),t.addEventListener("mouseenter",(function(){fn(u,Qs,setTimeout((function(){fn(u,Qs,null),hn(u,Ks).classList.add("show"),hn(u,Zs)._reportTelemetry({action:"alt_text_tooltip"})}),100))}),{signal:o}),t.addEventListener("mouseleave",(function(){var e;hn(u,Qs)&&(clearTimeout(hn(u,Qs)),fn(u,Qs,null)),null===(e=hn(u,Ks))||void 0===e||e.classList.remove("show")}),{signal:o})),hn(this,qs)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=hn(this,Gs)),s.parentNode||t.append(s),null===(l=hn(this,Zs).getImageForAltText())||void 0===l||l.setAttribute("aria-describedby",s.id);case 24:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var uo={writable:!0,value:null};xe(ao,"_l10n",null);var co=new WeakMap,ho=new WeakMap,fo=new WeakMap,vo=new WeakMap,po=new WeakMap,go=new WeakMap,mo=new WeakMap,yo=new WeakMap,bo=new WeakMap,wo=new WeakMap,ko=new WeakMap,xo=new WeakSet,_o=new WeakSet,Ao=new WeakSet,So=function(){function e(t){var n=t.container,r=t.isPinchingDisabled,i=void 0===r?null:r,a=t.isPinchingStopped,s=void 0===a?null:a,o=t.onPinchStart,l=void 0===o?null:o,u=t.onPinching,c=void 0===u?null:u,h=t.onPinchEnd,d=void 0===h?null:h,f=t.signal;ne(this,e),on(this,Ao),on(this,_o),on(this,xo),ln(this,co,{writable:!0,value:void 0}),ln(this,ho,{writable:!0,value:!1}),ln(this,fo,{writable:!0,value:null}),ln(this,vo,{writable:!0,value:void 0}),ln(this,po,{writable:!0,value:void 0}),ln(this,go,{writable:!0,value:void 0}),ln(this,mo,{writable:!0,value:void 0}),ln(this,yo,{writable:!0,value:void 0}),ln(this,bo,{writable:!0,value:null}),ln(this,wo,{writable:!0,value:void 0}),ln(this,ko,{writable:!0,value:null}),fn(this,co,n),fn(this,fo,s),fn(this,vo,i),fn(this,po,l),fn(this,go,c),fn(this,mo,d),fn(this,wo,new AbortController),fn(this,yo,AbortSignal.any([f,hn(this,wo).signal])),n.addEventListener("touchstart",un(this,xo,Eo).bind(this),{passive:!1,signal:hn(this,yo)})}return ie(e,[{key:"MIN_TOUCH_DISTANCE_TO_PINCH",get:function(){return Tr(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}},{key:"destroy",value:function(){var e;null===(e=hn(this,wo))||void 0===e||e.abort(),fn(this,wo,null)}}]),e}();function Eo(e){var t,n;if(!(null!==(t=hn(this,vo))&&void 0!==t&&t.call(this)||e.touches.length<2)){if(!hn(this,ko)){var r;fn(this,ko,new AbortController);var i=AbortSignal.any([hn(this,yo),hn(this,ko).signal]),a=hn(this,co),s={signal:i,passive:!1};a.addEventListener("touchmove",un(this,_o,Co).bind(this),s),a.addEventListener("touchend",un(this,Ao,Mo).bind(this),s),a.addEventListener("touchcancel",un(this,Ao,Mo).bind(this),s),null===(r=hn(this,po))||void 0===r||r.call(this)}if(hi(e),2!==e.touches.length||null!==(n=hn(this,fo))&&void 0!==n&&n.call(this))fn(this,bo,null);else{var o=d(e.touches,2),l=o[0],u=o[1];if(l.identifier>u.identifier){var c=[u,l];l=c[0],u=c[1]}fn(this,bo,{touch0X:l.screenX,touch0Y:l.screenY,touch1X:u.screenX,touch1Y:u.screenY})}}}function Co(e){var t;if(hn(this,bo)&&2===e.touches.length){var n=d(e.touches,2),r=n[0],i=n[1];if(r.identifier>i.identifier){var a=[i,r];r=a[0],i=a[1]}var s=r,o=s.screenX,l=s.screenY,u=i,c=u.screenX,h=u.screenY,f=hn(this,bo),v=f.touch0X,p=f.touch0Y,g=f.touch1X-v,m=f.touch1Y-p,y=c-o,b=h-l,w=Math.hypot(y,b)||1,k=Math.hypot(g,m)||1;if(hn(this,ho)||!(Math.abs(k-w)<=So.MIN_TOUCH_DISTANCE_TO_PINCH))if(f.touch0X=o,f.touch0Y=l,f.touch1X=c,f.touch1Y=h,e.preventDefault(),hn(this,ho)){var x=[(o+c)/2,(l+h)/2];null===(t=hn(this,go))||void 0===t||t.call(this,x,k,w)}else fn(this,ho,!0)}}function Mo(e){var t;hn(this,ko).abort(),fn(this,ko,null),null===(t=hn(this,mo))||void 0===t||t.call(this),hn(this,bo)&&(e.preventDefault(),fn(this,bo,null),fn(this,ho,!1))}var To=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Lo=new WeakMap,No=new WeakMap,Io=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Fo=new WeakMap,Wo=new WeakMap,jo=new WeakMap,zo=new WeakMap,Bo=new WeakMap,Uo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Go=new WeakMap,qo=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,$o=new WeakMap,Jo=new WeakMap,Zo=new WeakSet,el=new WeakSet,tl=new WeakSet,nl=new WeakSet,rl=new WeakSet,il=new WeakSet,al=new WeakSet,sl=new WeakSet,ol=new WeakSet,ll=new WeakSet,ul=new WeakSet,cl=new WeakSet,hl=new WeakSet,dl=new WeakSet,fl=new WeakSet,vl=new WeakSet,pl=new WeakSet,gl=new WeakSet,ml=function(){function e(t){ne(this,e),on(this,gl),on(this,pl),on(this,vl),on(this,fl),on(this,dl),on(this,hl),on(this,cl),on(this,ul),on(this,ll),on(this,ol),on(this,sl),on(this,al),on(this,il),on(this,rl),on(this,nl),on(this,tl),on(this,el),on(this,Zo),ln(this,To,{writable:!0,value:null}),ln(this,Po,{writable:!0,value:null}),ln(this,Ro,{writable:!0,value:null}),ln(this,Lo,{writable:!0,value:!1}),ln(this,No,{writable:!0,value:null}),ln(this,Io,{writable:!0,value:""}),ln(this,Do,{writable:!0,value:!1}),ln(this,Oo,{writable:!0,value:null}),ln(this,Fo,{writable:!0,value:null}),ln(this,Wo,{writable:!0,value:null}),ln(this,jo,{writable:!0,value:null}),ln(this,zo,{writable:!0,value:""}),ln(this,Bo,{writable:!0,value:!1}),ln(this,Uo,{writable:!0,value:null}),ln(this,Ho,{writable:!0,value:!1}),ln(this,Vo,{writable:!0,value:!1}),ln(this,Go,{writable:!0,value:!1}),ln(this,qo,{writable:!0,value:null}),ln(this,Xo,{writable:!0,value:0}),ln(this,Yo,{writable:!0,value:0}),ln(this,Ko,{writable:!0,value:null}),ln(this,Qo,{writable:!0,value:null}),xe(this,"_editToolbar",null),xe(this,"_initialOptions",Object.create(null)),xe(this,"_initialData",null),xe(this,"_isVisible",!0),xe(this,"_uiManager",null),xe(this,"_focusEventsAllowed",!0),ln(this,$o,{writable:!0,value:!1}),ln(this,Jo,{writable:!0,value:e._zIndex++}),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;var n=this.parent.viewport,r=n.rotation,i=n.rawDims,a=i.pageWidth,s=i.pageHeight,o=i.pageX,l=i.pageY;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,s],this.pageTranslation=[o,l];var u=d(this.parentDimensions,2),c=u[0],h=u[1];this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}return ie(e,[{key:"editorType",get:function(){return Object.getPrototypeOf(this).constructor._type}},{key:"propertiesToUpdate",get:function(){return[]}},{key:"_isDraggable",get:function(){return hn(this,$o)},set:function(e){var t;fn(this,$o,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}},{key:"isEnterHandled",get:function(){return!0}},{key:"center",value:function(){var e=d(this.pageDimensions,2),t=e[0],n=e[1];switch(this.parentRotation){case 90:this.x-=this.height*n/(2*t),this.y+=this.width*t/(2*n);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(2*t),this.y-=this.width*t/(2*n);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}},{key:"addCommands",value:function(e){this._uiManager.addCommands(e)}},{key:"currentLayer",get:function(){return this._uiManager.currentLayer}},{key:"setInBackground",value:function(){this.div.style.zIndex=0}},{key:"setInForeground",value:function(){this.div.style.zIndex=hn(this,Jo)}},{key:"setParent",value:function(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):un(this,gl,Ol).call(this),this.parent=e}},{key:"focusin",value:function(e){this._focusEventsAllowed&&(hn(this,Bo)?fn(this,Bo,!1):this.parent.setSelected(this))}},{key:"focusout",value:function(e){var t;if(this._focusEventsAllowed&&this.isAttachedToDOM){var n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}}},{key:"commitOrRemove",value:function(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function(){this.addToAnnotationStorage()}},{key:"addToAnnotationStorage",value:function(){this._uiManager.addToAnnotationStorage(this)}},{key:"setAt",value:function(e,t,n,r){var i=d(this.parentDimensions,2),a=i[0],s=i[1],o=d(this.screenToPageTranslation(n,r),2);n=o[0],r=o[1],this.x=(e+n)/a,this.y=(t+r)/s,this.fixAndSetPosition()}},{key:"translate",value:function(e,t){un(this,Zo,yl).call(this,this.parentDimensions,e,t)}},{key:"translateInPage",value:function(e,t){hn(this,Uo)||fn(this,Uo,[this.x,this.y,this.width,this.height]),un(this,Zo,yl).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}},{key:"drag",value:function(e,t){hn(this,Uo)||fn(this,Uo,[this.x,this.y,this.width,this.height]);var n=this.div,r=d(this.parentDimensions,2),i=r[0],a=r[1];if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){var s=this.div.getBoundingClientRect(),o=s.x,l=s.y;this.parent.findNewParent(this,o,l)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}var u=this.x,c=this.y,h=d(this.getBaseTranslation(),2);u+=h[0],c+=h[1];var f=n.style;f.left="".concat((100*u).toFixed(2),"%"),f.top="".concat((100*c).toFixed(2),"%"),this._onTranslating(u,c),n.scrollIntoView({block:"nearest"})}},{key:"_onTranslating",value:function(e,t){}},{key:"_onTranslated",value:function(e,t){}},{key:"_hasBeenMoved",get:function(){return!!hn(this,Uo)&&(hn(this,Uo)[0]!==this.x||hn(this,Uo)[1]!==this.y)}},{key:"_hasBeenResized",get:function(){return!!hn(this,Uo)&&(hn(this,Uo)[2]!==this.width||hn(this,Uo)[3]!==this.height)}},{key:"getBaseTranslation",value:function(){var t=d(this.parentDimensions,2),n=t[0],r=t[1],i=e._borderLineWidth,a=i/n,s=i/r;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}},{key:"_mustFixPosition",get:function(){return!0}},{key:"fixAndSetPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation,t=this.div.style,n=d(this.pageDimensions,2),r=n[0],i=n[1],a=this.x,s=this.y,o=this.width,l=this.height;if(o*=r,l*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(r-o,a)),s=Math.max(0,Math.min(i-l,s));break;case 90:a=Math.max(0,Math.min(r-l,a)),s=Math.min(i,Math.max(o,s));break;case 180:a=Math.min(r,Math.max(o,a)),s=Math.min(i,Math.max(l,s));break;case 270:a=Math.min(r,Math.max(l,a)),s=Math.max(0,Math.min(i-o,s))}this.x=a/=r,this.y=s/=i;var u=this.getBaseTranslation(),c=d(u,2),h=c[0],f=c[1];a+=h,s+=f,t.left="".concat((100*a).toFixed(2),"%"),t.top="".concat((100*s).toFixed(2),"%"),this.moveInDOM()}},{key:"screenToPageTranslation",value:function(t,n){return yn(e,e,bl).call(e,t,n,this.parentRotation)}},{key:"pageTranslationToScreen",value:function(t,n){return yn(e,e,bl).call(e,t,n,360-this.parentRotation)}},{key:"parentScale",get:function(){return this._uiManager.viewParameters.realScale}},{key:"parentRotation",get:function(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}},{key:"parentDimensions",get:function(){var e=this.parentScale,t=d(this.pageDimensions,2);return[t[0]*e,t[1]*e]}},{key:"setDims",value:function(e,t){var n=d(this.parentDimensions,2),r=n[0],i=n[1],a=this.div.style;a.width="".concat((100*e/r).toFixed(2),"%"),hn(this,Do)||(a.height="".concat((100*t/i).toFixed(2),"%"))}},{key:"fixDims",value:function(){var e=this.div.style,t=e.height,n=e.width,r=n.endsWith("%"),i=!hn(this,Do)&&t.endsWith("%");if(!r||!i){var a=d(this.parentDimensions,2),s=a[0],o=a[1];r||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),hn(this,Do)||i||(e.height="".concat((100*parseFloat(t)/o).toFixed(2),"%"))}}},{key:"getInitialTranslation",value:function(){return[0,0]}},{key:"_onResized",value:function(){}},{key:"_onResizing",value:function(){}},{key:"altTextFinish",value:function(){var e;null===(e=hn(this,Ro))||void 0===e||e.finish()}},{key:"addEditToolbar",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._editToolbar&&!hn(this,Vo)){e.next=2;break}return e.abrupt("return",this._editToolbar);case 2:if(this._editToolbar=new Pi(this),this.div.append(this._editToolbar.render()),!hn(this,Ro)){e.next=7;break}return e.next=7,this._editToolbar.addAltText(hn(this,Ro));case 7:return e.abrupt("return",this._editToolbar);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeEditToolbar",value:function(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=hn(this,Ro))||void 0===e||e.destroy())}},{key:"addContainer",value:function(e){var t,n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}},{key:"getClientDimensions",value:function(){return this.div.getBoundingClientRect()}},{key:"addAltTextButton",value:function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!hn(this,Ro)){t.next=2;break}return t.abrupt("return");case 2:return ao.initialize(e._l10n),fn(this,Ro,new ao(this)),hn(this,To)&&(hn(this,Ro).data=hn(this,To),fn(this,To,null)),t.next=7,this.addEditToolbar();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"altTextData",get:function(){var e;return null===(e=hn(this,Ro))||void 0===e?void 0:e.data},set:function(e){hn(this,Ro)&&(hn(this,Ro).data=e)}},{key:"guessedAltText",get:function(){var e;return null===(e=hn(this,Ro))||void 0===e?void 0:e.guessedText}},{key:"setGuessedAltText",value:function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=hn(this,Ro))||void 0===n?void 0:n.setGuessedText(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serializeAltText",value:function(e){var t;return null===(t=hn(this,Ro))||void 0===t?void 0:t.serialize(e)}},{key:"hasAltText",value:function(){return!!hn(this,Ro)&&!hn(this,Ro).isEmpty()}},{key:"hasAltTextData",value:function(){var e,t;return null!==(e=null===(t=hn(this,Ro))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}},{key:"render",value:function(){var e,t=this;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=hn(this,Lo)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),un(this,hl,Rl).call(this);var n=d(this.parentDimensions,2),r=n[0],i=n[1];this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*i/r).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*r/i).toFixed(2),"%"));var a=d(this.getInitialTranslation(),2),s=a[0],o=a[1];return this.translate(s,o),Yi(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(hn(this,Qo)||fn(this,Qo,new So({container:this.div,isPinchingDisabled:function(){return!t.isSelected},onPinchStart:un(this,sl,El).bind(this),onPinching:un(this,ol,Cl).bind(this),onPinchEnd:un(this,ll,Ml).bind(this),signal:this._uiManager._signal}))),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),this.div}},{key:"pointerdown",value:function(e){var t=Br.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(fn(this,Bo,!0),this._isDraggable?un(this,cl,Pl).call(this,e):un(this,ul,Tl).call(this,e))}},{key:"isSelected",get:function(){return this._uiManager.isSelected(this)}},{key:"_onStartDragging",value:function(){}},{key:"_onStopDragging",value:function(){}},{key:"moveInDOM",value:function(){var e=this;hn(this,qo)&&clearTimeout(hn(this,qo)),fn(this,qo,setTimeout((function(){var t;fn(e,qo,null),null===(t=e.parent)||void 0===t||t.moveEditorInDOM(e)}),0))}},{key:"_setParentAndPosition",value:function(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}},{key:"getRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation,r=this.parentScale,i=d(this.pageDimensions,2),a=i[0],s=i[1],o=d(this.pageTranslation,2),l=o[0],u=o[1],c=e/r,h=t/r,f=this.x*a,v=this.y*s,p=this.width*a,g=this.height*s;switch(n){case 0:return[f+c+l,s-v-h-g+u,f+c+p+l,s-v-h+u];case 90:return[f+h+l,s-v+c+u,f+h+g+l,s-v+c+p+u];case 180:return[f-c-p+l,s-v+h+u,f-c+l,s-v+h+g+u];case 270:return[f-h-g+l,s-v-c-p+u,f-h+l,s-v-c+u];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function(e,t){var n=d(e,4),r=n[0],i=n[1],a=n[2],s=n[3],o=a-r,l=s-i;switch(this.rotation){case 0:return[r,t-s,o,l];case 90:return[r,t-i,l,o];case 180:return[a,t-i,o,l];case 270:return[a,t-s,l,o];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function(e){}},{key:"isEmpty",value:function(){return!1}},{key:"enableEditMode",value:function(){fn(this,Vo,!0)}},{key:"disableEditMode",value:function(){fn(this,Vo,!1)}},{key:"isInEditMode",value:function(){return hn(this,Vo)}},{key:"shouldGetKeyboardEvents",value:function(){return hn(this,Go)}},{key:"needsToBeRebuilt",value:function(){return this.div&&!this.isAttachedToDOM}},{key:"isOnScreen",get:function(){var e=this.getClientDimensions(),t=e.top,n=e.left,r=e.bottom,i=e.right,a=window,s=a.innerHeight;return n<a.innerWidth&&i>0&&t<s&&r>0}},{key:"rebuild",value:function(){un(this,hl,Rl).call(this)}},{key:"rotate",value:function(e){}},{key:"resize",value:function(){}},{key:"serializeDeleted",value:function(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}},{key:"serialize",value:function(){Sr("An editor must be serializable")}},{key:"hasBeenModified",get:function(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}},{key:"remove",value:function(){var e,t;if(null===(e=hn(this,jo))||void 0===e||e.abort(),fn(this,jo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),hn(this,qo)&&(clearTimeout(hn(this,qo)),fn(this,qo,null)),un(this,gl,Ol).call(this),this.removeEditToolbar(),hn(this,Ko)){var n,r=De(hn(this,Ko).values());try{for(r.s();!(n=r.n()).done;){var i=n.value;clearTimeout(i)}}catch(a){r.e(a)}finally{r.f()}fn(this,Ko,null)}this.parent=null,null===(t=hn(this,Qo))||void 0===t||t.destroy(),fn(this,Qo,null)}},{key:"isResizable",get:function(){return!1}},{key:"makeResizable",value:function(){this.isResizable&&(un(this,tl,kl).call(this),hn(this,Oo).classList.remove("hidden"),Yi(this,this.div,["keydown"]))}},{key:"toolbarPosition",get:function(){return null}},{key:"keydown",value:function(t){if(this.isResizable&&t.target===this.div&&"Enter"===t.key){this._uiManager.setSelected(this),fn(this,Wo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});var n=hn(this,Oo).children;if(!hn(this,Po)){fn(this,Po,Array.from(n));var r,i=un(this,dl,Ll).bind(this),a=un(this,fl,Nl).bind(this),s=this._uiManager._signal,o=De(hn(this,Po));try{for(o.s();!(r=o.n()).done;){var l=r.value,u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",i,{signal:s}),l.addEventListener("blur",a,{signal:s}),l.addEventListener("focus",un(this,vl,Il).bind(this,u),{signal:s}),l.setAttribute("data-l10n-id",e._l10nResizer[u])}}catch(x){o.e(x)}finally{o.f()}}var c,h=hn(this,Po)[0],d=0,f=De(n);try{for(f.s();!(c=f.n()).done;){if(c.value===h)break;d++}}catch(x){f.e(x)}finally{f.f()}var v=(360-this.rotation+this.parentRotation)%360/90*(hn(this,Po).length/4);if(v!==d){if(v<d)for(var p=0;p<d-v;p++)hn(this,Oo).append(hn(this,Oo).firstChild);else if(v>d)for(var g=0;g<v-d;g++)hn(this,Oo).firstChild.before(hn(this,Oo).lastChild);var m,y=0,b=De(n);try{for(b.s();!(m=b.n()).done;){var w=m.value,k=hn(this,Po)[y++].getAttribute("data-resizer-name");w.setAttribute("data-l10n-id",e._l10nResizer[k])}}catch(x){b.e(x)}finally{b.f()}}un(this,pl,Dl).call(this,0),fn(this,Go,!0),hn(this,Oo).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}}},{key:"_resizeWithKeyboard",value:function(e,t){hn(this,Go)&&un(this,al,Sl).call(this,hn(this,zo),{deltaX:e,deltaY:t,fromKeyboard:!0})}},{key:"_stopResizingWithKeyboard",value:function(){un(this,gl,Ol).call(this),this.div.focus()}},{key:"select",value:function(){var e,t,n,r=this;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=hn(this,Ro))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((function(){var e,t;null!==(e=r.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=r._editToolbar)||void 0===t||t.show())}))}},{key:"unselect",value:function(){var e,t,n,r,i;null===(e=hn(this,Oo))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=this._editToolbar)||void 0===r||r.hide(),null===(i=hn(this,Ro))||void 0===i||i.toggleAltTextBadge(!0)}},{key:"updateParams",value:function(e,t){}},{key:"disableEditing",value:function(){}},{key:"enableEditing",value:function(){}},{key:"enterInEditMode",value:function(){}},{key:"getImageForAltText",value:function(){return null}},{key:"contentDiv",get:function(){return this.div}},{key:"isEditing",get:function(){return hn(this,Ho)},set:function(e){fn(this,Ho,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}},{key:"setAspectRatio",value:function(e,t){fn(this,Do,!0);var n=e/t,r=this.div.style;r.aspectRatio=n,r.height="auto"}},{key:"telemetryInitialData",get:function(){return{action:"added"}}},{key:"telemetryFinalData",get:function(){return null}},{key:"_reportTelemetry",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r){hn(this,Ko)||fn(this,Ko,new Map);var i=t.action,a=hn(this,Ko).get(i);return a&&clearTimeout(a),a=setTimeout((function(){n._reportTelemetry(t),hn(n,Ko).delete(i),0===hn(n,Ko).size&&fn(n,Ko,null)}),e._telemetryTimeout),void hn(this,Ko).set(i,a)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}},{key:"enable",value:function(){this.div&&(this.div.tabIndex=0),fn(this,Lo,!1)}},{key:"disable",value:function(){this.div&&(this.div.tabIndex=-1),fn(this,Lo,!0)}},{key:"renderAnnotationElement",value:function(e){var t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){var n=t;(t=document.createElement("div")).classList.add("annotationContent",this.editorType),n.before(t)}}else(t=document.createElement("div")).classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}},{key:"resetAnnotationElement",value:function(e){var t=e.container.firstChild;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}],[{key:"_resizerKeyboardManager",get:function(){var t=e.prototype._resizeWithKeyboard,n=xs.TRANSLATE_SMALL,r=xs.TRANSLATE_BIG;return Tr(this,"_resizerKeyboardManager",new ca([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],e.prototype._stopResizingWithKeyboard]]))}},{key:"isDrawer",get:function(){return!1}},{key:"_defaultLineColor",get:function(){return Tr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deleteAnnotationElement",value:function(e){var t=new Fl({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}},{key:"initialize",value:function(t,n){var r;if(null!==(r=e._l10n)&&void 0!==r||(e._l10n=t),e._l10nResizer||(e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1===e._borderLineWidth){var i=getComputedStyle(document.documentElement);e._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}}},{key:"updateDefaultParams",value:function(e,t){}},{key:"defaultPropertiesToUpdate",get:function(){return[]}},{key:"isHandlingMimeForPasting",value:function(e){return!1}},{key:"paste",value:function(e,t){Sr("Not implemented")}},{key:"_round",value:function(e){return Math.round(1e4*e)/1e4}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,n,r){var i,s,o,l,u,c,h,f,v,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r})).rotation=t.rotation,fn(i,To,t.accessibilityData),s=d(i.pageDimensions,2),o=s[0],l=s[1],u=i.getRectInCurrentCoords(t.rect,l),c=d(u,4),h=c[0],f=c[1],v=c[2],p=c[3],i.x=h/o,i.y=f/l,i.width=v/o,i.height=p/l,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"MIN_SIZE",get:function(){return 16}},{key:"canCreateNewEmptyEditor",value:function(){return!0}}]),e}();function yl(e,t,n){var r=d(e,2),i=r[0],a=r[1],s=d(this.screenToPageTranslation(t,n),2);t=s[0],n=s[1],this.x+=t/i,this.y+=n/a,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function bl(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function wl(e){switch(e){case 90:var t=d(this.pageDimensions,2),n=t[0],r=t[1];return[0,-n/r,r/n,0];case 180:return[-1,0,0,-1];case 270:var i=d(this.pageDimensions,2),a=i[0],s=i[1];return[0,a/s,-s/a,0];default:return[1,0,0,1]}}function kl(){if(!hn(this,Oo)){fn(this,Oo,document.createElement("div")),hn(this,Oo).classList.add("resizers");for(var e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal,n=0,r=e;n<r.length;n++){var i=r[n],a=document.createElement("div");hn(this,Oo).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",un(this,nl,xl).bind(this,i),{signal:t}),a.addEventListener("contextmenu",ci,{signal:t}),a.tabIndex=-1}this.div.prepend(hn(this,Oo))}}function xl(e,t){var n,r=this;t.preventDefault();var i=Br.platform.isMac;if(!(0!==t.button||t.ctrlKey&&i)){null===(n=hn(this,Ro))||void 0===n||n.toggle(!1);var a=this._isDraggable;this._isDraggable=!1,fn(this,Fo,[t.screenX,t.screenY]);var s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",un(this,al,Sl).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",hi,{passive:!1,signal:o}),window.addEventListener("contextmenu",ci,{signal:o}),fn(this,Wo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});var l=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;var c=function(){var e;s.abort(),r.parent.togglePointerEvents(!0),null===(e=hn(r,Ro))||void 0===e||e.toggle(!0),r._isDraggable=a,r.parent.div.style.cursor=l,r.div.style.cursor=u,un(r,il,Al).call(r)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}}function _l(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;var i=d(this.parentDimensions,2),a=i[0],s=i[1];this.setDims(a*n,s*r),this.fixAndSetPosition(),this._onResized()}function Al(){if(hn(this,Wo)){var e=hn(this,Wo),t=e.savedX,n=e.savedY,r=e.savedWidth,i=e.savedHeight;fn(this,Wo,null);var a=this.x,s=this.y,o=this.width,l=this.height;a===t&&s===n&&o===r&&l===i||this.addCommands({cmd:un(this,rl,_l).bind(this,a,s,o,l),undo:un(this,rl,_l).bind(this,t,n,r,i),mustExec:!0})}}function Sl(e,t){var n,r,i=d(this.parentDimensions,2),a=i[0],s=i[1],o=this.x,l=this.y,u=this.width,c=this.height,h=ml.MIN_SIZE/a,f=ml.MIN_SIZE/s,v=un(this,el,wl).call(this,this.rotation),p=function(e,t){return[v[0]*e+v[2]*t,v[1]*e+v[3]*t]},g=un(this,el,wl).call(this,360-this.rotation),m=!1,y=!1;switch(e){case"topLeft":m=!0,n=function(e,t){return[0,0]},r=function(e,t){return[e,t]};break;case"topMiddle":n=function(e,t){return[e/2,0]},r=function(e,t){return[e/2,t]};break;case"topRight":m=!0,n=function(e,t){return[e,0]},r=function(e,t){return[0,t]};break;case"middleRight":y=!0,n=function(e,t){return[e,t/2]},r=function(e,t){return[0,t/2]};break;case"bottomRight":m=!0,n=function(e,t){return[e,t]},r=function(e,t){return[0,0]};break;case"bottomMiddle":n=function(e,t){return[e/2,t]},r=function(e,t){return[e/2,0]};break;case"bottomLeft":m=!0,n=function(e,t){return[0,t]},r=function(e,t){return[e,0]};break;case"middleLeft":y=!0,n=function(e,t){return[0,t/2]},r=function(e,t){return[e,t/2]}}var b,w,k=n(u,c),x=r(u,c),_=p.apply(void 0,et(x)),A=ml._round(o+_[0]),S=ml._round(l+_[1]),E=1,C=1;if(t.fromKeyboard)b=t.deltaX,w=t.deltaY;else{var M=t.screenX,T=t.screenY,P=d(hn(this,Fo),2),R=P[0],L=P[1],N=d(this.screenToPageTranslation(M-R,T-L),2);b=N[0],w=N[1],hn(this,Fo)[0]=M,hn(this,Fo)[1]=T}var I,D,O=d((I=b/a,D=w/s,[g[0]*I+g[2]*D,g[1]*I+g[3]*D]),2);if(b=O[0],w=O[1],m){var F=Math.hypot(u,c);E=C=Math.max(Math.min(Math.hypot(x[0]-k[0]-b,x[1]-k[1]-w)/F,1/u,1/c),h/u,f/c)}else y?E=Math.max(h,Math.min(1,Math.abs(x[0]-k[0]-b)))/u:C=Math.max(f,Math.min(1,Math.abs(x[1]-k[1]-w)))/c;var W=ml._round(u*E),j=ml._round(c*C),z=A-(_=p.apply(void 0,et(r(W,j))))[0],B=S-_[1];hn(this,Uo)||fn(this,Uo,[this.x,this.y,this.width,this.height]),this.width=W,this.height=j,this.x=z,this.y=B,this.setDims(a*W,s*j),this.fixAndSetPosition(),this._onResizing()}function El(){var e;fn(this,Wo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=hn(this,Ro))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Cl(e,t,n){var r=n/t*.7+1-.7;if(1!==r){var i=un(this,el,wl).call(this,this.rotation),a=function(e,t){return[i[0]*e+i[2]*t,i[1]*e+i[3]*t]},s=d(this.parentDimensions,2),o=s[0],l=s[1],u=this.x,c=this.y,h=this.width,f=this.height,v=ml.MIN_SIZE/o,p=ml.MIN_SIZE/l;r=Math.max(Math.min(r,1/h,1/f),v/h,p/f);var g=ml._round(h*r),m=ml._round(f*r);if(g!==h||m!==f){hn(this,Uo)||fn(this,Uo,[u,c,h,f]);var y=a(h/2,f/2),b=ml._round(u+y[0]),w=ml._round(c+y[1]),k=a(g/2,m/2);this.x=b-k[0],this.y=w-k[1],this.width=g,this.height=m,this.setDims(o*g,l*m),this.fixAndSetPosition(),this._onResizing()}}}function Ml(){var e;null===(e=hn(this,Ro))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),un(this,il,Al).call(this)}function Tl(e){var t=Br.platform.isMac;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Pl(e){var t=this,n=this.isSelected;this._uiManager.setUpDragSession();var r=!1,i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=function(e){i.abort(),fn(t,No,null),fn(t,Bo,!1),t._uiManager.endDragSession()||un(t,ul,Tl).call(t,e),r&&t._onStopDragging()};n&&(fn(this,Xo,e.clientX),fn(this,Yo,e.clientY),fn(this,No,e.pointerId),fn(this,Io,e.pointerType),window.addEventListener("pointermove",(function(e){r||(r=!0,t._onStartDragging());var n=e.clientX,i=e.clientY;if(e.pointerId===hn(t,No)){var a=d(t.screenToPageTranslation(n-hn(t,Xo),i-hn(t,Yo)),2),s=a[0],o=a[1];fn(t,Xo,n),fn(t,Yo,i),t._uiManager.dragSelectedEditors(s,o)}else hi(e)}),s),window.addEventListener("touchmove",hi,s),window.addEventListener("pointerdown",(function(e){e.pointerType===hn(t,Io)&&(hn(t,Qo)||e.isPrimary)&&o(e),hi(e)}),s));var l=function(e){hn(t,No)&&hn(t,No)!==e.pointerId?hi(e):o(e)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}function Rl(){if(!hn(this,jo)&&this.div){fn(this,jo,new AbortController);var e=this._uiManager.combinedSignal(hn(this,jo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}}function Ll(e){ml._resizerKeyboardManager.exec(this,e)}function Nl(e){var t;hn(this,Go)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==hn(this,Oo)&&un(this,gl,Ol).call(this)}function Il(e){fn(this,zo,hn(this,Go)?e:"")}function Dl(e){if(hn(this,Po)){var t,n=De(hn(this,Po));try{for(n.s();!(t=n.n()).done;){t.value.tabIndex=e}}catch(r){n.e(r)}finally{n.f()}}}function Ol(){fn(this,Go,!1),un(this,pl,Dl).call(this,-1),un(this,il,Al).call(this)}xe(ml,"_l10n",null),xe(ml,"_l10nResizer",null),xe(ml,"_borderLineWidth",-1),xe(ml,"_colorManager",new da),xe(ml,"_zIndex",1),xe(ml,"_telemetryTimeout",1e3);var Fl=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this,e)).annotationElementId=e.annotationElementId,r.deleted=!0,r}return ie(n,[{key:"serialize",value:function(){return this.serializeDeleted()}}]),n}(ml),Wl=3285377520,jl=4294901760,zl=65535,Bl=function(){function e(t){ne(this,e),this.h1=t?4294967295&t:Wl,this.h2=t?4294967295&t:Wl}return ie(e,[{key:"update",value:function(e){var t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(var r=0,i=e.length;r<i;r++){var a=e.charCodeAt(r);a<=255?t[n++]=a:(t[n++]=a>>>8,t[n++]=255&a)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");n=(t=e.slice()).byteLength}for(var s=n>>2,o=n-4*s,l=new Uint32Array(t.buffer,0,s),u=0,c=0,h=this.h1,d=this.h2,f=3432918353,v=461845907,p=11601,g=13715,m=0;m<s;m++)1&m?h=5*(h=(h^=u=(u=(u=(u=l[m])*f&jl|u*p&zl)<<15|u>>>17)*v&jl|u*g&zl)<<13|h>>>19)+3864292196:d=5*(d=(d^=c=(c=(c=(c=l[m])*f&jl|c*p&zl)<<15|c>>>17)*v&jl|c*g&zl)<<13|d>>>19)+3864292196;switch(u=0,o){case 3:u^=t[4*s+2]<<16;case 2:u^=t[4*s+1]<<8;case 1:u=(u=(u=(u^=t[4*s])*f&jl|u*p&zl)<<15|u>>>17)*v&jl|u*g&zl,1&s?h^=u:d^=u}this.h1=h,this.h2=d}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;return e=3981806797*(e^=t>>>1)&jl|36045*e&zl,e=444984403*(e^=(t=4283543511*t&jl|(2950163797*(t<<16|e>>>16)&jl)>>>16)>>>1)&jl|60499*e&zl,((e^=(t=3301882366*t&jl|(3120437893*(t<<16|e>>>16)&jl)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}]),e}(),Ul=Object.freeze({map:null,hash:"",transfer:void 0}),Hl=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,ql=new WeakSet,Xl=function(){function e(){ne(this,e),on(this,ql),ln(this,Hl,{writable:!0,value:!1}),ln(this,Vl,{writable:!0,value:null}),ln(this,Gl,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}return ie(e,[{key:"getValue",value:function(e,t){var n=hn(this,Gl).get(e);return void 0===n?t:Object.assign(t,n)}},{key:"getRawValue",value:function(e){return hn(this,Gl).get(e)}},{key:"remove",value:function(e){if(hn(this,Gl).delete(e),0===hn(this,Gl).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){var t,n=De(hn(this,Gl).values());try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ml)return}}catch(r){n.e(r)}finally{n.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function(e,t){var n=hn(this,Gl).get(e),r=!1;if(void 0!==n)for(var i=0,a=Object.entries(t);i<a.length;i++){var s=d(a[i],2),o=s[0],l=s[1];n[o]!==l&&(r=!0,n[o]=l)}else r=!0,hn(this,Gl).set(e,t);r&&un(this,ql,Yl).call(this),t instanceof ml&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}},{key:"has",value:function(e){return hn(this,Gl).has(e)}},{key:"getAll",value:function(){return hn(this,Gl).size>0?zr(hn(this,Gl)):null}},{key:"setAll",value:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=d(n[t],2),i=r[0],a=r[1];this.setValue(i,a)}}},{key:"size",get:function(){return hn(this,Gl).size}},{key:"resetModified",value:function(){hn(this,Hl)&&(fn(this,Hl,!1),"function"===typeof this.onResetModified&&this.onResetModified())}},{key:"print",get:function(){return new Ql(this)}},{key:"serializable",get:function(){if(0===hn(this,Gl).size)return Ul;var e,t=new Map,n=new Bl,r=[],i=Object.create(null),a=!1,s=De(hn(this,Gl));try{for(s.s();!(e=s.n()).done;){var o=d(e.value,2),l=o[0],u=o[1],c=u instanceof ml?u.serialize(!1,i):u;c&&(t.set(l,c),n.update("".concat(l,":").concat(JSON.stringify(c))),a||(a=!!c.bitmap))}}catch(p){s.e(p)}finally{s.f()}if(a){var h,f=De(t.values());try{for(f.s();!(h=f.n()).done;){var v=h.value;v.bitmap&&r.push(v.bitmap)}}catch(p){f.e(p)}finally{f.f()}}return t.size>0?{map:t,hash:n.hexdigest(),transfer:r}:Ul}},{key:"editorStats",get:function(){var e,t=null,n=new Map,r=De(hn(this,Gl).values());try{for(r.s();!(e=r.n()).done;){var i,a=e.value;if(a instanceof ml){var s=a.telemetryFinalData;if(s){var o=s.type;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),t||(t=Object.create(null));for(var l=(i=t)[o]||(i[o]=new Map),u=0,c=Object.entries(s);u<c.length;u++){var h,f=d(c[u],2),v=f[0],p=f[1];if("type"!==v){var g=l.get(v);g||(g=new Map,l.set(v,g));var m=null!==(h=g.get(p))&&void 0!==h?h:0;g.set(p,m+1)}}}}}}catch(_){r.e(_)}finally{r.f()}var y,b=De(n);try{for(b.s();!(y=b.n()).done;){var w=d(y.value,2),k=w[0],x=w[1];t[k]=x.computeTelemetryFinalData(t[k])}}catch(_){b.e(_)}finally{b.f()}return t}},{key:"resetModifiedIds",value:function(){fn(this,Vl,null)}},{key:"modifiedIds",get:function(){if(hn(this,Vl))return hn(this,Vl);var e,t=[],n=De(hn(this,Gl).values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r instanceof ml&&r.annotationElementId&&r.serialize()&&t.push(r.annotationElementId)}}catch(i){n.e(i)}finally{n.f()}return fn(this,Vl,{ids:new Set(t),hash:t.join(",")})}}]),e}();function Yl(){hn(this,Hl)||(fn(this,Hl,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Kl=new WeakMap,Ql=function(e){wn(n,e);var t=xn(n);function n(e){var r;ne(this,n),ln(an(r=t.call(this)),Kl,{writable:!0,value:void 0});var i=e.serializable,a=i.map,s=i.hash,o=i.transfer,l=structuredClone(a,o?{transfer:o}:null);return fn(an(r),Kl,{map:l,hash:s,transfer:o}),r}return ie(n,[{key:"print",get:function(){Sr("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function(){return hn(this,Kl)}},{key:"modifiedIds",get:function(){return Tr(this,"modifiedIds",{ids:new Set,hash:""})}}]),n}(Xl),$l=new WeakMap,Jl=function(){function e(t){var n=t.ownerDocument,r=void 0===n?globalThis.document:n;t.styleElement;ne(this,e),ln(this,$l,{writable:!0,value:new Set}),this._document=r,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}return ie(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}},{key:"removeNativeFontFace",value:function(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}},{key:"insertRule",value:function(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}},{key:"clear",value:function(){var e,t=De(this.nativeFontFaces);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._document.fonts.delete(n)}}catch(r){t.e(r)}finally{t.f()}this.nativeFontFaces.clear(),hn(this,$l).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"loadSystemFont",value:function(){var e=o(a().mark((function e(t){var n,r,i,s,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.systemFontInfo,r=t._inspectFont,n&&!hn(this,$l).has(n.loadedName)){e.next=3;break}return e.abrupt("return");case 3:if(Er(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),!this.isFontLoadingAPISupported){e.next=20;break}return i=n.loadedName,s=n.src,o=n.style,l=new FontFace(i,s,o),this.addNativeFontFace(l),e.prev=8,e.next=11,l.load();case 11:hn(this,$l).add(i),null===r||void 0===r||r(n),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),Ar("Cannot load system font: ".concat(n.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(l);case 19:return e.abrupt("return");case 20:Sr("Not implemented: loadSystemFont without the Font Loading API.");case 21:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bind",value:function(){var e=o(a().mark((function e(t){var n,r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.attached||t.missingFile&&!t.systemFontInfo)){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!t.systemFontInfo){e.next=7;break}return e.next=6,this.loadSystemFont(t);case 6:case 21:return e.abrupt("return");case 7:if(!this.isFontLoadingAPISupported){e.next=22;break}if(!(n=t.createNativeFontFace())){e.next=21;break}return this.addNativeFontFace(n),e.prev=11,e.next=14,n.loaded;case 14:e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(11),Ar("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 22:if(!(r=t.createFontFaceRule())){e.next=29;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=27;break}return e.abrupt("return");case 27:return e.next=29,new Promise((function(e){var n=i._queueLoadingCallback(e);i._prepareFontLoadEvent(t,n)}));case 29:case"end":return e.stop()}}),e,this,[[11,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isFontLoadingAPISupported",get:function(){var e;return Tr(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){var e,t=!1;return(Sn||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Tr(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingRequests,n={done:!1,complete:function(){for(Er(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){var e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}},{key:"_loadTestFont",get:function(){return Tr(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var i,a,s=this._document.createElement("canvas");s.width=1,s.height=1;var o=s.getContext("2d"),l=0;var u,c="lt".concat(Date.now()).concat(this.loadTestFontId++),h=this._loadTestFont,d=1482184792,f=n(h=r(h,976,c.length,c),16);for(i=0,a=c.length-3;i<a;i+=4)f=f-d+n(c,i)|0;i<c.length&&(f=f-d+n(c+"XXX",i)|0),h=r(h,16,4,(u=f,String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,255&u)));var v="url(data:font/opentype;base64,".concat(btoa(h),");"),p='@font-face {font-family:"'.concat(c,'";src:').concat(v,"}");this.insertRule(p);var g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(var m=0,y=[e.loadedName,c];m<y.length;m++){var b=y[m],w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=b,g.append(w)}this._document.body.append(g),function e(t,n){if(++l>30)return Ar("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(function(){g.remove(),t.complete()}))}}]),e}(),Zl=function(){function e(t,n){var r=n.disableFontFace,i=void 0!==r&&r,a=n.fontExtraProperties,s=void 0!==a&&a,o=n.inspectFont,l=void 0===o?null:o;for(var u in ne(this,e),this.compiledGlyphs=Object.create(null),t)this[u]=t[u];this.disableFontFace=!0===i,this.fontExtraProperties=!0===s,this._inspectFont=l}return ie(e,[{key:"createNativeFontFace",value:function(){var e,t;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}},{key:"createFontFaceRule",value:function(){var e;if(!this.data||this.disableFontFace)return null;var t,n,r="url(data:".concat(this.mimetype,";base64,").concat((t=this.data,Uint8Array.prototype.toBase64?t.toBase64():btoa(Wr(t))),");");if(this.cssFontInfo){var i="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(i+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(i,"src:").concat(r,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,r),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r=this.loadedName+"_path_"+t;try{n=e.get(r)}catch(a){Ar('getPathGenerator - ignoring character: "'.concat(a,'".'))}var i=new Path2D(n||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}}]),e}(),eu=1,tu=2,nu=1,ru=2,iu=3,au=4,su=5,ou=6,lu=7,uu=8;function cu(){}function hu(e){if(e instanceof Fr||e instanceof Nr||e instanceof Ir||e instanceof Rr||e instanceof Dr||e instanceof Lr)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||Sr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Fr(e.message);case"InvalidPDFException":return new Nr(e.message);case"MissingPDFException":return new Ir(e.message);case"PasswordException":return new Rr(e.message,e.code);case"UnexpectedResponseException":return new Dr(e.message,e.status);case"UnknownErrorException":return new Lr(e.message,e.details)}return new Lr(e.message,e.toString())}var du=new WeakMap,fu=new WeakSet,vu=new WeakSet,pu=new WeakSet,gu=new WeakSet,mu=function(){function e(t,n,r){ne(this,e),on(this,gu),on(this,pu),on(this,vu),on(this,fu),ln(this,du,{writable:!0,value:new AbortController}),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",un(this,fu,yu).bind(this),{signal:hn(this,du).signal})}return ie(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){i.reject(a)}return i.promise}},{key:"sendWithStream",value:function(e,t,n,r){var i=this,a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:function(n){var u=Promise.withResolvers();return i.streamControllers[a]={controller:n,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:t,desiredSize:n.desiredSize},r),u.promise},pull:function(e){var t=Promise.withResolvers();return i.streamControllers[a].pullCall=t,l.postMessage({sourceName:s,targetName:o,stream:ou,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:function(e){Er(e instanceof Error,"cancel must have a valid reason");var t=Promise.withResolvers();return i.streamControllers[a].cancelCall=t,i.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:nu,streamId:a,reason:hu(e)}),t.promise}},n)}},{key:"destroy",value:function(){var e;null===(e=hn(this,du))||void 0===e||e.abort(),fn(this,du,null)}}]),e}();function yu(e){var t=e.data;if(t.targetName===this.sourceName)if(t.stream)un(this,pu,wu).call(this,t);else if(t.callback){var n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error("Cannot resolve callback ".concat(n));if(delete this.callbackCapabilities[n],t.callback===eu)r.resolve(t.data);else{if(t.callback!==tu)throw new Error("Unexpected callback case");r.reject(hu(t.reason))}}else{var i=this.actionHandler[t.action];if(!i)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var a=this.sourceName,s=t.sourceName,o=this.comObj;Promise.try(i,t.data).then((function(e){o.postMessage({sourceName:a,targetName:s,callback:eu,callbackId:t.callbackId,data:e})}),(function(e){o.postMessage({sourceName:a,targetName:s,callback:tu,callbackId:t.callbackId,reason:hu(e)})}))}else t.streamId?un(this,vu,bu).call(this,t):i(t.data)}}function bu(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:au,streamId:t,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:iu,streamId:t}),delete a.streamSinks[t])},error:function(e){Er(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:su,streamId:t,reason:hu(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(s,e.data,o).then((function(){i.postMessage({sourceName:n,targetName:r,stream:uu,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:uu,streamId:t,reason:hu(e)})}))}function wu(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case uu:e.success?a.startCall.resolve():a.startCall.reject(hu(e.reason));break;case lu:e.success?a.pullCall.resolve():a.pullCall.reject(hu(e.reason));break;case ou:if(!s){i.postMessage({sourceName:n,targetName:r,stream:lu,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||cu).then((function(){i.postMessage({sourceName:n,targetName:r,stream:lu,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:lu,streamId:t,reason:hu(e)})}));break;case au:if(Er(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case iu:if(Er(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),un(this,gu,ku).call(this,a,t);break;case su:Er(a,"error should have stream controller"),a.controller.error(hu(e.reason)),un(this,gu,ku).call(this,a,t);break;case ru:e.success?a.cancelCall.resolve():a.cancelCall.reject(hu(e.reason)),un(this,gu,ku).call(this,a,t);break;case nu:if(!s)break;var o=hu(e.reason);Promise.try(s.onCancel||cu,o).then((function(){i.postMessage({sourceName:n,targetName:r,stream:ru,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:ru,streamId:t,reason:hu(e)})})),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}function ku(e,t){return xu.apply(this,arguments)}function xu(){return(xu=o(a().mark((function e(t,n){var r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([null===(r=t.startCall)||void 0===r?void 0:r.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(s=t.cancelCall)||void 0===s?void 0:s.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var _u=new WeakMap,Au=function(){function e(t){var n=t.enableHWA,r=void 0!==n&&n;ne(this,e),ln(this,_u,{writable:!0,value:!1}),fn(this,_u,r)}return ie(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!hn(this,_u)})}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){Sr("Abstract method `_createCanvas` called.")}}]),e}(),Su=function(e){wn(n,e);var t=xn(n);function n(e){var r,i=e.ownerDocument,a=void 0===i?globalThis.document:i,s=e.enableHWA,o=void 0!==s&&s;return ne(this,n),(r=t.call(this,{enableHWA:o}))._document=a,r}return ie(n,[{key:"_createCanvas",value:function(e,t){var n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}]),n}(Au),Eu=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,a=void 0===i||i;ne(this,e),this.baseUrl=r,this.isCompressed=a}return ie(e,[{key:"fetch",value:function(){var e=o(a().mark((function e(t){var n,r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return r=this.baseUrl+n+(this.isCompressed?".bcmap":""),e.abrupt("return",this._fetch(r).then((function(e){return{cMapData:e,isCompressed:i.isCompressed}})).catch((function(e){throw new Error("Unable to load ".concat(i.isCompressed?"binary ":"","CMap at: ").concat(r))})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sr("Abstract method `_fetch` called.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cu=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_fetch",value:function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(t,this.isCompressed?"arraybuffer":"text");case 2:return n=e.sent,e.abrupt("return",n instanceof ArrayBuffer?new Uint8Array(n):jr(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Eu),Mu=function(){function e(){ne(this,e)}return ie(e,[{key:"addFilter",value:function(e){return"none"}},{key:"addHCMFilter",value:function(e,t){return"none"}},{key:"addAlphaFilter",value:function(e){return"none"}},{key:"addLuminosityFilter",value:function(e){return"none"}},{key:"addHighlightHCMFilter",value:function(e,t,n,r,i){return"none"}},{key:"destroy",value:function(){}}]),e}(),Tu=new WeakMap,Pu=new WeakMap,Ru=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,Iu=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Fu=new WeakMap,Wu=new WeakMap,ju=new WeakSet,zu=new WeakSet,Bu=new WeakSet,Uu=new WeakSet,Hu=new WeakSet,Vu=new WeakSet,Gu=new WeakSet,qu=new WeakSet,Xu=new WeakSet,Yu=function(e){wn(n,e);var t=xn(n);function n(e){var r,i=e.docId,a=e.ownerDocument,s=void 0===a?globalThis.document:a;return ne(this,n),on(an(r=t.call(this)),Xu),on(an(r),qu),on(an(r),Gu),on(an(r),Vu),on(an(r),Hu),on(an(r),Uu),on(an(r),Bu),on(an(r),zu),on(an(r),ju),ln(an(r),Wu,{get:$u,set:void 0}),ln(an(r),Fu,{get:Qu,set:void 0}),ln(an(r),Ou,{get:Ku,set:void 0}),ln(an(r),Tu,{writable:!0,value:void 0}),ln(an(r),Pu,{writable:!0,value:void 0}),ln(an(r),Ru,{writable:!0,value:void 0}),ln(an(r),Lu,{writable:!0,value:void 0}),ln(an(r),Nu,{writable:!0,value:void 0}),ln(an(r),Iu,{writable:!0,value:void 0}),ln(an(r),Du,{writable:!0,value:0}),fn(an(r),Lu,i),fn(an(r),Nu,s),r}return ie(n,[{key:"addFilter",value:function(e){var t,n;if(!e)return"none";var r=hn(this,Ou).get(e);if(r)return r;var i=d(un(this,ju,Ju).call(this,e),3),a=i[0],s=i[1],o=i[2],l=1===e.length?a:"".concat(a).concat(s).concat(o);if(r=hn(this,Ou).get(l))return hn(this,Ou).set(e,r),r;var u="g_".concat(hn(this,Lu),"_transfer_map_").concat((fn(this,Du,(t=hn(this,Du),n=t++,t)),n)),c=un(this,zu,Zu).call(this,u);hn(this,Ou).set(e,c),hn(this,Ou).set(l,c);var h=un(this,Hu,nc).call(this,u);return un(this,Gu,ic).call(this,a,s,o,h),c}},{key:"addHCMFilter",value:function(e,t){var n,r,i="".concat(e,"-").concat(t),a="base",s=hn(this,Fu).get(a);if((null===(n=s)||void 0===n?void 0:n.key)===i)return s.url;s?(null===(r=s.filter)||void 0===r||r.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},hn(this,Fu).set(a,s));if(!e||!t)return s.url;var o=un(this,Xu,sc).call(this,e);e=Hr.makeHexColor.apply(Hr,et(o));var l=un(this,Xu,sc).call(this,t);if(t=Hr.makeHexColor.apply(Hr,et(l)),hn(this,Wu).style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;for(var u=new Array(256),c=0;c<=255;c++){var h=c/255;u[c]=h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}var d=u.join(","),f="g_".concat(hn(this,Lu),"_hcm_filter"),v=s.filter=un(this,Hu,nc).call(this,f);un(this,Gu,ic).call(this,d,d,d,v),un(this,Uu,tc).call(this,v);var p=function(e,t){for(var n=o[e]/255,r=l[e]/255,i=new Array(t+1),a=0;a<=t;a++)i[a]=n+a/t*(r-n);return i.join(",")};return un(this,Gu,ic).call(this,p(0,5),p(1,5),p(2,5),v),s.url=un(this,zu,Zu).call(this,f),s.url}},{key:"addAlphaFilter",value:function(e){var t,n,r=hn(this,Ou).get(e);if(r)return r;var i=d(un(this,ju,Ju).call(this,[e]),1)[0],a="alpha_".concat(i);if(r=hn(this,Ou).get(a))return hn(this,Ou).set(e,r),r;var s="g_".concat(hn(this,Lu),"_alpha_map_").concat((fn(this,Du,(t=hn(this,Du),n=t++,t)),n)),o=un(this,zu,Zu).call(this,s);hn(this,Ou).set(e,o),hn(this,Ou).set(a,o);var l=un(this,Hu,nc).call(this,s);return un(this,qu,ac).call(this,i,l),o}},{key:"addLuminosityFilter",value:function(e){var t,n,r,i,a=hn(this,Ou).get(e||"luminosity");if(a)return a;e?(r=d(un(this,ju,Ju).call(this,[e]),1)[0],i="luminosity_".concat(r)):i="luminosity";if(a=hn(this,Ou).get(i))return hn(this,Ou).set(e,a),a;var s="g_".concat(hn(this,Lu),"_luminosity_map_").concat((fn(this,Du,(t=hn(this,Du),n=t++,t)),n)),o=un(this,zu,Zu).call(this,s);hn(this,Ou).set(e,o),hn(this,Ou).set(i,o);var l=un(this,Hu,nc).call(this,s);return un(this,Bu,ec).call(this,l),e&&un(this,qu,ac).call(this,r,l),o}},{key:"addHighlightHCMFilter",value:function(e,t,n,r,i){var a,s,o="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i),l=hn(this,Fu).get(e);if((null===(a=l)||void 0===a?void 0:a.key)===o)return l.url;l?(null===(s=l.filter)||void 0===s||s.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},hn(this,Fu).set(e,l));if(!t||!n)return l.url;var u=d([t,n].map(un(this,Xu,sc).bind(this)),2),c=u[0],h=u[1],f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),v=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),p=d([r,i].map(un(this,Xu,sc).bind(this)),2),g=p[0],m=p[1];if(v<f){var y=[v,f,m,g];f=y[0],v=y[1],g=y[2],m=y[3]}hn(this,Wu).style.color="";var b=function(e,t,n){for(var r=new Array(256),i=(v-f)/n,a=e/255,s=(t-e)/(255*n),o=0,l=0;l<=n;l++){for(var u=Math.round(f+l*i),c=a+l*s,h=o;h<=u;h++)r[h]=c;o=u+1}for(var d=o;d<256;d++)r[d]=r[o-1];return r.join(",")},w="g_".concat(hn(this,Lu),"_hcm_").concat(e,"_filter"),k=l.filter=un(this,Hu,nc).call(this,w);return un(this,Uu,tc).call(this,k),un(this,Gu,ic).call(this,b(g[0],m[0],5),b(g[1],m[1],5),b(g[2],m[2],5),k),l.url=un(this,zu,Zu).call(this,w),l.url}},{key:"destroy",value:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i&&null!==(e=hn(this,Iu))&&void 0!==e&&e.size||(null===(t=hn(this,Ru))||void 0===t||t.parentNode.parentNode.remove(),fn(this,Ru,null),null===(n=hn(this,Pu))||void 0===n||n.clear(),fn(this,Pu,null),null===(r=hn(this,Iu))||void 0===r||r.clear(),fn(this,Iu,null),fn(this,Du,0))}}]),n}(Mu);function Ku(){return hn(this,Pu)||fn(this,Pu,new Map)}function Qu(){return hn(this,Iu)||fn(this,Iu,new Map)}function $u(){if(!hn(this,Ru)){var e=hn(this,Nu).createElement("div"),t=e.style;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;var n=hn(this,Nu).createElementNS(Jr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),fn(this,Ru,hn(this,Nu).createElementNS(Jr,"defs")),e.append(n),n.append(hn(this,Ru)),hn(this,Nu).body.append(e)}return hn(this,Ru)}function Ju(e){if(1===e.length){for(var t=e[0],n=new Array(256),r=0;r<256;r++)n[r]=t[r]/255;var i=n.join(",");return[i,i,i]}var a=d(e,3),s=a[0],o=a[1],l=a[2],u=new Array(256),c=new Array(256),h=new Array(256);for(r=0;r<256;r++)u[r]=s[r]/255,c[r]=o[r]/255,h[r]=l[r]/255;return[u.join(","),c.join(","),h.join(",")]}function Zu(e){if(void 0===hn(this,Tu)){fn(this,Tu,"");var t=hn(this,Nu).URL;t!==hn(this,Nu).baseURI&&(ii(t)?Ar('#createUrl: ignore "data:"-URL for performance reasons.'):fn(this,Tu,t.split("#",1)[0]))}return"url(".concat(hn(this,Tu),"#").concat(e,")")}function ec(e){var t=hn(this,Nu).createElementNS(Jr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function tc(e){var t=hn(this,Nu).createElementNS(Jr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function nc(e){var t=hn(this,Nu).createElementNS(Jr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),hn(this,Wu).append(t),t}function rc(e,t,n){var r=hn(this,Nu).createElementNS(Jr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function ic(e,t,n,r){var i=hn(this,Nu).createElementNS(Jr,"feComponentTransfer");r.append(i),un(this,Vu,rc).call(this,i,"feFuncR",e),un(this,Vu,rc).call(this,i,"feFuncG",t),un(this,Vu,rc).call(this,i,"feFuncB",n)}function ac(e,t){var n=hn(this,Nu).createElementNS(Jr,"feComponentTransfer");t.append(n),un(this,Vu,rc).call(this,n,"feFuncA",e)}function sc(e){return hn(this,Wu).style.color=e,pi(getComputedStyle(hn(this,Wu)).getPropertyValue("color"))}var oc=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n;ne(this,e),this.baseUrl=r}return ie(e,[{key:"fetch",value:function(){var e=o(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filename,this.baseUrl){e.next=3;break}throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");case 3:if(n){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),e.abrupt("return",this._fetch(r).catch((function(e){throw new Error("Unable to load font data at: ".concat(r))})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sr("Abstract method `_fetch` called.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lc=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_fetch",value:function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(t,"arraybuffer");case 2:return n=e.sent,e.abrupt("return",new Uint8Array(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(oc);function uc(e){return cc.apply(this,arguments)}function cc(){return(cc=o(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=process.getBuiltinModule("fs"),e.next=3,n.promises.readFile(t);case 3:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Sn&&Ar("Please use the `legacy` build in Node.js environments.");var hc=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n)}(Mu),dc=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_createCanvas",value:function(e,t){return process.getBuiltinModule("module").createRequire("file:///C:/Users/Meg/Desktop/unthinkable-assessment/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}]),n}(Au),fc=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_fetch",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Eu),vc=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_fetch",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(oc),pc="Fill",gc="Stroke",mc="Shading";function yc(e,t){if(t){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}var bc=function(){function e(){ne(this,e)}return ie(e,[{key:"getPattern",value:function(){Sr("Abstract method `getPattern` called.")}}]),e}(),wc=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this))._type=e[1],r._bbox=e[2],r._colorStops=e[3],r._p0=e[4],r._p1=e[5],r._r0=e[6],r._r1=e[7],r.matrix=null,r}return ie(n,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=De(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addColorStop(i[0],i[1])}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"getPattern",value:function(e,t,n,r){var i;if(r===gc||r===pc){var a=t.current.getClippedPathBoundingBox(r,gi(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Hr.transform(n,[1,0,0,1,a[0],a[1]]),u.transform.apply(u,et(t.baseTransform)),this.matrix&&u.transform.apply(u,et(this.matrix)),yc(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),i=e.createPattern(l.canvas,"no-repeat");var c=new DOMMatrix(n);i.setTransform(c)}else yc(e,this._bbox),i=this._createGradient(e);return i}}]),n}(bc);function kc(e,t,n,r,i,a,s,o){var l,u=t.coords,c=t.colors,h=e.data,d=4*e.width;u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=a,a=s,s=l),u[r+1]>u[i+1]&&(l=r,r=i,i=l,l=s,s=o,o=l),u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=a,a=s,s=l);var f=(u[n]+t.offsetX)*t.scaleX,v=(u[n+1]+t.offsetY)*t.scaleY,p=(u[r]+t.offsetX)*t.scaleX,g=(u[r+1]+t.offsetY)*t.scaleY,m=(u[i]+t.offsetX)*t.scaleX,y=(u[i+1]+t.offsetY)*t.scaleY;if(!(v>=y))for(var b,w,k,x,_,A,S,E,C=c[a],M=c[a+1],T=c[a+2],P=c[s],R=c[s+1],L=c[s+2],N=c[o],I=c[o+1],D=c[o+2],O=Math.round(v),F=Math.round(y),W=O;W<=F;W++){if(W<g){var j=W<v?0:(v-W)/(v-g);b=f-(f-p)*j,w=C-(C-P)*j,k=M-(M-R)*j,x=T-(T-L)*j}else{var z=void 0;b=p-(p-m)*(z=W>y?1:g===y?0:(g-W)/(g-y)),w=P-(P-N)*z,k=R-(R-I)*z,x=L-(L-D)*z}var B=void 0;_=f-(f-m)*(B=W<v?0:W>y?1:(v-W)/(v-y)),A=C-(C-N)*B,S=M-(M-I)*B,E=T-(T-D)*B;for(var U=Math.round(Math.min(b,_)),H=Math.round(Math.max(b,_)),V=d*W+4*U,G=U;G<=H;G++)(B=(b-G)/(b-_))<0?B=0:B>1&&(B=1),h[V++]=w-(w-A)*B|0,h[V++]=k-(k-S)*B|0,h[V++]=x-(x-E)*B|0,h[V++]=255}}function xc(e,t,n){var r,i,a=t.coords,s=t.colors;switch(t.type){case"lattice":var o=t.verticesPerRow,l=Math.floor(a.length/o)-1,u=o-1;for(r=0;r<l;r++)for(var c=r*o,h=0;h<u;h++,c++)kc(e,n,a[c],a[c+1],a[c+o],s[c],s[c+1],s[c+o]),kc(e,n,a[c+o+1],a[c+1],a[c+o],s[c+o+1],s[c+1],s[c+o]);break;case"triangles":for(r=0,i=a.length;r<i;r+=3)kc(e,n,a[r],a[r+1],a[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}var _c=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this))._coords=e[2],r._colors=e[3],r._figures=e[4],r._bounds=e[5],r._bbox=e[7],r._background=e[8],r.matrix=null,r}return ie(n,[{key:"_createMeshCanvas",value:function(e,t,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),u=a/o,c=s/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/u,scaleY:1/c},d=o+4,f=l+4,v=n.getCanvas("mesh",d,f),p=v.context,g=p.createImageData(o,l);if(t)for(var m=g.data,y=0,b=m.length;y<b;y+=4)m[y]=t[0],m[y+1]=t[1],m[y+2]=t[2],m[y+3]=255;var w,k=De(this._figures);try{for(k.s();!(w=k.n()).done;){xc(g,w.value,h)}}catch(x){k.e(x)}finally{k.f()}return p.putImageData(g,2,2),{canvas:v.canvas,offsetX:r-2*u,offsetY:i-2*c,scaleX:u,scaleY:c}}},{key:"getPattern",value:function(e,t,n,r){var i;if(yc(e,this._bbox),r===mc)i=Hr.singularValueDecompose2dScale(gi(e));else if(i=Hr.singularValueDecompose2dScale(t.baseTransform),this.matrix){var a=Hr.singularValueDecompose2dScale(this.matrix);i=[i[0]*a[0],i[1]*a[1]]}var s=this._createMeshCanvas(i,r===mc?null:this._background,t.cachedCanvases);return r!==mc&&(e.setTransform.apply(e,et(t.baseTransform)),this.matrix&&e.transform.apply(e,et(this.matrix))),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}]),n}(bc),Ac=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(bc);function Sc(e){switch(e[0]){case"RadialAxial":return new wc(e);case"Mesh":return new _c(e);case"Dummy":return new Ac}throw new Error("Unknown IR type: ".concat(e[0]))}var Ec=1,Cc=2,Mc=function(){function e(t,n,r,i,a){ne(this,e),this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}return ie(e,[{key:"createPatternCanvas",value:function(e){var t=this.bbox,n=this.operatorList,r=this.paintType,i=this.tilingType,a=this.color,s=this.canvasGraphicsFactory,o=this.xstep,l=this.ystep;o=Math.abs(o),l=Math.abs(l),_r("TilingType: "+i);var u=t[0],c=t[1],h=t[2],d=t[3],f=h-u,v=d-c,p=Hr.singularValueDecompose2dScale(this.matrix),g=Hr.singularValueDecompose2dScale(this.baseTransform),m=p[0]*g[0],y=p[1]*g[1],b=f,w=v,k=!1,x=!1,_=Math.ceil(o*m),A=Math.ceil(l*y);_>=Math.ceil(f*m)?b=o:k=!0,A>=Math.ceil(v*y)?w=l:x=!0;var S=this.getSizeAndScale(b,this.ctx.canvas.width,m),E=this.getSizeAndScale(w,this.ctx.canvas.height,y),C=e.cachedCanvases.getCanvas("pattern",S.size,E.size),M=C.context,T=s.createCanvasGraphics(M);if(T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,r,a),M.translate(-S.scale*u,-E.scale*c),T.transform(S.scale,0,0,E.scale,0,0),M.save(),this.clipBbox(T,u,c,h,d),T.baseTransform=gi(T.ctx),T.executeOperatorList(n),T.endDrawing(),M.restore(),k||x){var P=C.canvas;k&&(b=o),x&&(w=l);for(var R=this.getSizeAndScale(b,this.ctx.canvas.width,m),L=this.getSizeAndScale(w,this.ctx.canvas.height,y),N=R.size,I=L.size,D=e.cachedCanvases.getCanvas("pattern-workaround",N,I),O=D.context,F=k?Math.floor(f/o):0,W=x?Math.floor(v/l):0,j=0;j<=F;j++)for(var z=0;z<=W;z++)O.drawImage(P,N*j,I*z,N,I,0,0,N,I);return{canvas:D.canvas,scaleX:R.scale,scaleY:L.scale,offsetX:u,offsetY:c}}return{canvas:C.canvas,scaleX:S.scale,scaleY:E.scale,offsetX:u,offsetY:c}}},{key:"getSizeAndScale",value:function(t,n,r){var i=Math.max(e.MAX_PATTERN_SIZE,n),a=Math.ceil(t*r);return a>=i?a=i:r=a/t,{scale:r,size:a}}},{key:"clipBbox",value:function(e,t,n,r,i){var a=r-t,s=i-n;e.ctx.rect(t,n,a,s),e.current.updateRectMinMax(gi(e.ctx),[t,n,r,i]),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,n){var r=e.ctx,i=e.current;switch(t){case Ec:var a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,i.fillColor=a.fillStyle,i.strokeColor=a.strokeStyle;break;case Cc:var s=Hr.makeHexColor(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,i.fillColor=s,i.strokeColor=s;break;default:throw new Or("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,n,r){var i=n;r!==mc&&(i=Hr.transform(i,t.baseTransform),this.matrix&&(i=Hr.transform(i,this.matrix)));var a=this.createPatternCanvas(t),s=new DOMMatrix(i);s=(s=s.translate(a.offsetX,a.offsetY)).scale(1/a.scaleX,1/a.scaleY);var o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}}]),e}();function Tc(e){var t=e.src,n=e.srcPos,r=void 0===n?0:n,i=e.dest,a=e.width,s=e.height,o=e.nonBlackColor,l=void 0===o?4294967295:o,u=e.inverseDecode,c=void 0!==u&&u,h=Br.isLittleEndian?4278190080:255,f=d(c?[l,h]:[h,l],2),v=f[0],p=f[1],g=a>>3,m=7&a,y=t.length;i=new Uint32Array(i.buffer);for(var b=0,w=0;w<s;w++){for(var k=r+g;r<k;r++){var x=r<y?t[r]:255;i[b++]=128&x?p:v,i[b++]=64&x?p:v,i[b++]=32&x?p:v,i[b++]=16&x?p:v,i[b++]=8&x?p:v,i[b++]=4&x?p:v,i[b++]=2&x?p:v,i[b++]=1&x?p:v}if(0!==m)for(var _=r<y?t[r++]:255,A=0;A<m;A++)i[b++]=_&1<<7-A?p:v}return{srcPos:r,destPos:b}}xe(Mc,"MAX_PATTERN_SIZE",3e3);var Pc=16;var Rc=function(){function e(t){ne(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return ie(e,[{key:"getCanvas",value:function(e,t,n){var r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}},{key:"delete",value:function(e){delete this.cache[e]}},{key:"clear",value:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}();function Lc(e,t,n,r,i,a,s,o,l,u){var c=d(gi(e),6),h=c[0],f=c[1],v=c[2],p=c[3],g=c[4],m=c[5];if(0===f&&0===v){var y=s*h+g,b=Math.round(y),w=o*p+m,k=Math.round(w),x=(s+l)*h+g,_=Math.abs(Math.round(x)-b)||1,A=(o+u)*p+m,S=Math.abs(Math.round(A)-k)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),b,k),e.drawImage(t,n,r,i,a,0,0,_,S),e.setTransform(h,f,v,p,g,m),[_,S]}if(0===h&&0===p){var E=o*v+g,C=Math.round(E),M=s*f+m,T=Math.round(M),P=(o+u)*v+g,R=Math.abs(Math.round(P)-C)||1,L=(s+l)*f+m,N=Math.abs(Math.round(L)-T)||1;return e.setTransform(0,Math.sign(f),Math.sign(v),0,C,T),e.drawImage(t,n,r,i,a,0,0,N,R),e.setTransform(h,f,v,p,g,m),[N,R]}return e.drawImage(t,n,r,i,a,s,o,l,u),[Math.hypot(h,f)*l,Math.hypot(v,p)*u]}var Nc=function(){function e(t,n){ne(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=En,this.textMatrixScale=1,this.fontMatrix=Cn,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bn,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,n])}return ie(e,[{key:"clone",value:function(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}},{key:"updatePathMinMax",value:function(e,t,n){var r=d(Hr.applyTransform([t,n],e),2);t=r[0],n=r[1],this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}},{key:"updateRectMinMax",value:function(e,t){var n=Hr.applyTransform(t,e),r=Hr.applyTransform(t.slice(2),e),i=Hr.applyTransform([t[0],t[3]],e),a=Hr.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],i[0],a[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],a[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],a[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],a[1])}},{key:"updateScalingPathMinMax",value:function(e,t){Hr.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}},{key:"updateCurvePathMinMax",value:function(e,t,n,r,i,a,s,o,l,u){var c=Hr.bezierBoundingBox(t,n,r,i,a,s,o,l,u);u||this.updateRectMinMax(e,c)}},{key:"getPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[this.minX,this.minY,this.maxX,this.maxY];if(e===gc){t||Sr("Stroke bounding box must include transform.");var r=Hr.singularValueDecompose2dScale(t),i=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}},{key:"updateClipFromPath",value:function(){var e=Hr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Hr.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}]),e}();function Ic(e,t){if(t instanceof ImageData)e.putImageData(t,0,0);else{var n,r,i,a,s,o=t.height,l=t.width,u=o%Pc,c=(o-u)/Pc,h=0===u?c:c+1,d=e.createImageData(l,Pc),f=0,v=t.data,p=d.data;if(t.kind===Xn.GRAYSCALE_1BPP){var g=v.byteLength,m=new Uint32Array(p.buffer,0,p.byteLength>>2),y=m.length,b=l+7>>3,w=4294967295,k=Br.isLittleEndian?4278190080:255;for(r=0;r<h;r++){for(a=r<c?Pc:u,n=0,i=0;i<a;i++){for(var x=g-f,_=0,A=x>b?l:8*x-7,S=-8&A,E=0,C=0;_<S;_+=8)C=v[f++],m[n++]=128&C?w:k,m[n++]=64&C?w:k,m[n++]=32&C?w:k,m[n++]=16&C?w:k,m[n++]=8&C?w:k,m[n++]=4&C?w:k,m[n++]=2&C?w:k,m[n++]=1&C?w:k;for(;_<A;_++)0===E&&(C=v[f++],E=128),m[n++]=C&E?w:k,E>>=1}for(;n<y;)m[n++]=0;e.putImageData(d,0,r*Pc)}}else if(t.kind===Xn.RGBA_32BPP){for(i=0,s=l*Pc*4,r=0;r<c;r++)p.set(v.subarray(f,f+s)),f+=s,e.putImageData(d,0,i),i+=Pc;r<h&&(s=l*u*4,p.set(v.subarray(f,f+s)),e.putImageData(d,0,i))}else{if(t.kind!==Xn.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(s=l*(a=Pc),r=0;r<h;r++){for(r>=c&&(s=l*(a=u)),n=0,i=s;i--;)p[n++]=v[f++],p[n++]=v[f++],p[n++]=v[f++],p[n++]=255;e.putImageData(d,0,r*Pc)}}}}function Dc(e,t){if(t.bitmap)e.drawImage(t.bitmap,0,0);else for(var n=t.height,r=t.width,i=n%Pc,a=(n-i)/Pc,s=0===i?a:a+1,o=e.createImageData(r,Pc),l=0,u=t.data,c=o.data,h=0;h<s;h++){l=Tc({src:u,srcPos:l,dest:c,width:r,height:h<a?Pc:i,nonBlackColor:0}).srcPos,e.putImageData(o,0,h*Pc)}}function Oc(e,t){for(var n=0,r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Fc(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!Sn){var t=e.filter;"none"!==t&&""!==t&&(e.filter="none")}}function Wc(e,t){if(t)return!0;var n=Hr.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var r=Math.fround((globalThis.devicePixelRatio||1)*Zr.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}var jc=["butt","round","square"],zc=["miter","round","bevel"],Bc={},Uc={},Hc=new WeakSet,Vc=new WeakSet,Gc=new WeakSet,qc=function(){function e(t,n,r,i,a,s,o,l){var u=s.optionalContentConfig,c=s.markedContentStack,h=void 0===c?null:c;ne(this,e),on(this,Gc),on(this,Vc),on(this,Hc),this.ctx=t,this.current=new Nc(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new Rc(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return ie(e,[{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}},{key:"beginDrawing",value:function(e){var t,n,r=e.transform,i=e.viewport,a=e.transparency,s=void 0!==a&&a,o=e.background,l=void 0===o?null:o,u=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=l||"#ffffff",this.ctx.fillRect(0,0,u,c),this.ctx.fillStyle=h,s){var d,f=this.cachedCanvases.getCanvas("transparent",u,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),(d=this.ctx).transform.apply(d,et(gi(this.compositeCtx)))}(this.ctx.save(),Fc(this.ctx),r)&&((n=this.ctx).transform.apply(n,et(r)),this.outputScaleX=r[0],this.outputScaleY=r[0]);(t=this.ctx).transform.apply(t,et(i.transform)),this.viewportScale=i.scale,this.baseTransform=gi(this.ctx)}},{key:"executeOperatorList",value:function(e,t,n,r){var i=e.argsArray,a=e.fnArray,s=t||0,o=i.length;if(o===s)return s;for(var l,u=o-s>10&&"function"===typeof n,c=u?Date.now()+15:0,h=0,d=this.commonObjs,f=this.objs;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if((l=a[s])!==yr.dependency)this[l].apply(this,i[s]);else{var v,p=De(i[s]);try{for(p.s();!(v=p.n()).done;){var g=v.value,m=g.startsWith("g_")?d:f;if(!m.has(g))return m.get(g,n),s}}catch(y){p.e(y)}finally{p.f()}}if(++s===o)return s;if(u&&++h>10){if(Date.now()>c)return n(),s;h=0}}}},{key:"endDrawing",value:function(){un(this,Hc,Xc).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();var e,t=De(this._cachedBitmapsMap.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=De(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement&&(a.width=a.height=0)}}catch(s){i.e(s)}finally{i.f()}r.clear()}}catch(s){t.e(s)}finally{t.f()}this._cachedBitmapsMap.clear(),un(this,Vc,Yc).call(this)}},{key:"_scaleImage",value:function(e,t){for(var n,r,i,a,s=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,o=null!==(r=e.height)&&void 0!==r?r:e.displayHeight,l=Math.max(Math.hypot(t[0],t[1]),1),u=Math.max(Math.hypot(t[2],t[3]),1),c=s,h=o,d="prescale1";l>2&&c>1||u>2&&h>1;){var f=c,v=h;l>2&&c>1&&(l/=c/(f=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2))),u>2&&h>1&&(u/=h/(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2)),(a=(i=this.cachedCanvases.getCanvas(d,f,v)).context).clearRect(0,0,f,v),a.drawImage(e,0,0,c,h,0,0,f,v),e=i.canvas,c=f,h=v,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:h}}},{key:"_createMaskCanvas",value:function(e){var t,n,r,i,a=this.ctx,s=e.width,o=e.height,l=this.current.fillColor,u=this.current.patternFill,c=gi(a);if((e.bitmap||e.data)&&e.count>1){var h=e.bitmap||e.data.buffer;n=JSON.stringify(u?c:[c.slice(0,4),l]),(t=this._cachedBitmapsMap.get(h))||(t=new Map,this._cachedBitmapsMap.set(h,t));var f=t.get(n);if(f&&!u)return{canvas:f,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};r=f}r||Dc((i=this.cachedCanvases.getCanvas("maskCanvas",s,o)).context,e);var v=Hr.transform(c,[1/s,0,0,-1/o,0,0]);v=Hr.transform(v,[1,0,0,1,0,-o]);var p=d(Hr.getAxialAlignedBoundingBox([0,0,s,o],v),4),g=p[0],m=p[1],y=p[2],b=p[3],w=Math.round(y-g)||1,k=Math.round(b-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",w,k),_=x.context,A=g,S=m;_.translate(-A,-S),_.transform.apply(_,et(v)),r||(r=(r=this._scaleImage(i.canvas,mi(_))).img,t&&u&&t.set(n,r)),_.imageSmoothingEnabled=Wc(gi(_),e.interpolate),Lc(_,r,0,0,r.width,r.height,0,0,s,o),_.globalCompositeOperation="source-in";var E=Hr.transform(mi(_),[1,0,0,1,-A,-S]);return _.fillStyle=u?l.getPattern(a,this,E,pc):l,_.fillRect(0,0,s,o),t&&!u&&(this.cachedCanvases.delete("fillCanvas"),t.set(n,x.canvas)),{canvas:x.canvas,offsetX:Math.round(A),offsetY:Math.round(S)}}},{key:"setLineWidth",value:function(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=jc[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=zc[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a)}}}catch(s){n.e(s)}finally{n.f()}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;var i=this.ctx;i.setTransform.apply(i,et(gi(this.suspendedCtx))),Oc(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Oc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(e){if(this.current.activeSMask){e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"composeSMask",value:function(e,t,n,r){var i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}},{key:"genericComposeSMask",value:function(e,t,n,r,i,a,s,o,l,u,c){var h=e.canvas,d=o-u,f=l-c;if(a){var v=Hr.makeHexColor.apply(Hr,et(a));if(d<0||f<0||d+n>h.width||f+r>h.height){var p=this.cachedCanvases.getCanvas("maskExtension",n,r),g=p.context;g.drawImage(h,-d,-f),g.globalCompositeOperation="destination-atop",g.fillStyle=v,g.fillRect(0,0,n,r),g.globalCompositeOperation="source-over",h=p.canvas,d=f=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);var m=new Path2D;m.rect(d,f,n,r),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(d,f,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));var y=new Path2D;y.rect(o,l,n,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(h,d,f,n,r,o,l,n,r),t.restore()}},{key:"save",value:function(){this.inSMaskMode?(Oc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Oc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t,n){for(var r,i,a=this.ctx,s=this.current,o=s.x,l=s.y,u=gi(a),c=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],h=c?n.slice(0):null,d=0,f=0,v=e.length;d<v;d++)switch(0|e[d]){case yr.rectangle:o=t[f++],l=t[f++];var p=t[f++],g=t[f++],m=o+p,y=l+g;a.moveTo(o,l),0===p||0===g?a.lineTo(m,y):(a.lineTo(m,l),a.lineTo(m,y),a.lineTo(o,y)),c||s.updateRectMinMax(u,[o,l,m,y]),a.closePath();break;case yr.moveTo:o=t[f++],l=t[f++],a.moveTo(o,l),c||s.updatePathMinMax(u,o,l);break;case yr.lineTo:o=t[f++],l=t[f++],a.lineTo(o,l),c||s.updatePathMinMax(u,o,l);break;case yr.curveTo:r=o,i=l,o=t[f+4],l=t[f+5],a.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],o,l),s.updateCurvePathMinMax(u,r,i,t[f],t[f+1],t[f+2],t[f+3],o,l,h),f+=6;break;case yr.curveTo2:r=o,i=l,a.bezierCurveTo(o,l,t[f],t[f+1],t[f+2],t[f+3]),s.updateCurvePathMinMax(u,r,i,o,l,t[f],t[f+1],t[f+2],t[f+3],h),o=t[f+2],l=t[f+3],f+=4;break;case yr.curveTo3:r=o,i=l,o=t[f+2],l=t[f+3],a.bezierCurveTo(t[f],t[f+1],o,l,o,l),s.updateCurvePathMinMax(u,r,i,t[f],t[f+1],o,l,o,l,h),f+=4;break;case yr.closePath:a.closePath()}c&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,l)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,mi(t),gc),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,mi(t),pc),i=!0);var a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(a)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Bc}},{key:"eoClip",value:function(){this.pendingClip=Uc}},{key:"beginText",value:function(){this.current.textMatrix=En,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){var n,r=new Path2D,i=t.getTransform().invertSelf(),a=De(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,o=s.transform,l=s.x,u=s.y,c=s.fontSize,h=s.path;r.addPath(h,new DOMMatrix(o).preMultiplySelf(i).translate(l,u).scale(c,-c))}}catch(d){a.e(d)}finally{a.f()}t.clip(r),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var n,r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||Cn,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||Ar("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var a=r.loadedName||"sans-serif",s=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(r.fallbackName),o="normal";r.black?o="900":r.bold&&(o="bold");var l=r.italic?"italic":"normal",u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(l," ").concat(o," ").concat(u,"px ").concat(s)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,n,r,i){var a,s=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=u&Gn,d=!!(u&qn),f=o.patternFill&&!l.missingFile,v=o.patternStroke&&!l.missingFile;if((l.disableFontFace||d||f||v)&&(a=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f||v){if(s.save(),s.translate(t,n),s.scale(c,-c),h===Bn||h===Hn)if(r){var p=s.getTransform();s.setTransform.apply(s,et(r)),s.fill(un(this,Gc,Kc).call(this,a,p,r))}else s.fill(a);if(h===Un||h===Hn)if(i){var g=s.getTransform();s.setTransform.apply(s,et(i)),s.stroke(un(this,Gc,Kc).call(this,a,g,i))}else s.lineWidth/=c,s.stroke(a);s.restore()}else h!==Bn&&h!==Hn||s.fillText(e,t,n),h!==Un&&h!==Hn||s.strokeText(e,t,n);d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gi(s),x:t,y:n,fontSize:c,path:a})}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Tr(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var r=t.fontSize;if(0!==r){var i,a,s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=n.vertical,v=f?1:-1,p=n.defaultVMetrics,g=r*t.fontMatrix[0],m=t.textRenderingMode===Bn&&!n.disableFontFace&&!t.patternFill;if(s.save(),s.transform.apply(s,et(t.textMatrix)),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1),t.patternFill){s.save();var y=t.fillColor.getPattern(s,this,mi(s),pc);i=gi(s),s.restore(),s.fillStyle=y}if(t.patternStroke){s.save();var b=t.strokeColor.getPattern(s,this,mi(s),gc);a=gi(s),s.restore(),s.strokeStyle=b}var w=t.lineWidth,k=t.textMatrixScale;if(0===k||0===w){var x=t.textRenderingMode&Gn;x!==Un&&x!==Hn||(w=this.getSinglePixelWidth())}else w/=k;if(1!==o&&(s.scale(o,o),w/=o),s.lineWidth=w,n.isInvalidPDFjsFont){var _,A=[],S=0,E=De(e);try{for(E.s();!(_=E.n()).done;){var C=_.value;A.push(C.unicode),S+=C.width}}catch(G){E.e(G)}finally{E.f()}return s.fillText(A.join(""),0,0),t.x+=S*g*h,s.restore(),void this.compose()}var M,T=0;for(M=0;M<d;++M){var P=e[M];if("number"!==typeof P){var R=!1,L=(P.isSpace?u:0)+l,N=P.fontChar,I=P.accent,D=void 0,O=void 0,F=P.width;if(f){var W=P.vmetric||p,j=-(P.vmetric?W[1]:.5*F)*g,z=W[2]*g;F=W?-W[0]:F,D=j/o,O=(T+z)/o}else D=T/o,O=0;if(n.remeasure&&F>0){var B=1e3*s.measureText(N).width/r*o;if(F<B&&this.isFontSubpixelAAEnabled){var U=F/B;R=!0,s.save(),s.scale(U,1),D/=U}else F!==B&&(D+=(F-B)/2e3*r/o)}if(this.contentVisible&&(P.isInFont||n.missingFile))if(m&&!I)s.fillText(N,D,O);else if(this.paintChar(N,D,O,i,a),I){var H=D+r*I.offset.x/o,V=O-r*I.offset.y/o;this.paintChar(I.fontChar,H,V,i,a)}T+=f?F*g-L*c:F*g+L*c,R&&s.restore()}else T+=v*P*r/1e3}f?t.y-=T:t.x+=T*h,s.restore(),this.compose()}}},{key:"showType3Text",value:function(e){var t,n,r,i,a=this.ctx,s=this.current,o=s.font,l=s.fontSize,u=s.fontDirection,c=o.vertical?1:-1,h=s.charSpacing,d=s.wordSpacing,f=s.textHScale*u,v=s.fontMatrix||Cn,p=e.length;if(!(s.textRenderingMode===Vn)&&0!==l){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,et(s.textMatrix)),a.translate(s.x,s.y),a.scale(f,u),t=0;t<p;++t)if("number"!==typeof(n=e[t])){var g=(n.isSpace?d:0)+h,m=o.charProcOperatorList[n.operatorListId];if(m)this.contentVisible&&(this.processingType3=n,this.save(),a.scale(l,l),a.transform.apply(a,et(v)),this.executeOperatorList(m),this.restore()),r=Hr.applyTransform([n.width,0],v)[0]*l+g,a.translate(r,0),s.x+=r*f;else Ar('Type3 character "'.concat(n.operatorListId,'" is not available.'))}else i=c*n*l/1e3,this.ctx.translate(i,0),s.x+=i*f;a.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var n,r=this;if("TilingPattern"===t[0]){var i=t[1],a=this.baseTransform||gi(this.ctx),s={createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.filterFactory,{optionalContentConfig:r.optionalContentConfig,markedContentStack:r.markedContentStack})}};n=new Mc(t,i,this.ctx,s,a)}else n=this._getPattern(t[1],t[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Hr.makeHexColor(e,t,n),this.current.patternStroke=!1}},{key:"setStrokeTransparent",value:function(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}},{key:"setFillRGBColor",value:function(e,t,n){this.ctx.fillStyle=this.current.fillColor=Hr.makeHexColor(e,t,n),this.current.patternFill=!1}},{key:"setFillTransparent",value:function(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}},{key:"_getPattern",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=Sc(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,mi(t),mc);var r=mi(t);if(r){var i=t.canvas,a=i.width,s=i.height,o=d(Hr.getAxialAlignedBoundingBox([0,0,a,s],r),4),l=o[0],u=o[1],c=o[2],h=o[3];this.ctx.fillRect(l,u,c-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){Sr("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){Sr("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform.apply(this,et(e)),this.baseTransform=gi(this.ctx),t)){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(gi(this.ctx),t),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var t=this.ctx;e.isolated||_r("TODO: Support non-isolated groups."),e.knockout&&Ar("Knockout groups not supported.");var n=gi(t);if(e.matrix&&t.transform.apply(t,et(e.matrix)),!e.bbox)throw new Error("Bounding box is required.");var r=Hr.getAxialAlignedBoundingBox(e.bbox,gi(t)),i=[0,0,t.canvas.width,t.canvas.height];r=Hr.intersect(r,i)||[0,0,0,0];var a=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-a,1),l=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);var u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);var c=this.cachedCanvases.getCanvas(u,o,l),h=c.context;h.translate(-a,-s),h.transform.apply(h,et(n)),e.smask?this.smaskStack.push({canvas:c.canvas,context:h,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),Oc(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{var r;this.ctx.restore();var i=gi(this.ctx);this.restore(),this.ctx.save(),(r=this.ctx).setTransform.apply(r,et(i));var a=Hr.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}}},{key:"beginAnnotation",value:function(e,t,n,r,i){var a;(un(this,Hc,Xc).call(this),Fc(this.ctx),this.ctx.save(),this.save(),this.baseTransform)&&(a=this.ctx).setTransform.apply(a,et(this.baseTransform));if(t){var s=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=o;var l=d(Hr.singularValueDecompose2dScale(gi(this.ctx)),2),u=l[0],c=l[1],h=this.viewportScale,f=Math.ceil(s*this.outputScaleX*h),v=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,v);var p=this.annotationCanvas,g=p.canvas,m=p.context;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(u,0,0,-c,0,o*c),Fc(this.ctx)}else Fc(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new Nc(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,et(n)),this.transform.apply(this,et(r))}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx.restore(),un(this,Vc,Yc).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=e.count;(e=this.getObject(e.data,e)).count=t;var n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){var t=e.width,n=e.height;if(t>1e3||n>1e3)return null;var r,i,a,s,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1,u=new Uint8Array(l*(n+1)),c=t+7&-8,h=new Uint8Array(c*n),d=0,f=De(e.data);try{for(f.s();!(s=f.n()).done;)for(var v=s.value,p=128;p>0;)h[d++]=v&p?0:255,p>>=1}catch(E){f.e(E)}finally{f.f()}var g=0;for(0!==h[d=0]&&(u[0]=1,++g),i=1;i<t;i++)h[d]!==h[d+1]&&(u[i]=h[d]?2:1,++g),d++;for(0!==h[d]&&(u[i]=2,++g),r=1;r<n;r++){a=r*l,h[(d=r*c)-c]!==h[d]&&(u[a]=h[d]?1:8,++g);var m=(h[d]?4:0)+(h[d-c]?8:0);for(i=1;i<t;i++)o[m=(m>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0)]&&(u[a+i]=o[m],++g),d++;if(h[d-c]!==h[d]&&(u[a+i]=h[d]?2:4,++g),g>1e3)return null}for(a=r*l,0!==h[d=c*(n-1)]&&(u[a]=8,++g),i=1;i<t;i++)h[d]!==h[d+1]&&(u[a+i]=h[d]?4:8,++g),d++;if(0!==h[d]&&(u[a+i]=4,++g),g>1e3)return null;var y=new Int32Array([0,l,-1,0,-l,0,0,0,1]),b=new Path2D;for(r=0;g&&r<=n;r++){for(var w=r*l,k=w+t;w<k&&!u[w];)w++;if(w!==k){b.moveTo(w%l,r);var x=w,_=u[w];do{var A=y[_];do{w+=A}while(!u[w]);var S=u[w];5!==S&&10!==S?(_=S,u[w]=0):(_=S&51*_>>4,u[w]&=_>>2|_<<2),b.lineTo(w%l,w/l|0),u[w]||--g}while(x!==w);--r}}return h=null,u=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(b),e.beginPath(),e.restore()}}(e)),r.compiled))r.compiled(n);else{var i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){e=this.getObject(e.data,e);var s=this.ctx;s.save();var o=gi(s);s.transform(t,n,r,i,0,0);var l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(var u=0,c=a.length;u<c;u+=2){var h=Hr.transform(o,[t,n,r,i,a[u],a[u+1]]),f=Hr.applyTransform([0,0],h),v=d(f,2),p=v[0],g=v[1];s.drawImage(l.canvas,p,g)}s.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible){var t,n=this.ctx,r=this.current.fillColor,i=this.current.patternFill,a=De(e);try{for(a.s();!(t=a.n()).done;){var s=t.value,o=s.data,l=s.width,u=s.height,c=s.transform,h=this.cachedCanvases.getCanvas("maskCanvas",l,u),d=h.context;d.save(),Dc(d,this.getObject(o,s)),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,mi(n),pc):r,d.fillRect(0,0,l,u),d.restore(),n.save(),n.transform.apply(n,et(c)),n.scale(1,-1),Lc(n,h.canvas,0,0,l,u,0,-1,1,1),n.restore()}}catch(f){a.e(f)}finally{a.f()}this.compose()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=this.getObject(e);t?this.paintInlineImageXObject(t):Ar("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,n,r){if(this.contentVisible){var i=this.getObject(e);if(i){for(var a=i.width,s=i.height,o=[],l=0,u=r.length;l<u;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(i,o)}else Ar("Dependent image isn't ready yet")}}},{key:"applyTransferMapsToCanvas",value:function(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}},{key:"applyTransferMapsToBitmap",value:function(e){if("none"===this.current.transferMaps)return e.bitmap;var t=e.bitmap,n=e.width,r=e.height,i=this.cachedCanvases.getCanvas("inlineImage",n,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var t,n=e.width,r=e.height,i=this.ctx;if(this.save(),!Sn){var a=i.filter;"none"!==a&&""!==a&&(i.filter="none")}if(i.scale(1/n,-1/r),e.bitmap)t=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)t=e;else{var s=this.cachedCanvases.getCanvas("inlineImage",n,r).context;Ic(s,e),t=this.applyTransferMapsToCanvas(s)}var o=this._scaleImage(t,mi(i));i.imageSmoothingEnabled=Wc(gi(i),e.interpolate),Lc(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,t){if(this.contentVisible){var n,r=this.ctx;if(e.bitmap)n=e.bitmap;else{var i=e.width,a=e.height,s=this.cachedCanvases.getCanvas("inlineImage",i,a).context;Ic(s,e),n=this.applyTransferMapsToCanvas(s)}var o,l=De(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;r.save(),r.transform.apply(r,et(u.transform)),r.scale(1,-1),Lc(r,n,u.x,u.y,u.w,u.h,0,-1,1,1),r.restore()}}catch(c){l.e(c)}finally{l.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(e){var t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);var n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Uc?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var e=gi(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{var t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(-1===this._cachedScaleForStroking[0]){var e,t,n=this.current.lineWidth,r=this.ctx.getTransform(),i=r.a,a=r.b,s=r.c,o=r.d;if(0===a&&0===s){var l=Math.abs(i),u=Math.abs(o);if(l===u)if(0===n)e=t=1/l;else{var c=l*n;e=t=c<1?1/c:1}else if(0===n)e=1/l,t=1/u;else{var h=l*n,d=u*n;e=h<1?1/h:1,t=d<1?1/d:1}}else{var f=Math.abs(i*o-a*s),v=Math.hypot(i,a),p=Math.hypot(s,o);if(0===n)e=p/f,t=v/f;else{var g=n*f;e=p>g?p/g:1,t=v>g?v/g:1}}this._cachedScaleForStroking[0]=e,this._cachedScaleForStroking[1]=t}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(e){var t=this.ctx,n=this.current.lineWidth,r=d(this.getScaleForStroking(),2),i=r[0],a=r[1];if(t.lineWidth=n||1,1!==i||1!==a){var s=t.getLineDash();if(e&&t.save(),t.scale(i,a),s.length>0){var o=Math.max(i,a);t.setLineDash(s.map((function(e){return e/o}))),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}else t.stroke()}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),e}();function Xc(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Yc(){if(this.pageColors){var e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){var t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function Kc(e,t,n){var r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}for(var Qc in yr)void 0!==qc.prototype[Qc]&&(qc.prototype[yr[Qc]]=qc.prototype[Qc]);var $c=function(){function e(){ne(this,e)}return ie(e,null,[{key:"workerPort",get:function(){return mn(this,e,Jc)},set:function(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");gn(this,e,Jc,t)}},{key:"workerSrc",get:function(){return mn(this,e,Zc)},set:function(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");gn(this,e,Zc,t)}}]),e}(),Jc={writable:!0,value:null},Zc={writable:!0,value:""},eh=new WeakMap,th=new WeakMap,nh=function(){function e(t){var n=t.parsedData,r=t.rawData;ne(this,e),ln(this,eh,{writable:!0,value:void 0}),ln(this,th,{writable:!0,value:void 0}),fn(this,eh,n),fn(this,th,r)}return ie(e,[{key:"getRaw",value:function(){return hn(this,th)}},{key:"get",value:function(e){var t;return null!==(t=hn(this,eh).get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return zr(hn(this,eh))}},{key:"has",value:function(e){return hn(this,eh).has(e)}}]),e}(),rh=Symbol("INTERNAL"),ih=new WeakMap,ah=new WeakMap,sh=new WeakMap,oh=new WeakMap,lh=function(){function e(t,n){var r=n.name,i=n.intent,a=n.usage,s=n.rbGroups;ne(this,e),ln(this,ih,{writable:!0,value:!1}),ln(this,ah,{writable:!0,value:!1}),ln(this,sh,{writable:!0,value:!1}),ln(this,oh,{writable:!0,value:!0}),fn(this,ih,!!(t&Pn)),fn(this,ah,!!(t&Rn)),this.name=r,this.intent=i,this.usage=a,this.rbGroups=s}return ie(e,[{key:"visible",get:function(){if(hn(this,sh))return hn(this,oh);if(!hn(this,oh))return!1;var e=this.usage,t=e.print,n=e.view;return hn(this,ih)?"OFF"!==(null===n||void 0===n?void 0:n.viewState):!hn(this,ah)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}},{key:"_setVisible",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==rh&&Sr("Internal method `_setVisible` called."),fn(this,sh,n),fn(this,oh,t)}}]),e}(),uh=new WeakMap,ch=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakSet,vh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;if(ne(this,e),on(this,fh),ln(this,uh,{writable:!0,value:null}),ln(this,ch,{writable:!0,value:new Map}),ln(this,hh,{writable:!0,value:null}),ln(this,dh,{writable:!0,value:null}),this.renderingIntent=n,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,fn(this,dh,t.order);var r,i=De(t.groups);try{for(i.s();!(r=i.n()).done;){var a=r.value;hn(this,ch).set(a.id,new lh(n,a))}}catch(p){i.e(p)}finally{i.f()}if("OFF"===t.baseState){var s,o=De(hn(this,ch).values());try{for(o.s();!(s=o.n()).done;){var l=s.value;l._setVisible(rh,!1)}}catch(p){o.e(p)}finally{o.f()}}var u,c=De(t.on);try{for(c.s();!(u=c.n()).done;){var h=u.value;hn(this,ch).get(h)._setVisible(rh,!0)}}catch(p){c.e(p)}finally{c.f()}var d,f=De(t.off);try{for(f.s();!(d=f.n()).done;){var v=d.value;hn(this,ch).get(v)._setVisible(rh,!1)}}catch(p){f.e(p)}finally{f.f()}fn(this,hh,this.getHash())}}return ie(e,[{key:"isVisible",value:function(e){if(0===hn(this,ch).size)return!0;if(!e)return _r("Optional content group not defined."),!0;if("OCG"===e.type)return hn(this,ch).has(e.id)?hn(this,ch).get(e.id).visible:(Ar("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return un(this,fh,ph).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){var t,n=De(e.ids);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!hn(this,ch).has(r))return Ar("Optional content group not found: ".concat(r)),!0;if(hn(this,ch).get(r).visible)return!0}}catch(f){n.e(f)}finally{n.f()}return!1}if("AllOn"===e.policy){var i,a=De(e.ids);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!hn(this,ch).has(s))return Ar("Optional content group not found: ".concat(s)),!0;if(!hn(this,ch).get(s).visible)return!1}}catch(f){a.e(f)}finally{a.f()}return!0}if("AnyOff"===e.policy){var o,l=De(e.ids);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!hn(this,ch).has(u))return Ar("Optional content group not found: ".concat(u)),!0;if(!hn(this,ch).get(u).visible)return!0}}catch(f){l.e(f)}finally{l.f()}return!1}if("AllOff"===e.policy){var c,h=De(e.ids);try{for(h.s();!(c=h.n()).done;){var d=c.value;if(!hn(this,ch).has(d))return Ar("Optional content group not found: ".concat(d)),!0;if(hn(this,ch).get(d).visible)return!1}}catch(f){h.e(f)}finally{h.f()}return!0}return Ar("Unknown optional content policy ".concat(e.policy,".")),!0}return Ar("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=hn(this,ch).get(e);if(r){if(n&&t&&r.rbGroups.length){var i,a=De(r.rbGroups);try{for(a.s();!(i=a.n()).done;){var s,o=i.value,l=De(o);try{for(l.s();!(s=l.n()).done;){var u,c=s.value;if(c!==e)null===(u=hn(this,ch).get(c))||void 0===u||u._setVisible(rh,!1,!0)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}}r._setVisible(rh,!!t,!0),fn(this,uh,null)}else Ar("Optional content group not found: ".concat(e))}},{key:"setOCGState",value:function(e){var t,n,r=e.state,i=e.preserveRB,a=De(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}var o=hn(this,ch).get(s);if(o)switch(t){case"ON":this.setVisibility(s,!0,i);break;case"OFF":this.setVisibility(s,!1,i);break;case"Toggle":this.setVisibility(s,!o.visible,i)}}}catch(l){a.e(l)}finally{a.f()}fn(this,uh,null)}},{key:"hasInitialVisibility",get:function(){return null===hn(this,hh)||this.getHash()===hn(this,hh)}},{key:"getOrder",value:function(){return hn(this,ch).size?hn(this,dh)?hn(this,dh).slice():et(hn(this,ch).keys()):null}},{key:"getGroups",value:function(){return hn(this,ch).size>0?zr(hn(this,ch)):null}},{key:"getGroup",value:function(e){return hn(this,ch).get(e)||null}},{key:"getHash",value:function(){if(null!==hn(this,uh))return hn(this,uh);var e,t=new Bl,n=De(hn(this,ch));try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1];t.update("".concat(i,":").concat(a.visible))}}catch(s){n.e(s)}finally{n.f()}return fn(this,uh,t.hexdigest())}}]),e}();function ph(e){var t=e.length;if(t<2)return!0;for(var n=e[0],r=1;r<t;r++){var i=e[r],a=void 0;if(Array.isArray(i))a=un(this,fh,ph).call(this,i);else{if(!hn(this,ch).has(i))return Ar("Optional content group not found: ".concat(i)),!0;a=hn(this,ch).get(i).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}var gh=function(){function e(t,n){var r=this,i=n.disableRange,a=void 0!==i&&i,s=n.disableStream,o=void 0!==s&&s;ne(this,e),Er(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var l=t.length,u=t.initialData,c=t.progressiveDone,h=t.contentDispositionFilename;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(null===u||void 0===u?void 0:u.length)>0){var d=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!o,this._isRangeSupported=!a,this._contentLength=l,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((function(e,t){r._onReceiveData({begin:e,chunk:t})})),t.addProgressListener((function(e,t){r._onProgress({loaded:e,total:t})})),t.addProgressiveReadListener((function(e){r._onReceiveData({chunk:e})})),t.addProgressiveDoneListener((function(){r._onProgressiveDone()})),t.transportReady()}return ie(e,[{key:"_onReceiveData",value:function(e){var t=e.begin,n=e.chunk,r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;void 0===t?this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r):Er(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}},{key:"_onProgressiveDone",value:function(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){Er(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new mh(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new yh(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=De(this._rangeReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(e)}}catch(i){r.e(i)}finally{r.f()}this._pdfDataRangeTransport.abort()}}]),e}(),mh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ne(this,e),this._stream=t,this._done=r||!1,this._filename=ai(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var a,s=De(this._queuedChunks);try{for(s.s();!(a=s.n()).done;){var o=a.value;this._loaded+=o.byteLength}}catch(l){s.e(l)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return ie(e,[{key:"_enqueue",value:function(e){if(!this._done){if(this._requests.length>0)this._requests.shift().resolve({value:e,done:!1});else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=Promise.withResolvers(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),yh=function(){function e(t,n,r){ne(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return ie(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=Promise.withResolvers(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}();function bh(e,t){var n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(var r in t){var i=t[r];void 0!==i&&n.append(r,i)}return n}function wh(e){try{return new URL(e).origin}catch(t){}return null}function kh(e){var t=e.responseHeaders,n=e.isHttp,r=e.rangeChunkSize,i=e.disableRange,a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return Number.isInteger(s)?(a.suggestedLength=s,s<=2*r||i||!n||"bytes"!==t.get("Accept-Ranges")||"identity"!==(t.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a}function xh(e){var t=e.get("Content-Disposition");if(t){var n=function(e){var t=!0,n=a("filename\\*","i").exec(e);if(n){var r=l(n=n[1]);return o(r=c(r=u(r=unescape(r))))}if(n=function(e){for(var t,n=[],r=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var i=d(t,4),s=i[1],o=i[2],c=i[3];if((s=parseInt(s,10))in n){if(0===s)break}else n[s]=[o,c]}for(var h=[],f=0;f<n.length&&f in n;++f){var v=d(n[f],2),p=v[0],g=v[1];g=l(g),p&&(g=unescape(g),0===f&&(g=u(g))),h.push(g)}return h.join("")}(e))return o(c(n));if(n=a("filename","i").exec(e)){var i=l(n=n[1]);return o(i=c(i))}function a(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=jr(n);n=r.decode(i),t=!1}catch(a){}}return n}function o(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function l(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return s(t,r)}))}return""}(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(ai(n))return n}return null}function _h(e,t){return 404===e||0===e&&t.startsWith("file:")?new Ir('Missing PDF "'+t+'".'):new Dr("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function Ah(e){return 200===e||206===e}function Sh(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Eh(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Ar("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}var Ch=function(){function e(t){ne(this,e),xe(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bh(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}return ie(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return Er(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Mh(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new Th(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=De(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(e)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),Mh=function(){function e(t){var n=this;ne(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var r=t.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;var i=new Headers(t.headers),a=r.url;fetch(a,Sh(i,this._withCredentials,this._abortController)).then((function(e){if(t._responseOrigin=wh(e.url),!Ah(e.status))throw _h(e.status,a);n._reader=e.body.getReader(),n._headersCapability.resolve();var r=e.headers,i=kh({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=i.allowRangeRequests,o=i.suggestedLength;n._isRangeSupported=s,n._contentLength=o||n._contentLength,n._filename=xh(r),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new Fr("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}return ie(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=e.sent,r=n.value,!(i=n.done)){e.next=9;break}return e.abrupt("return",{value:r,done:i});case 9:return this._loaded+=r.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),e.abrupt("return",{value:Eh(r),done:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}]),e}(),Th=function(){function e(t,n,r){var i=this;ne(this,e),this._stream=t,this._reader=null,this._loaded=0;var a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;var s=new Headers(t.headers);s.append("Range","bytes=".concat(n,"-").concat(r-1));var o=a.url;fetch(o,Sh(s,this._withCredentials,this._abortController)).then((function(e){var n=wh(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!Ah(e.status))throw _h(e.status,o);i._readCapability.resolve(),i._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}return ie(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=e.sent,r=n.value,!(i=n.done)){e.next=9;break}return e.abrupt("return",{value:r,done:i});case 9:return this._loaded+=r.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),e.abrupt("return",{value:Eh(r),done:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}]),e}();var Ph=function(){function e(t){var n=t.url,r=t.httpHeaders,i=t.withCredentials;ne(this,e),xe(this,"_responseOrigin",null),this.url=n,this.isHttp=/^https?:/i.test(n),this.headers=bh(this.isHttp,r),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}return ie(e,[{key:"request",value:function(e){var t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;var i,a=De(this.headers);try{for(a.s();!(i=a.n()).done;){var s=d(i.value,2),o=s[0],l=s[1];t.setRequestHeader(o,l)}}catch(u){a.e(u)}finally{a.f()}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",Er(e.onError,"Expected `onError` callback to be provided."),t.onerror=function(){e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n,r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===r.status&&this.isHttp)n.onError(r.status);else{var i=r.status||200;if(200===i&&206===n.expectedStatus||i===n.expectedStatus){var a=function(e){var t=e.response;return"string"!==typeof t?t:jr(t).buffer}(r);if(206===i){var s=r.getResponseHeader("Content-Range"),o=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);o?n.onDone({begin:parseInt(o[1],10),chunk:a}):(Ar('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(r.status)}else n.onError(r.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),Rh=function(){function e(t){ne(this,e),this._source=t,this._manager=new Ph(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return ie(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return Er(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Lh(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new Nh(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=De(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(e)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),Lh=function(){function e(t,n){ne(this,e),this._manager=t,this._url=n.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return ie(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=wh(t.responseURL);var n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((function(e){var t=tt(e.split(": "));return[t[0],t.slice(1).join(": ")]})):[]),i=kh({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=i.allowRangeRequests,s=i.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=xh(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk));if(this._done=!0,!(this._cachedChunks.length>0)){var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(e){this._storedError=_h(e,this._url),this._headersCapability.reject(this._storedError);var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.reject(this._storedError)}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:if(!this._storedError){e.next=4;break}throw this._storedError;case 4:if(!(this._cachedChunks.length>0)){e.next=7;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 7:if(!this._done){e.next=9;break}return e.abrupt("return",{value:void 0,done:!0});case 9:return n=Promise.withResolvers(),this._requests.push(n),e.abrupt("return",n.promise);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._headersCapability.reject(e);var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),Nh=function(){function e(t,n,r){ne(this,e),this._manager=t,this._url=t.url,this._requestId=t.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return ie(e,[{key:"_onHeadersReceived",value:function(){var e,t=wh(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}},{key:"_close",value:function(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0;var n,r=De(this._requests);try{for(r.s();!(n=r.n()).done;){n.value.resolve({value:void 0,done:!0})}}catch(i){r.e(i)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=_h(e,this._url));var n,r=De(this._requests);try{for(r.s();!(n=r.n()).done;){n.value.reject(this._storedError)}}catch(i){r.e(i)}finally{r.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){e.next=6;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 6:if(!this._done){e.next=8;break}return e.abrupt("return",{value:void 0,done:!0});case 8:return n=Promise.withResolvers(),this._requests.push(n),e.abrupt("return",n.promise);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=De(this._requests);try{for(n.s();!(t=n.n()).done;){t.value.resolve({value:void 0,done:!0})}}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}(),Ih=/^[a-z][a-z0-9\-+.]+:/i;var Dh=function(){function e(t){ne(this,e),this.source=t,this.url=function(e){if(Ih.test(e))return new URL(e);var t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(t.url),Er("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}return ie(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return Er(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Oh(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new Fh(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=De(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(e)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),Oh=function(){function e(t){var n=this;ne(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();var i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then((function(e){n._contentLength=e.size,n._setReadableStream(i.createReadStream(n._url)),n._headersCapability.resolve()}),(function(e){"ENOENT"===e.code&&(e=new Ir('Missing PDF "'.concat(n._url,'".'))),n._storedError=e,n._headersCapability.reject(e)}))}return ie(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(n=this._readableStream.read())){e.next=10;break}return this._readCapability=Promise.withResolvers(),e.abrupt("return",this.read());case 10:return this._loaded+=n.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(n).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),Fh=function(){function e(t,n,r){ne(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();var i=t.source;this._isStreamingSupported=!i.disableStream;var a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}return ie(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=o(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(n=this._readableStream.read())){e.next=10;break}return this._readCapability=Promise.withResolvers(),e.abrupt("return",this.read());case 10:return this._loaded+=n.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),r=new Uint8Array(n).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),Wh=30,jh=new WeakMap,zh=new WeakMap,Bh=new WeakMap,Uh=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakSet,id=new WeakSet,ad=new WeakSet,sd=function(){function e(t){var n,r=this,i=t.textContentSource,a=t.container,s=t.viewport;if(ne(this,e),on(this,ad),on(this,id),on(this,rd),ln(this,jh,{writable:!0,value:Promise.withResolvers()}),ln(this,zh,{writable:!0,value:null}),ln(this,Bh,{writable:!0,value:!1}),ln(this,Uh,{writable:!0,value:!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled)}),ln(this,Hh,{writable:!0,value:null}),ln(this,Vh,{writable:!0,value:null}),ln(this,Gh,{writable:!0,value:0}),ln(this,qh,{writable:!0,value:0}),ln(this,Xh,{writable:!0,value:null}),ln(this,Yh,{writable:!0,value:null}),ln(this,Kh,{writable:!0,value:0}),ln(this,Qh,{writable:!0,value:0}),ln(this,$h,{writable:!0,value:Object.create(null)}),ln(this,Jh,{writable:!0,value:[]}),ln(this,Zh,{writable:!0,value:null}),ln(this,ed,{writable:!0,value:[]}),ln(this,td,{writable:!0,value:new WeakMap}),ln(this,nd,{writable:!0,value:null}),i instanceof ReadableStream)fn(this,Zh,i);else{if("object"!==typeof i)throw new Error('No "textContentSource" parameter specified.');fn(this,Zh,new ReadableStream({start:function(e){e.enqueue(i),e.close()}}))}fn(this,zh,fn(this,Yh,a)),fn(this,Qh,s.scale*(globalThis.devicePixelRatio||1)),fn(this,Kh,s.rotation),fn(this,Vh,{div:null,properties:null,ctx:null});var o=s.rawDims,l=o.pageWidth,u=o.pageHeight,c=o.pageX,h=o.pageY;fn(this,nd,[1,0,0,-1,-c,h+u]),fn(this,qh,l),fn(this,Gh,u),yn(e,e,dd).call(e),yi(a,s),hn(this,jh).promise.finally((function(){mn(e,e,yd).delete(r),fn(r,Vh,null),fn(r,$h,null)})).catch((function(){}))}return ie(e,[{key:"render",value:function(){var t=this;return fn(this,Xh,hn(this,Zh).getReader()),mn(e,e,yd).add(this),function e(){hn(t,Xh).read().then((function(n){var r,i=n.value;n.done?hn(t,jh).resolve():(null!==(r=hn(t,Hh))&&void 0!==r||fn(t,Hh,i.lang),Object.assign(hn(t,$h),i.styles),un(t,rd,od).call(t,i.items),e())}),hn(t,jh).reject)}(),hn(this,jh).promise}},{key:"update",value:function(t){var n=t.viewport,r=t.onBefore,i=void 0===r?null:r,a=n.scale*(globalThis.devicePixelRatio||1),s=n.rotation;if(s!==hn(this,Kh)&&(null===i||void 0===i||i(),fn(this,Kh,s),yi(hn(this,Yh),{rotation:s})),a!==hn(this,Qh)){null===i||void 0===i||i(),fn(this,Qh,a);var o,l={div:null,properties:null,ctx:yn(e,e,cd).call(e,hn(this,Hh))},u=De(hn(this,ed));try{for(u.s();!(o=u.n()).done;){var c=o.value;l.properties=hn(this,td).get(c),l.div=c,un(this,ad,ud).call(this,l)}}catch(h){u.e(h)}finally{u.f()}}}},{key:"cancel",value:function(){var e,t=new Fr("TextLayer task cancelled.");null===(e=hn(this,Xh))||void 0===e||e.cancel(t).catch((function(){})),fn(this,Xh,null),hn(this,jh).reject(t)}},{key:"textDivs",get:function(){return hn(this,ed)}},{key:"textContentItemsStr",get:function(){return hn(this,Jh)}}],[{key:"fontFamilyMap",get:function(){var e=Br.platform,t=e.isWindows,n=e.isFirefox;return Tr(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&n?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&n?"Lucida Console, ":"","monospace")]]))}},{key:"cleanup",value:function(){if(!(mn(this,e,yd).size>0)){mn(this,e,vd).clear();var t,n=De(mn(this,e,pd).values());try{for(n.s();!(t=n.n()).done;){t.value.canvas.remove()}}catch(r){n.e(r)}finally{n.f()}mn(this,e,pd).clear()}}}]),e}();function od(e){var t,n;if(!hn(this,Bh)){null!==(n=(t=hn(this,Vh)).ctx)&&void 0!==n||(t.ctx=yn(sd,sd,cd).call(sd,hn(this,Hh)));var r,i=hn(this,ed),a=hn(this,Jh),s=De(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(i.length>1e5)return Ar("Ignoring additional textDivs for performance reasons."),void fn(this,Bh,!0);if(void 0!==o.str)a.push(o.str),un(this,id,ld).call(this,o);else if("beginMarkedContentProps"===o.type||"beginMarkedContent"===o.type){var l=hn(this,zh);fn(this,zh,document.createElement("span")),hn(this,zh).classList.add("markedContent"),null!==o.id&&hn(this,zh).setAttribute("id","".concat(o.id)),l.append(hn(this,zh))}else"endMarkedContent"===o.type&&fn(this,zh,hn(this,zh).parentNode)}}catch(u){s.e(u)}finally{s.f()}}}function ld(e){var t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};hn(this,ed).push(t);var r=Hr.transform(hn(this,nd),e.transform),i=Math.atan2(r[1],r[0]),a=hn(this,$h)[e.fontName];a.vertical&&(i+=Math.PI/2);var s=hn(this,Uh)&&a.fontSubstitution||a.fontFamily;s=sd.fontFamilyMap.get(s)||s;var o,l,u=Math.hypot(r[2],r[3]),c=u*yn(sd,sd,fd).call(sd,s,hn(this,Hh));0===i?(o=r[4],l=r[5]-c):(o=r[4]+c*Math.sin(i),l=r[5]-c*Math.cos(i));var h="calc(var(--scale-factor)*",d=t.style;hn(this,zh)===hn(this,Yh)?(d.left="".concat((100*o/hn(this,qh)).toFixed(2),"%"),d.top="".concat((100*l/hn(this,Gh)).toFixed(2),"%")):(d.left="".concat(h).concat(o.toFixed(2),"px)"),d.top="".concat(h).concat(l.toFixed(2),"px)")),d.fontSize="".concat(h).concat((mn(sd,sd,md)*u).toFixed(2),"px)"),d.fontFamily=s,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,hn(this,Uh)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));var f=!1;if(e.str.length>1)f=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){var v=Math.abs(e.transform[0]),p=Math.abs(e.transform[3]);v!==p&&Math.max(v,p)/Math.min(v,p)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?e.height:e.width),hn(this,td).set(t,n),hn(this,Vh).div=t,hn(this,Vh).properties=n,un(this,ad,ud).call(this,hn(this,Vh)),n.hasText&&hn(this,zh).append(t),n.hasEOL){var g=document.createElement("br");g.setAttribute("role","presentation"),hn(this,zh).append(g)}}function ud(e){var t=e.div,n=e.properties,r=e.ctx,i=t.style,a="";if(mn(sd,sd,md)>1&&(a="scale(".concat(1/mn(sd,sd,md),")")),0!==n.canvasWidth&&n.hasText){var s=i.fontFamily,o=n.canvasWidth,l=n.fontSize;yn(sd,sd,hd).call(sd,r,l*hn(this,Qh),s);var u=r.measureText(t.textContent).width;u>0&&(a="scaleX(".concat(o*hn(this,Qh)/u,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(i.transform=a)}function cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=mn(this,sd,pd).get(e||(e=""));if(!t){var n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),mn(this,sd,pd).set(e,t),mn(this,sd,gd).set(t,{size:0,family:""})}return t}function hd(e,t,n){var r=mn(this,sd,gd).get(e);t===r.size&&n===r.family||(e.font="".concat(t,"px ").concat(n),r.size=t,r.family=n)}function dd(){if(null===mn(this,sd,md)){var e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),gn(this,sd,md,e.getBoundingClientRect().height),e.remove()}}function fd(e,t){var n=mn(this,sd,vd).get(e);if(n)return n;var r=yn(this,sd,cd).call(this,t);r.canvas.width=r.canvas.height=Wh,yn(this,sd,hd).call(this,r,Wh,e);var i=r.measureText(""),a=i.fontBoundingBoxAscent,s=Math.abs(i.fontBoundingBoxDescent);if(a){var o=a/(a+s);return mn(this,sd,vd).set(e,o),r.canvas.width=r.canvas.height=0,o}r.strokeStyle="red",r.clearRect(0,0,Wh,Wh),r.strokeText("g",0,0);var l=r.getImageData(0,0,Wh,Wh).data;s=0;for(var u=l.length-1-3;u>=0;u-=4)if(l[u]>0){s=Math.ceil(u/4/Wh);break}r.clearRect(0,0,Wh,Wh),r.strokeText("A",0,Wh),a=0;for(var c=0,h=(l=r.getImageData(0,0,Wh,Wh).data).length;c<h;c+=4)if(l[c]>0){a=Wh-Math.floor(c/4/Wh);break}r.canvas.width=r.canvas.height=0;var d=a?a/(a+s):.8;return mn(this,sd,vd).set(e,d),d}var vd={writable:!0,value:new Map},pd={writable:!0,value:new Map},gd={writable:!0,value:new WeakMap},md={writable:!0,value:null},yd={writable:!0,value:new Set},bd=function(){function e(){ne(this,e)}return ie(e,null,[{key:"textContent",value:function(t){var n=[],r={items:n,styles:Object.create(null)};return function t(r){var i;if(r){var a=null,s=r.name;if("#text"===s)a=r.value;else{if(!e.shouldBuildText(s))return;null!==r&&void 0!==r&&null!==(i=r.attributes)&&void 0!==i&&i.textContent?a=r.attributes.textContent:r.value&&(a=r.value)}if(null!==a&&n.push({str:a}),r.children){var o,l=De(r.children);try{for(l.s();!(o=l.n()).done;){t(o.value)}}catch(u){l.e(u)}finally{l.f()}}}}(t),r}},{key:"shouldBuildText",value:function(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}]),e}(),wd=Sn?dc:Su,kd=Sn?fc:Cu,xd=Sn?hc:Yu,_d=Sn?vc:lc;function Ad(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});var r=new Md,i=r.docId,a=n.url?Sd(n.url):null,s=n.data?Ed(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,u=null!==(e=n.password)&&void 0!==e?e:null,c=n.range instanceof Pd?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536,d=n.worker instanceof Hd?n.worker:null,f=n.verbosity,v="string"!==typeof n.docBaseUrl||ii(n.docBaseUrl)?null:n.docBaseUrl,p="string"===typeof n.cMapUrl?n.cMapUrl:null,g=!1!==n.cMapPacked,m=n.CMapReaderFactory||kd,y="string"===typeof n.standardFontDataUrl?n.standardFontDataUrl:null,b=n.StandardFontDataFactory||_d,w=!0!==n.stopAtErrors,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=!1!==n.isEvalSupported,_="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!Sn,A="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!Sn&&(Br.platform.isFirefox||!globalThis.chrome),S=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,E="boolean"===typeof n.disableFontFace?n.disableFontFace:Sn,C=!0===n.fontExtraProperties,M=!0===n.enableXfa,T=n.ownerDocument||globalThis.document,P=!0===n.disableRange,R=!0===n.disableStream,L=!0===n.disableAutoFetch,N=!0===n.pdfBug,I=n.CanvasFactory||wd,D=n.FilterFactory||xd,O=!0===n.enableHWA,F=c?c.length:null!==(t=n.length)&&void 0!==t?t:NaN,W="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!Sn&&!E,j="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:m===Cu&&b===lc&&p&&y&&ui(p,document.baseURI)&&ui(y,document.baseURI),z=null;kr(f);var B={canvasFactory:new I({ownerDocument:T,enableHWA:O}),filterFactory:new D({docId:i,ownerDocument:T}),cMapReaderFactory:j?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:j?null:new b({baseUrl:y})};if(!d){var U={verbosity:f,port:$c.workerPort};d=U.port?Hd.fromPort(U):new Hd(U),r._worker=d}var H={docId:i,apiVersion:"4.10.38",data:s,password:u,disableAutoFetch:L,rangeChunkSize:h,length:F,docBaseUrl:v,enableXfa:M,evaluatorOptions:{maxImageSize:k,disableFontFace:E,ignoreErrors:w,isEvalSupported:x,isOffscreenCanvasSupported:_,isImageDecoderSupported:A,canvasMaxAreaInBytes:S,fontExtraProperties:C,useSystemFonts:W,cMapUrl:j?p:null,standardFontDataUrl:j?y:null}},V={disableFontFace:E,fontExtraProperties:C,ownerDocument:T,pdfBug:N,styleElement:z,loadingParams:{disableAutoFetch:L,enableXfa:M}};return d.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");var e,t=d.messageHandler.sendWithPromise("GetDocRequest",H,s?[s.buffer]:null);if(c)e=new gh(c,{disableRange:P,disableStream:R});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");var n;if(Sn)if(ui(a)){if("undefined"===typeof fetch||"undefined"===typeof Response||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");n=Ch}else n=Dh;else n=ui(a)?Ch:Rh;e=new n({url:a,length:F,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:P,disableStream:R})}return t.then((function(t){if(r.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");var n=new mu(i,t,d.port),a=new tf(n,r,e,V,B);r._transport=a,n.send("Ready",null)}))})).catch(r._capability.reject),r}function Sd(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(Sn&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Ed(e){if(Sn&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return jr(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cd(e){return"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0}var Md=function(){function e(){var t,n;ne(this,e),this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((gn(e,e,Td,(t=mn(e,e,Td),n=t++,t)),n)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}return ie(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=o(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,e.prev=1,null!==(n=this._worker)&&void 0!==n&&n.port&&(this._worker._pendingDestroy=!0),e.next=5,null===(r=this._transport)||void 0===r?void 0:r.destroy();case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,e.t0;case 11:this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null;case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Td={writable:!0,value:0},Pd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ne(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}return ie(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=De(this._rangeListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e,t)}}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=De(n._progressListeners);try{for(i.s();!(r=i.n()).done;){(0,r.value)(e,t)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=De(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e)}}catch(i){r.e(i)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=De(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){Sr("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}(),Rd=function(){function e(t,n){ne(this,e),this._pdfInfo=t,this._transport=n}return ie(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"canvasFactory",get:function(){return this._transport.canvasFactory}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return Tr(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?"display":t,r=this._transport.getRenderingIntent(n),i=r.renderingIntent;return this._transport.getOptionalContentConfig(i)}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"saveDocument",value:function(){return this._transport.saveDocument()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"cachedPageNumber",value:function(e){return this._transport.cachedPageNumber(e)}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}(),Ld=new WeakMap,Nd=new WeakMap,Id=new WeakSet,Dd=new WeakSet,Od=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ne(this,e),on(this,Dd),on(this,Id),ln(this,Ld,{writable:!0,value:null}),ln(this,Nd,{writable:!0,value:!1}),this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new li:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new of,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}return ie(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,s=e.offsetY,o=void 0===s?0:s,l=e.dontFlip,u=void 0!==l&&l;return new ni({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:r,offsetX:a,offsetY:o,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?"display":t,r=this._transport.getRenderingIntent(n),i=r.renderingIntent;return this._transport.getAnnotations(this._pageIndex,i)}},{key:"getJSActions",value:function(){return this._transport.getPageJSActions(this._pageIndex)}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"isPureXfa",get:function(){return Tr(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"getXfa",value:function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(e){var t,n,r=this,i=e.canvasContext,a=e.viewport,s=e.intent,o=void 0===s?"display":s,l=e.annotationMode,u=void 0===l?Fn.ENABLE:l,c=e.transform,h=void 0===c?null:c,f=e.background,v=void 0===f?null:f,p=e.optionalContentConfigPromise,g=void 0===p?null:p,m=e.annotationCanvasMap,y=void 0===m?null:m,b=e.pageColors,w=void 0===b?null:b,k=e.printAnnotationStorage,x=void 0===k?null:k,_=e.isEditing,A=void 0!==_&&_;null===(t=this._stats)||void 0===t||t.time("Overall");var S=this._transport.getRenderingIntent(o,u,x,A),E=S.renderingIntent,C=S.cacheKey;fn(this,Nd,!1),un(this,Dd,Wd).call(this),g||(g=this._transport.getOptionalContentConfig(E));var M=this._intentStates.get(C);M||(M=Object.create(null),this._intentStates.set(C,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);var T,P=!!(E&Rn);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(T=this._stats)||void 0===T||T.time("Page Request"),this._pumpOperatorList(S));var R=function(e){var t;(M.renderTasks.delete(L),(r._maybeCleanupAfterRender||P)&&fn(r,Nd,!0),un(r,Id,Fd).call(r,!P),e?(L.capability.reject(e),r._abortOperatorList({intentState:M,reason:e instanceof Error?e:new Error(e)})):L.capability.resolve(),r._stats)&&(r._stats.timeEnd("Rendering"),r._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(r.pageNumber,r._stats))},L=new df({callback:R,params:{canvasContext:i,viewport:a,transform:h,background:v},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:y,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:w});((n=M).renderTasks||(n.renderTasks=new Set)).add(L);var N=L.task;return Promise.all([M.displayReadyCapability.promise,g]).then((function(e){var t,n=d(e,2),i=n[0],a=n[1];if(r.destroyed)R();else{if(null===(t=r._stats)||void 0===t||t.time("Rendering"),!(a.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:i,optionalContentConfig:a}),L.operatorListChanged()}})).catch(R),N}},{key:"getOperatorList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?"display":t,r=e.annotationMode,i=void 0===r?Fn.ENABLE:r,a=e.printAnnotationStorage,s=void 0===a?null:a,o=e.isEditing,l=void 0!==o&&o;function u(){v.operatorList.lastChunk&&(v.opListReadCapability.resolve(v.operatorList),v.renderTasks.delete(c))}var c,h,d,f=this._transport.getRenderingIntent(n,i,s,l,!0),v=this._intentStates.get(f.cacheKey);(v||(v=Object.create(null),this._intentStates.set(f.cacheKey,v)),v.opListReadCapability)||((c=Object.create(null)).operatorListChanged=u,v.opListReadCapability=Promise.withResolvers(),((h=v).renderTasks||(h.renderTasks=new Set)).add(c),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(d=this._stats)||void 0===d||d.time("Page Request"),this._pumpOperatorList(f));return v.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeMarkedContent,n=void 0!==t&&t,r=e.disableNormalization,i=void 0!==r&&r,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===n,disableNormalization:!0===i},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(e){return bd.textContent(e)}));var t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){var r,a,s=n.value;n.done?e(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=s.lang),Object.assign(i.styles,s.styles),(a=i.items).push.apply(a,et(s.items)),t())}),n)}()}))}},{key:"getStructTree",value:function(){return this._transport.getStructTree(this._pageIndex)}},{key:"_destroy",value:function(){this.destroyed=!0;var e,t=[],n=De(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,a=De(r.renderTasks);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.push(s.completed),s.cancel()}}catch(o){a.e(o)}finally{a.f()}}}}catch(o){n.e(o)}finally{n.f()}return this.objs.clear(),fn(this,Nd,!1),un(this,Dd,Wd).call(this),Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fn(this,Nd,!0);var t=un(this,Id,Fd).call(this,!1);return e&&t&&this._stats&&(this._stats=new li),t}},{key:"_startRenderPage",value:function(e,t){var n,r,i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;var i,a=De(t.renderTasks);try{for(a.s();!(i=a.n()).done;){i.value.operatorListChanged()}}catch(s){a.e(s)}finally{a.f()}e.lastChunk&&un(this,Id,Fd).call(this,!0)}},{key:"_pumpOperatorList",value:function(e){var t=this,n=e.renderingIntent,r=e.cacheKey,i=e.annotationStorageSerializable,a=e.modifiedIds,s=i.map,o=i.transfer,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:s,modifiedIds:a},o).getReader(),u=this._intentStates.get(r);u.streamReader=l;!function e(){l.read().then((function(n){var r=n.value;n.done?u.streamReader=null:t._transport.destroyed||(t._renderPageChunk(r,u),e())}),(function(e){if(u.streamReader=null,!t._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;var n,r=De(u.renderTasks);try{for(r.s();!(n=r.n()).done;){n.value.operatorListChanged()}}catch(i){r.e(i)}finally{r.f()}un(t,Id,Fd).call(t,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(e);else{if(!u.opListReadCapability)throw e;u.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,a=void 0!==i&&i;if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!a){if(n.renderTasks.size>0)return;if(r instanceof ri){var s=100;return r.extraDelay>0&&r.extraDelay<1e3&&(s+=r.extraDelay),void(n.streamReaderCancelTimeout=setTimeout((function(){n.streamReaderCancelTimeout=null,t._abortOperatorList({intentState:n,reason:r,force:!0})}),s))}}if(n.streamReader.cancel(new Fr(r.message)).catch((function(){})),n.streamReader=null,!this._transport.destroyed){var o,l=De(this._intentStates);try{for(l.s();!(o=l.n()).done;){var u=d(o.value,2),c=u[0];if(u[1]===n){this._intentStates.delete(c);break}}}catch(h){l.e(h)}finally{l.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();function Fd(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(un(this,Dd,Wd).call(this),!hn(this,Nd)||this.destroyed)return!1;if(t)return fn(this,Ld,setTimeout((function(){fn(e,Ld,null),un(e,Id,Fd).call(e,!1)}),5e3)),!1;var n,r=De(this._intentStates.values());try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.renderTasks,s=i.operatorList;if(a.size>0||!s.lastChunk)return!1}}catch(o){r.e(o)}finally{r.f()}return this._intentStates.clear(),this.objs.clear(),fn(this,Nd,!1),!0}function Wd(){hn(this,Ld)&&(clearTimeout(hn(this,Ld)),fn(this,Ld,null))}var jd=new WeakMap,zd=new WeakMap,Bd=function(){function e(){ne(this,e),ln(this,jd,{writable:!0,value:new Map}),ln(this,zd,{writable:!0,value:Promise.resolve()})}return ie(e,[{key:"postMessage",value:function(e,t){var n=this,r={data:structuredClone(e,t?{transfer:t}:null)};hn(this,zd).then((function(){var e,t=De(hn(n,jd));try{for(t.s();!(e=t.n()).done;){d(e.value,1)[0].call(n,r)}}catch(i){t.e(i)}finally{t.f()}}))}},{key:"addEventListener",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===r||void 0===r?void 0:r.signal)instanceof AbortSignal){var a=r.signal;if(a.aborted)return void Ar("LoopbackPort - cannot use an `aborted` signal.");var s=function(){return n.removeEventListener(e,t)};i=function(){return a.removeEventListener("abort",s)},a.addEventListener("abort",s)}hn(this,jd).set(t,i)}},{key:"removeEventListener",value:function(e,t){var n=hn(this,jd).get(t);null===n||void 0===n||n(),hn(this,jd).delete(t)}},{key:"terminate",value:function(){var e,t=De(hn(this,jd));try{for(t.s();!(e=t.n()).done;){var n=d(e.value,2)[1];null===n||void 0===n||n()}}catch(r){t.e(r)}finally{t.f()}hn(this,jd).clear()}}]),e}(),Ud=new WeakSet,Hd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,a=void 0===i?null:i,s=t.verbosity,o=void 0===s?xr():s;if(ne(this,e),on(this,Ud),this.name=r,this.destroyed=!1,this.verbosity=o,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,a){var l;if(null!==(l=mn(e,e,Yd))&&void 0!==l&&l.has(a))throw new Error("Cannot use more than one PDFWorker per port.");return(mn(e,e,Yd)||gn(e,e,Yd,new WeakMap)).set(a,this),void this._initializeFromPort(a)}this._initialize()}return ie(e,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new mu("main","worker",e),this._messageHandler.on("ready",(function(){})),un(this,Ud,Vd).call(this)}},{key:"_initialize",value:function(){var t=this;if(mn(e,e,Xd)||mn(e,e,Gd))this._setupFakeWorker();else{var n=e.workerSrc;try{e._isSameOrigin(window.location.href,n)||(n=e._createCDNWrapper(new URL(n,window.location).href));var r=new Worker(n,{type:"module"}),i=new mu("main","worker",r),a=function(){s.abort(),i.destroy(),r.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},s=new AbortController;r.addEventListener("error",(function(){t._webWorker||a()}),{signal:s.signal}),i.on("test",(function(e){s.abort(),!t.destroyed&&e?(t._messageHandler=i,t._port=r,t._webWorker=r,un(t,Ud,Vd).call(t)):a()})),i.on("ready",(function(e){if(s.abort(),t.destroyed)a();else try{o()}catch(n){t._setupFakeWorker()}}));var o=function(){var e=new Uint8Array;i.send("test",e,[e.buffer])};return void o()}catch(l){_r("The worker has been disabled.")}this._setupFakeWorker()}}},{key:"_setupFakeWorker",value:function(){var t=this;mn(e,e,Xd)||(Ar("Setting up fake worker."),gn(e,e,Xd,!0)),e._setupFakeWorkerGlobal.then((function(n){var r,i;if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var a=new Bd;t._port=a;var s="fake".concat((gn(e,e,qd,(r=mn(e,e,qd),i=r++,r)),i)),o=new mu(s+"_worker",s,a);n.setup(o,a),t._messageHandler=new mu(s,s+"_worker",a),un(t,Ud,Vd).call(t)}})).catch((function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}},{key:"destroy",value:function(){var t,n,r;this.destroyed=!0,null===(t=this._webWorker)||void 0===t||t.terminate(),this._webWorker=null,null===(n=mn(e,e,Yd))||void 0===n||n.delete(this._port),this._port=null,null===(r=this._messageHandler)||void 0===r||r.destroy(),this._messageHandler=null}}],[{key:"fromPort",value:function(t){var n;if(null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var r=null===(n=mn(this,e,Yd))||void 0===n?void 0:n.get(t.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new e(t)}},{key:"workerSrc",get:function(){if($c.workerSrc)return $c.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_setupFakeWorkerGlobal",get:function(){var t=this,n=function(){var n=o(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mn(t,e,Gd)){n.next=2;break}return n.abrupt("return",mn(t,e,Gd));case 2:return n.next=4,import(t.workerSrc);case 4:return r=n.sent,n.abrupt("return",r.WorkerMessageHandler);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Tr(this,"_setupFakeWorkerGlobal",n())}}]),e}();function Vd(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}var Gd={get:function(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}},set:void 0},qd={writable:!0,value:0},Xd={writable:!0,value:!1},Yd={writable:!0,value:void 0};Sn&&(gn(Hd,Hd,Xd,!0),$c.workerSrc||($c.workerSrc="./pdf.worker.mjs")),Hd._isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},Hd._createCDNWrapper=function(e){var t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var Kd=new WeakMap,Qd=new WeakMap,$d=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,ef=new WeakSet,tf=function(){function e(t,n,r,i,a){ne(this,e),on(this,ef),ln(this,Kd,{writable:!0,value:new Map}),ln(this,Qd,{writable:!0,value:new Map}),ln(this,$d,{writable:!0,value:new Map}),ln(this,Jd,{writable:!0,value:new Map}),ln(this,Zd,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new of,this.fontLoader=new Jl({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}return ie(e,[{key:"annotationStorage",get:function(){return Tr(this,"annotationStorage",new Xl)}},{key:"getRenderingIntent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Pn,s=Ul;switch(e){case"any":a=Tn;break;case"display":break;case"print":a=Rn;break;default:Ar("getRenderingIntent - invalid intent: ".concat(e))}var o=a&Rn&&n instanceof Ql?n:this.annotationStorage;switch(t){case Fn.DISABLE:a+=In;break;case Fn.ENABLE:break;case Fn.ENABLE_FORMS:a+=Ln;break;case Fn.ENABLE_STORAGE:a+=Nn,s=o.serializable;break;default:Ar("getRenderingIntent - invalid annotationMode: ".concat(t))}r&&(a+=Dn),i&&(a+=On);var l=o.modifiedIds,u=l.ids,c=l.hash,h=[a,s.hash,c];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:u}}},{key:"destroy",value:function(){var e,t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=hn(this,Zd))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));var n,r=[],i=De(hn(this,Qd).values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(a._destroy())}}catch(o){i.e(o)}finally{i.f()}hn(this,Qd).clear(),hn(this,$d).clear(),hn(this,Jd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var s=this.messageHandler.sendWithPromise("Terminate",null);return r.push(s),Promise.all(r).then((function(){var e,n;t.commonObjs.clear(),t.fontLoader.clear(),hn(t,Kd).clear(),t.filterFactory.destroy(),sd.cleanup(),null===(e=t._networkStream)||void 0===e||e.cancelAllRequests(new Fr("Worker was terminated.")),null===(n=t.messageHandler)||void 0===n||n.destroy(),t.messageHandler=null,t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){Er(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():(Er(t instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",function(){var t=o(a().mark((function t(r){var i,s,o,l,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fullReader.headersReady;case 2:return i=e._fullReader,s=i.isStreamingSupported,o=i.isRangeSupported,l=i.contentLength,s&&o||(e._lastProgress&&(null===(u=n.onProgress)||void 0===u||u.call(n,e._lastProgress)),e._fullReader.onProgress=function(e){var t;null===(t=n.onProgress)||void 0===t||t.call(n,{loaded:e.loaded,total:e.total})}),t.abrupt("return",{isStreamingSupported:s,isRangeSupported:o,contentLength:l});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.on("GetRangeReader",(function(t,n){Er(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():(Er(t instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){r.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,e._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Rd(r,e))})),t.on("DocException",(function(e){n._capability.reject(hu(e))})),t.on("PasswordRequest",(function(t){fn(e,Zd,Promise.withResolvers());try{if(!n.onPassword)throw hu(t);n.onPassword((function(t){t instanceof Error?hn(e,Zd).reject(t):hn(e,Zd).resolve({password:t})}),t.code)}catch(r){hn(e,Zd).reject(r)}return hn(e,Zd).promise})),t.on("DataLoaded",(function(t){var r;null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||hn(e,Qd).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(function(n){var r,i=d(n,3),a=i[0],s=i[1],o=i[2];if(e.destroyed)return null;if(e.commonObjs.has(a))return null;switch(s){case"Font":var l=e._params,u=l.disableFontFace,c=l.fontExtraProperties,h=l.pdfBug;if("error"in o){var f=o.error;Ar("Error during font loading: ".concat(f)),e.commonObjs.resolve(a,f);break}var v=h&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled?function(e,t){return globalThis.FontInspector.fontAdded(e,t)}:null,p=new Zl(o,{disableFontFace:u,fontExtraProperties:c,inspectFont:v});e.fontLoader.bind(p).catch((function(){return t.sendWithPromise("FontFallback",{id:a})})).finally((function(){!c&&p.data&&(p.data=null),e.commonObjs.resolve(a,p)}));break;case"CopyLocalImage":var g=o.imageRef;Er(g,"The imageRef must be defined.");var m,y=De(hn(e,Qd).values());try{for(y.s();!(m=y.n()).done;){var b,w=De(m.value.objs);try{for(w.s();!(b=w.n()).done;){var k=d(b.value,2)[1];if((null===k||void 0===k?void 0:k.ref)===g)return k.dataLen?(e.commonObjs.resolve(a,structuredClone(k)),k.dataLen):null}}catch(x){w.e(x)}finally{w.f()}}}catch(x){y.e(x)}finally{y.f()}break;case"FontPath":case"Image":case"Pattern":e.commonObjs.resolve(a,o);break;default:throw new Error("Got unknown common object type ".concat(s))}return null})),t.on("obj",(function(t){var n=d(t,4),r=n[0],i=n[1],a=n[2],s=n[3];if(!e.destroyed){var o,l=hn(e,Qd).get(i);if(!l.objs.has(r))if(0!==l._intentStates.size)switch(a){case"Image":l.objs.resolve(r,s),(null===s||void 0===s?void 0:s.dataLen)>1e7&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,s);break;default:throw new Error("Got unknown object type ".concat(a))}else null===s||void 0===s||null===(o=s.bitmap)||void 0===o||o.close()}})),t.on("DocProgress",(function(t){var r;e.destroyed||null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",function(){var t=o(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.destroyed){t.next=2;break}throw new Error("Worker was destroyed.");case 2:if(e.cMapReaderFactory){t.next=4;break}throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");case 4:return t.abrupt("return",e.cMapReaderFactory.fetch(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.on("FetchStandardFontData",function(){var t=o(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.destroyed){t.next=2;break}throw new Error("Worker was destroyed.");case 2:if(e.standardFontDataFactory){t.next=4;break}throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");case 4:return t.abrupt("return",e.standardFontDataFactory.fetch(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"saveDocument",value:function(){var e,t,n=this;this.annotationStorage.size<=0&&Ar("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var r=this.annotationStorage.serializable,i=r.map,a=r.transfer;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},a).finally((function(){n.annotationStorage.resetModified()}))}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));var n=e-1,r=hn(this,$d).get(n);if(r)return r;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(r){if(t.destroyed)throw new Error("Transport destroyed");r.refStr&&hn(t,Jd).set(r.refStr,e);var i=new Od(n,r,t,t._params.pdfBug);return hn(t,Qd).set(n,i),i}));return hn(this,$d).set(n,i),i}},{key:"getPageIndex",value:function(e){return Cd(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getFieldObjects",value:function(){return un(this,ef,nf).call(this,"GetFieldObjects")}},{key:"hasJSActions",value:function(){return un(this,ef,nf).call(this,"HasJSActions")}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getDocJSActions",value:function(){return un(this,ef,nf).call(this,"GetDocJSActions")}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(e){return un(this,ef,nf).call(this,"GetOptionalContentConfig").then((function(t){return new vh(t,e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this,t="GetMetadata",n=hn(this,Kd).get(t);if(n)return n;var r=this.messageHandler.sendWithPromise(t,null).then((function(t){var n,r,i,a;return{info:t[0],metadata:t[1]?new nh(t[1]):null,contentDispositionFilename:null!==(n=null===(r=e._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(a=e._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}}));return hn(this,Kd).set(t,r),r}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=o(a().mark((function e(){var t,n,r,i,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],!this.destroyed){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.messageHandler.sendWithPromise("Cleanup",null);case 5:n=De(hn(this,Qd).values()),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=15;break}if(i=r.value,i.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:this.commonObjs.clear(),t||this.fontLoader.clear(),hn(this,Kd).clear(),this.filterFactory.destroy(!0),sd.cleanup();case 28:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"cachedPageNumber",value:function(e){var t;if(!Cd(e))return null;var n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=hn(this,Jd).get(n))&&void 0!==t?t:null}}]),e}();function nf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=hn(this,Kd).get(e);if(n)return n;var r=this.messageHandler.sendWithPromise(e,t);return hn(this,Kd).set(e,r),r}var rf=Symbol("INITIAL_DATA"),af=new WeakMap,sf=new WeakSet;$t=Symbol.iterator;var of=function(){function e(){ne(this,e),on(this,sf),ln(this,af,{writable:!0,value:Object.create(null)})}return ie(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var n=un(this,sf,lf).call(this,e);return n.promise.then((function(){return t(n.data)})),null}var r=hn(this,af)[e];if(!r||r.data===rf)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=hn(this,af)[e];return!!t&&t.data!==rf}},{key:"delete",value:function(e){var t=hn(this,af)[e];return!(!t||t.data===rf)&&(delete hn(this,af)[e],!0)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=un(this,sf,lf).call(this,e);n.data=t,n.resolve()}},{key:"clear",value:function(){for(var e in hn(this,af)){var t,n=hn(this,af)[e].data;null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}fn(this,af,Object.create(null))}},{key:$t,value:a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a().keys(hn(this,af));case 1:if((e.t1=e.t0()).done){e.next=10;break}if(t=e.t1.value,(n=hn(this,af)[t].data)!==rf){e.next=6;break}return e.abrupt("continue",1);case 6:return e.next=8,[t,n];case 8:e.next=1;break;case 10:case"end":return e.stop()}}),e,this)}))}]),e}();function lf(e){var t;return(t=hn(this,af))[e]||(t[e]=Ae(Ae({},Promise.withResolvers()),{},{data:rf}))}var uf=new WeakMap,cf=function(){function e(t){ne(this,e),ln(this,uf,{writable:!0,value:null}),fn(this,uf,t),this.onContinue=null}return ie(e,[{key:"promise",get:function(){return hn(this,uf).capability.promise}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;hn(this,uf).cancel(null,e)}},{key:"separateAnnots",get:function(){var e=hn(this,uf).operatorList.separateAnnots;if(!e)return!1;var t=hn(this,uf).annotationCanvasMap;return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}]),e}(),hf=new WeakMap,df=function(){function e(t){var n=t.callback,r=t.params,i=t.objs,a=t.commonObjs,s=t.annotationCanvasMap,o=t.operatorList,l=t.pageIndex,u=t.canvasFactory,c=t.filterFactory,h=t.useRequestAnimationFrame,d=void 0!==h&&h,f=t.pdfBug,v=void 0!==f&&f,p=t.pageColors,g=void 0===p?null:p;ne(this,e),ln(this,hf,{writable:!0,value:null}),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=v,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cf(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return ie(e,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var n,r,i=t.transparency,a=void 0!==i&&i,s=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(mn(e,e,ff).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");mn(e,e,ff).add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,l=o.canvasContext,u=o.viewport,c=o.transform,h=o.background;this.gfx=new qc(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:c,viewport:u,transparency:a,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,null===(r=this.graphicsReadyCallback)||void 0===r||r.call(this)}}},{key:"cancel",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),hn(this,hf)&&(window.cancelAnimationFrame(hn(this,hf)),fn(this,hf,null)),mn(e,e,ff).delete(this._canvas),this.callback(n||new ri("Rendering cancelled, page ".concat(this._pageIndex+1),r))}},{key:"operatorListChanged",value:function(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?fn(this,hf,window.requestAnimationFrame((function(){fn(e,hf,null),e._nextBound().catch(e._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),mn(e,e,ff).delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),e}(),ff={writable:!0,value:new WeakSet},vf="4.10.38",pf="f9bea397f";function gf(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function mf(e){return Math.max(0,Math.min(255,255*e))}var yf=function(){function e(){ne(this,e)}return ie(e,null,[{key:"CMYK_G",value:function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return["G",1-Math.min(1,.3*n+.59*i+.11*r+a)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-d(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=d(e,1)[0];return["RGB",t,t,t]}},{key:"G_rgb",value:function(e){var t=d(e,1)[0];return[t=mf(t),t,t]}},{key:"G_HTML",value:function(e){var t=gf(d(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=d(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_rgb",value:function(e){return e.map(mf)}},{key:"RGB_HTML",value:function(e){return"#".concat(e.map(gf).join(""))}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"T_rgb",value:function(){return[null]}},{key:"CMYK_RGB",value:function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return["RGB",1-Math.min(1,n+a),1-Math.min(1,i+a),1-Math.min(1,r+a)]}},{key:"CMYK_rgb",value:function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return[mf(1-Math.min(1,n+a)),mf(1-Math.min(1,i+a)),mf(1-Math.min(1,r+a))]}},{key:"CMYK_HTML",value:function(e){var t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}},{key:"RGB_CMYK",value:function(e){var t=d(e,3),n=1-t[0],r=1-t[1],i=1-t[2];return["CMYK",n,r,i,Math.min(n,r,i)]}}]),e}(),bf=function(){function e(){ne(this,e)}return ie(e,[{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}},{key:"createElement",value:function(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){Sr("Abstract method `_createSVG` called.")}}]),e}(),wf=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"_createSVG",value:function(e){return document.createElementNS(Jr,e)}}]),n}(bf),kf=function(){function e(){ne(this,e)}return ie(e,null,[{key:"setupStorage",value:function(e,t,n,r,i){var a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(function(e){r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(function(e){r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(function(e){r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);var s,o=De(n.children);try{for(o.s();!(s=o.n()).done;){var l=s.value;l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}}catch(u){o.e(u)}finally{o.f()}}e.addEventListener("input",(function(e){var n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}},{key:"setAttributes",value:function(e){var t=e.html,n=e.element,r=e.storage,i=void 0===r?null:r,a=e.intent,s=e.linkService,o=n.attributes,l=t instanceof HTMLAnchorElement;"radio"===o.type&&(o.name="".concat(o.name,"-").concat(a));for(var u=0,c=Object.entries(o);u<c.length;u++){var h=d(c[u],2),f=h[0],v=h[1];if(null!==v&&void 0!==v)switch(f){case"class":v.length&&t.setAttribute(f,v.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",v);break;case"style":Object.assign(t.style,v);break;case"textContent":t.textContent=v;break;default:(!l||"href"!==f&&"newWindow"!==f)&&t.setAttribute(f,v)}}l&&s.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,n,i)}},{key:"render",value:function(e){var t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:n});var s="richText"!==i,o=e.div;if(o.append(a),e.viewport){var l="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=l}s&&o.setAttribute("class","xfaLayer xfaFont");var u=[];if(0===r.children.length){if(r.value){var c=document.createTextNode(r.value);a.append(c),s&&bd.shouldBuildText(r.name)&&u.push(c)}return{textDivs:u}}for(var h=[[r,-1,a]];h.length>0;){var f,v,p=d(h.at(-1),3),g=p[0],m=p[1],y=p[2];if(m+1!==g.children.length){var b=g.children[++h.at(-1)[1]];if(null!==b){var w=b.name;if("#text"!==w){var k=null!==b&&void 0!==b&&null!==(f=b.attributes)&&void 0!==f&&f.xmlns?document.createElementNS(b.attributes.xmlns,w):document.createElement(w);if(y.append(k),b.attributes&&this.setAttributes({html:k,element:b,storage:t,intent:i,linkService:n}),(null===(v=b.children)||void 0===v?void 0:v.length)>0)h.push([b,-1,k]);else if(b.value){var x=document.createTextNode(b.value);s&&bd.shouldBuildText(w)&&u.push(x),k.append(x)}}else{var _=document.createTextNode(b.value);u.push(_),y.append(_)}}}else h.pop()}var A,S=De(o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(S.s();!(A=S.n()).done;){A.value.setAttribute("readOnly",!0)}}catch(E){S.e(E)}finally{S.f()}return{textDivs:u}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}(),xf=1e3,_f=new WeakSet;function Af(e){return{width:e[2]-e[0],height:e[3]-e[1]}}var Sf=function(){function e(){ne(this,e)}return ie(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case Kn:return new Df(e);case Yn:return new jf(e);case hr:switch(e.data.fieldType){case"Tx":return new Bf(e);case"Btn":return e.data.radioButton?new Vf(e):e.data.checkBox?new Hf(e):new Gf(e);case"Ch":return new qf(e);case"Sig":return new Uf(e)}return new zf(e);case ur:return new Xf(e);case Qn:return new Lv(e);case $n:return new Iv(e);case Jn:return new Ov(e);case Zn:return new Wv(e);case tr:return new zv(e);case or:return new Uv(e);case lr:return new qv(e);case er:return new Bv(e);case nr:return new Yv(e);case rr:return new Kv(e);case ir:return new Qv(e);case ar:return new $v(e);case sr:return new Jv(e);case cr:return new tp(e);default:return new Pf(e)}}}]),e}(),Ef=new WeakMap,Cf=new WeakMap,Mf=new WeakMap,Tf=new WeakSet,Pf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,a=n.ignoreBorder,s=void 0!==a&&a,o=n.createQuadrilaterals,l=void 0!==o&&o;ne(this,e),on(this,Tf),ln(this,Ef,{writable:!0,value:null}),ln(this,Cf,{writable:!0,value:!1}),ln(this,Mf,{writable:!0,value:null}),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,i&&(this.container=this._createContainer(s)),l&&this._createQuadrilaterals()}return ie(e,[{key:"_isEditable",get:function(){return this.data.isEditable}},{key:"hasPopupData",get:function(){return e._hasPopupData(this.data)}},{key:"updateEdited",value:function(e){var t;if(this.container){hn(this,Ef)||fn(this,Ef,{rect:this.data.rect.slice(0)});var n=e.rect;n&&un(this,Tf,Rf).call(this,n),null===(t=hn(this,Mf))||void 0===t||t.popup.updateEdited(e)}}},{key:"resetEdited",value:function(){var e;hn(this,Ef)&&(un(this,Tf,Rf).call(this,hn(this,Ef).rect),null===(e=hn(this,Mf))||void 0===e||e.popup.resetEdited(),fn(this,Ef,null))}},{key:"_createContainer",value:function(e){var t=this.data,n=this.parent,r=n.page,i=n.viewport,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof zf||(a.tabIndex=xf);var s=a.style;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Xf){var o=t.rotation;return t.hasOwnCanvas||0===o||this.setRotation(o,a),a}var l=Af(t.rect),u=l.width,c=l.height;if(!e&&t.borderStyle.width>0){s.borderWidth="".concat(t.borderStyle.width,"px");var h=t.borderStyle.horizontalCornerRadius,d=t.borderStyle.verticalCornerRadius;if(h>0||d>0){var f="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(d,"px * var(--scale-factor))");s.borderRadius=f}else if(this instanceof Vf){var v="calc(".concat(u,"px * var(--scale-factor)) / calc(").concat(c,"px * var(--scale-factor))");s.borderRadius=v}switch(t.borderStyle.style){case dr:s.borderStyle="solid";break;case fr:s.borderStyle="dashed";break;case vr:Ar("Unimplemented border style: beveled");break;case pr:Ar("Unimplemented border style: inset");break;case gr:s.borderBottomStyle="solid"}var p=t.borderColor||null;p?(fn(this,Cf,!0),s.borderColor=Hr.makeHexColor(0|p[0],0|p[1],0|p[2])):s.borderWidth=0}var g=Hr.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),m=i.rawDims,y=m.pageWidth,b=m.pageHeight,w=m.pageX,k=m.pageY;s.left="".concat(100*(g[0]-w)/y,"%"),s.top="".concat(100*(g[1]-k)/b,"%");var x=t.rotation;return t.hasOwnCanvas||0===x?(s.width="".concat(100*u/y,"%"),s.height="".concat(100*c/b,"%")):this.setRotation(x,a),a}},{key:"setRotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(this.data.rect){var n,r,i=this.parent.viewport.rawDims,a=i.pageWidth,s=i.pageHeight,o=Af(this.data.rect),l=o.width,u=o.height;e%180===0?(n=100*l/a,r=100*u/s):(n=100*u/a,r=100*l/s),t.style.width="".concat(n,"%"),t.style.height="".concat(r,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}}},{key:"_commonActions",get:function(){var e=this,t=function(t,n,r){var i=r.detail[t],a=i[0],s=i.slice(1);r.target.style[n]=yf["".concat(a,"_HTML")](s),e.annotationStorage.setValue(e.data.id,xe({},n,yf["".concat(a,"_rgb")](s)))};return Tr(this,"_commonActions",{display:function(t){var n=t.detail.display,r=n%2===1;e.container.style.visibility=r?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{noView:r,noPrint:1===n||2===n})},print:function(t){e.annotationStorage.setValue(e.data.id,{noPrint:!t.detail.print})},hidden:function(t){var n=t.detail.hidden;e.container.style.visibility=n?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{noPrint:n,noView:n})},focus:function(e){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.target.disabled=e.detail.readonly},required:function(t){e._setRequired(t.target,t.detail.required)},bgColor:function(e){t("bgColor","backgroundColor",e)},fillColor:function(e){t("fillColor","backgroundColor",e)},fgColor:function(e){t("fgColor","color",e)},textColor:function(e){t("textColor","color",e)},borderColor:function(e){t("borderColor","borderColor",e)},strokeColor:function(e){t("strokeColor","borderColor",e)},rotation:function(t){var n=t.detail.rotation;e.setRotation(n),e.annotationStorage.setValue(e.data.id,{rotation:n})}})}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var n=this._commonActions,r=0,i=Object.keys(t.detail);r<i.length;r++){var a=i[r],s=e[a]||n[a];null===s||void 0===s||s(t)}}},{key:"_setDefaultPropertiesFromJS",value:function(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t)for(var n=this._commonActions,r=0,i=Object.entries(t);r<i.length;r++){var a=d(i[r],2),s=a[0],o=a[1],l=n[s];if(l)l({detail:xe({},s,o),target:e}),delete t[s]}}}},{key:"_createQuadrilaterals",value:function(){if(this.container){var e=this.data.quadPoints;if(e){var t=this.data.rect.map((function(e){return Math.fround(e)})),n=d(t,4),r=n[0],i=n[1],a=n[2],s=n[3];if(8===e.length){var o=d(e.subarray(2,6),4),l=o[0],u=o[1],c=o[2],h=o[3];if(a===l&&s===u&&r===c&&i===h)return}var f,v=this.container.style;if(hn(this,Cf)){var p=v.borderColor,g=v.borderWidth;v.borderWidth=0,f=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(p,'" stroke-width="').concat(g,'">')],this.container.classList.add("hasBorder")}var m=a-r,y=s-i,b=this.svgFactory,w=b.createElement("svg");w.classList.add("quadrilateralsContainer"),w.setAttribute("width",0),w.setAttribute("height",0);var k=b.createElement("defs");w.append(k);var x=b.createElement("clipPath"),_="clippath_".concat(this.data.id);x.setAttribute("id",_),x.setAttribute("clipPathUnits","objectBoundingBox"),k.append(x);for(var A=2,S=e.length;A<S;A+=8){var E,C=e[A],M=e[A+1],T=e[A+2],P=e[A+3],R=b.createElement("rect"),L=(T-r)/m,N=(s-M)/y,I=(C-T)/m,D=(M-P)/y;R.setAttribute("x",L),R.setAttribute("y",N),R.setAttribute("width",I),R.setAttribute("height",D),x.append(R),null===(E=f)||void 0===E||E.push('<rect vector-effect="non-scaling-stroke" x="'.concat(L,'" y="').concat(N,'" width="').concat(I,'" height="').concat(D,'"/>'))}hn(this,Cf)&&(f.push("</g></svg>')"),v.backgroundImage=f.join("")),this.container.append(w),this.container.style.clipPath="url(#".concat(_,")")}}}},{key:"_createPopup",value:function(){var e=this.data,t=fn(this,Mf,new Xf({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}},{key:"render",value:function(){Sr("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var r=this._fieldObjects[e];if(r){var i,a=De(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=s.page,l=s.id,u=s.exportValues;if(-1!==o&&l!==t){var c="string"===typeof u?u:null,h=document.querySelector('[data-element-id="'.concat(l,'"]'));!h||_f.has(h)?n.push({id:l,exportValue:c,domElement:h}):Ar("_getElementsByName - element not allowed: ".concat(l))}}}catch(m){a.e(m)}finally{a.f()}}return n}var d,f=De(document.getElementsByName(e));try{for(f.s();!(d=f.n()).done;){var v=d.value,p=v.exportValue,g=v.getAttribute("data-element-id");g!==t&&(_f.has(v)&&n.push({id:g,exportValue:p,domElement:v}))}}catch(m){f.e(m)}finally{f.f()}return n}},{key:"show",value:function(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}},{key:"hide",value:function(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}},{key:"getElementsToTriggerPopup",value:function(){return this.container}},{key:"addHighlightArea",value:function(){var e=this.getElementsToTriggerPopup();if(Array.isArray(e)){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){t.value.classList.add("highlightArea")}}catch(r){n.e(r)}finally{n.f()}}else e.classList.add("highlightArea")}},{key:"_editOnDoubleClick",value:function(){var e=this;if(this._isEditable){var t=this.annotationEditorType,n=this.data.id;this.container.addEventListener("dblclick",(function(){var r;null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("switchannotationeditormode",{source:e,mode:t,editId:n})}))}}}],[{key:"_hasPopupData",value:function(e){var t=e.titleObj,n=e.contentsObj,r=e.richText;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}}]),e}();function Rf(e){var t=this.container.style,n=this.data,r=n.rect,i=n.rotation,a=this.parent.viewport.rawDims,s=a.pageWidth,o=a.pageHeight,l=a.pageX,u=a.pageY;null===r||void 0===r||r.splice.apply(r,[0,4].concat(et(e)));var c=Af(e),h=c.width,d=c.height;t.left="".concat(100*(e[0]-l)/s,"%"),t.top="".concat(100*(o-e[3]+u)/o,"%"),0===i?(t.width="".concat(100*h/s,"%"),t.height="".concat(100*d/o,"%")):this.setRotation(i)}var Lf=new WeakSet,Nf=new WeakSet,If=new WeakSet,Df=function(e){wn(n,e);var t=xn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ne(this,n),on(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!(null===i||void 0===i||!i.ignoreBorder),createQuadrilaterals:!0})),If),on(an(r),Nf),on(an(r),Lf),r.isTooltipOnly=e.data.isTooltipOnly,r}return ie(n,[{key:"render",value:function(){var e=this.data,t=this.linkService,n=document.createElement("a");n.setAttribute("data-element-id",e.id);var r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(un(this,Nf,Ff).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(un(this,If,Wf).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.goToDestination(t),!1},(t||""===t)&&un(this,Lf,Of).call(this)}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},un(this,Lf,Of).call(this)}},{key:"_bindJSAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=s[a],o=r.get(i);if(!o)return"continue";e[o]=function(){var e;return null===(e=n.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:n,detail:{id:t.id,name:i}}),!1}},a=0,s=Object.keys(t.actions);a<s.length;a++)i();e.onclick||(e.onclick=function(){return!1}),un(this,Lf,Of).call(this)}},{key:"_bindResetFormAction",value:function(e,t){var n=this,r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),un(this,Lf,Of).call(this),!this._fieldObjects)return Ar('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(e.onclick=function(){return!1}));e.onclick=function(){null===r||void 0===r||r();var e=t.fields,i=t.refs,a=t.include,s=[];if(0!==e.length||0!==i.length){var o,l=new Set(i),u=De(e);try{for(u.s();!(o=u.n()).done;){var c,h=o.value,d=De(n._fieldObjects[h]||[]);try{for(d.s();!(c=d.n()).done;){var f=c.value.id;l.add(f)}}catch(N){d.e(N)}finally{d.f()}}}catch(N){u.e(N)}finally{u.f()}for(var v=0,p=Object.values(n._fieldObjects);v<p.length;v++){var g,m=De(p[v]);try{for(m.s();!(g=m.n()).done;){var y=g.value;l.has(y.id)===a&&s.push(y)}}catch(N){m.e(N)}finally{m.f()}}}else for(var b=0,w=Object.values(n._fieldObjects);b<w.length;b++){var k=w[b];s.push.apply(s,et(k))}for(var x,_=n.annotationStorage,A=[],S=0,E=s;S<E.length;S++){var C=E[S],M=C.id;switch(A.push(M),C.type){case"text":var T=C.defaultValue||"";_.setValue(M,{value:T});break;case"checkbox":case"radiobutton":var P=C.defaultValue===C.exportValues;_.setValue(M,{value:P});break;case"combobox":case"listbox":var R=C.defaultValue||"";_.setValue(M,{value:R});break;default:continue}var L=document.querySelector('[data-element-id="'.concat(M,'"]'));L&&(_f.has(L)?L.dispatchEvent(new Event("resetform")):Ar("_bindResetFormAction - element not allowed: ".concat(M)))}n.enableScripting&&(null===(x=n.linkService.eventBus)||void 0===x||x.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:A,name:"ResetForm"}}));return!1}}}]),n}(Pf);function Of(){this.container.setAttribute("data-internal-link","")}function Ff(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=function(){var e;return null===(e=n.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,r),!1},un(this,Lf,Of).call(this)}function Wf(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeSetOCGState(t),!1},un(this,Lf,Of).call(this)}var jf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!0})}return ie(n,[{key:"render",value:function(){this.container.classList.add("textAnnotation");var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}]),n}(Pf),zf=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"render",value:function(){return this.container}},{key:"showElementAndHideCanvas",value:function(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}},{key:"_getKeyModifier",value:function(e){return Br.platform.isMac?e.metaKey:e.ctrlKey}},{key:"_setEventListener",value:function(e,t,n,r,i){var a=this;n.includes("mouse")?e.addEventListener(n,(function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:a._getKeyModifier(e)}})})):e.addEventListener(n,(function(e){var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(s=a.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:i(e)}}))}))}},{key:"_setEventListeners",value:function(e,t,n,r){var i,a=De(n);try{for(a.s();!(i=a.n()).done;){var s,o,l,u=d(i.value,2),c=u[0],h=u[1];if("Action"===h||null!==(s=this.data.actions)&&void 0!==s&&s[h])"Focus"!==h&&"Blur"!==h||t||(t={focused:!1}),this._setEventListener(e,t,c,h,r),"Focus"!==h||null!==(o=this.data.actions)&&void 0!==o&&o.Blur?"Blur"!==h||null!==(l=this.data.actions)&&void 0!==l&&l.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}catch(f){a.e(f)}finally{a.f()}}},{key:"_setBackgroundColor",value:function(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Hr.makeHexColor(t[0],t[1],t[2])}},{key:"_setTextStyle",value:function(e){var t,n=this.data.defaultAppearanceData.fontColor,r=this.data.defaultAppearanceData.fontSize||9,i=e.style,a=function(e){return Math.round(10*e)/10};if(this.data.multiLine){var s=Math.abs(this.data.rect[3]-this.data.rect[1]-2),o=s/(Math.round(s/(Mn*r))||1);t=Math.min(r,a(o/Mn))}else{var l=Math.abs(this.data.rect[3]-this.data.rect[1]-2);t=Math.min(r,a(l/Mn))}i.fontSize="calc(".concat(t,"px * var(--scale-factor))"),i.color=Hr.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}]),n}(Pf),Bf=function(e){wn(n,e);var t=xn(n);function n(e){ne(this,n);var r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,{isRenderable:r})}return ie(n,[{key:"setPropertyOnSiblings",value:function(e,t,n,r){var i,a=this.annotationStorage,s=De(this._getElementsByName(e.name,e.id));try{for(s.s();!(i=s.n()).done;){var o=i.value;o.domElement&&(o.domElement[t]=n),a.setValue(o.id,xe({},r,n))}}catch(l){s.e(l)}finally{s.f()}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");var r=null;if(this.renderForms){var i,a=t.getValue(n,{value:this.data.fieldValue}),s=a.value||"",o=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));var l=a.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));var u,c,h={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};if(this.data.multiLine)(r=document.createElement("textarea")).textContent=null!==(u=l)&&void 0!==u?u:s,this.data.doNotScroll&&(r.style.overflowY="hidden");else(r=document.createElement("input")).type="text",r.setAttribute("value",null!==(c=l)&&void 0!==c?c:s),this.data.doNotScroll&&(r.style.overflowX="hidden");this.data.hasOwnCanvas&&(r.hidden=!0),_f.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=xf,this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",(function(i){t.setValue(n,{value:i.target.value}),e.setPropertyOnSiblings(r,"value",i.target.value,"value"),h.formattedValue=null})),r.addEventListener("resetform",(function(t){var n,i=null!==(n=e.data.defaultFieldValue)&&void 0!==n?n:"";r.value=h.userValue=i,h.formattedValue=null}));var d=function(e){var t=h.formattedValue;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var f;r.addEventListener("focus",(function(t){var n;if(!h.focused){var r=t.target;h.userValue&&(r.value=h.userValue),h.lastCommittedValue=r.value,h.commitKey=1,null!==(n=e.data.actions)&&void 0!==n&&n.Focus||(h.focused=!0)}})),r.addEventListener("updatefromsandbox",(function(r){e.showElementAndHideCanvas(r.target);var i={value:function(e){var r;h.userValue=null!==(r=e.detail.value)&&void 0!==r?r:"",t.setValue(n,{value:h.userValue.toString()}),e.target.value=h.userValue},formattedValue:function(e){var r=e.detail.formattedValue;h.formattedValue=r,null!==r&&void 0!==r&&e.target!==document.activeElement&&(e.target.value=r),t.setValue(n,{formattedValue:r})},selRange:function(e){var t;(t=e.target).setSelectionRange.apply(t,et(e.detail.selRange))},charLimit:function(r){var i,a=r.detail.charLimit,s=r.target;if(0!==a){s.setAttribute("maxLength",a);var o=h.userValue;!o||o.length<=a||(o=o.slice(0,a),s.value=h.userValue=o,t.setValue(n,{value:o}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}else s.removeAttribute("maxLength")}};e._dispatchEventFromSandbox(i,r)})),r.addEventListener("keydown",(function(t){var r;h.commitKey=1;var i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||e.data.multiLine?"Tab"===t.key&&(h.commitKey=3):i=2,-1!==i){var a=t.target.value;h.lastCommittedValue!==a&&(h.lastCommittedValue=a,h.userValue=a,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}}));var v=d;d=null,r.addEventListener("blur",(function(t){var r;if(h.focused&&t.relatedTarget){null!==(r=e.data.actions)&&void 0!==r&&r.Blur||(h.focused=!1);var i,a=t.target.value;if(h.userValue=a,h.lastCommittedValue!==a)null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:a,willCommit:!0,commitKey:h.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}});v(t)}})),null!==(f=this.data.actions)&&void 0!==f&&f.Keystroke&&r.addEventListener("beforeinput",(function(t){var r;h.lastCommittedValue=null;var i=t.data,a=t.target,s=a.value,o=a.selectionStart,l=a.selectionEnd,u=o,c=l;switch(t.inputType){case"deleteWordBackward":var d=s.substring(0,o).match(/\w*[^\w]*$/);d&&(u-=d[0].length);break;case"deleteWordForward":var f=s.substring(o).match(/^[^\w]*\w*/);f&&(c+=f[0].length);break;case"deleteContentBackward":o===l&&(u-=1);break;case"deleteContentForward":o===l&&(c+=1)}t.preventDefault(),null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:u,selEnd:c}})})),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.value}))}if(d&&r.addEventListener("blur",d),this.data.comb){var p=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(p,"px * var(--scale-factor) - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}]),n}(zf),Uf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!!e.data.hasOwnCanvas})}return ie(n)}(zf),Hf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:e.renderForms})}return ie(n,[{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var a=document.createElement("input");return _f.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=xf,a.addEventListener("change",(function(i){var a,s=i.target,o=s.name,l=s.checked,u=De(e._getElementsByName(o,r));try{for(u.s();!(a=u.n()).done;){var c=a.value,h=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}}catch(d){u.e(d)}finally{u.f()}t.setValue(r,{value:l})})),a.addEventListener("resetform",(function(e){var t=n.defaultFieldValue||"Off";e.target.checked=t===n.exportValue})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(function(n){var i={value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(r,{value:e.target.checked})}};e._dispatchEventFromSandbox(i,n)})),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}]),n}(zf),Vf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:e.renderForms})}return ie(n,[{key:"render",value:function(){var e=this;this.container.classList.add("buttonWidgetAnnotation","radioButton");var t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if("string"===typeof i&&(i=i!==n.buttonValue,t.setValue(r,{value:i})),i){var a,s=De(this._getElementsByName(n.fieldName,r));try{for(s.s();!(a=s.n()).done;){var o=a.value;t.setValue(o.id,{value:!1})}}catch(c){s.e(c)}finally{s.f()}}var l=document.createElement("input");if(_f.add(l),l.setAttribute("data-element-id",r),l.disabled=n.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=n.fieldName,i&&l.setAttribute("checked",!0),l.tabIndex=xf,l.addEventListener("change",(function(n){var i,a=n.target,s=a.name,o=a.checked,l=De(e._getElementsByName(s,r));try{for(l.s();!(i=l.n()).done;){var u=i.value;t.setValue(u.id,{value:!1})}}catch(c){l.e(c)}finally{l.f()}t.setValue(r,{value:o})})),l.addEventListener("resetform",(function(e){var t=n.defaultFieldValue;e.target.checked=null!==t&&void 0!==t&&t===n.buttonValue})),this.enableScripting&&this.hasJSActions){var u=n.buttonValue;l.addEventListener("updatefromsandbox",(function(n){var i={value:function(n){var i,a=u===n.detail.value,s=De(e._getElementsByName(n.target.name));try{for(s.s();!(i=s.n()).done;){var o=i.value,l=a&&o.id===r;o.domElement&&(o.domElement.checked=l),t.setValue(o.id,{value:l})}}catch(c){s.e(c)}finally{s.f()}}};e._dispatchEventFromSandbox(i,n)})),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}]),n}(zf),Gf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{ignoreBorder:e.data.hasAppearance})}return ie(n,[{key:"render",value:function(){var e=this,t=rn(tn(n.prototype),"render",this).call(this);t.classList.add("buttonWidgetAnnotation","pushButton");var r=t.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",(function(t){e._dispatchEventFromSandbox({},t)}))),t}}]),n}(Df),qf=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:e.renderForms})}return ie(n,[{key:"render",value:function(){var e=this;this.container.classList.add("choiceWidgetAnnotation");var t=this.annotationStorage,n=this.data.id,r=t.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");_f.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=xf;var a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(function(t){var n,r=e.data.defaultFieldValue,a=De(i.options);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.selected=s.value===r}}catch(o){a.e(o)}finally{a.f()}}));var s,o=De(this.data.options);try{for(o.s();!(s=o.n()).done;){var l=s.value,u=document.createElement("option");u.textContent=l.displayValue,u.value=l.exportValue,r.value.includes(l.exportValue)&&(u.setAttribute("selected",!0),a=!1),i.append(u)}}catch(p){o.e(p)}finally{o.f()}var c=null;if(a){var h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),c=function(){h.remove(),i.removeEventListener("input",c),c=null},i.addEventListener("input",c)}var d=function(e){var t=e?"value":"textContent",n=i.options;return i.multiple?Array.prototype.filter.call(n,(function(e){return e.selected})).map((function(e){return e[t]})):-1===n.selectedIndex?null:n[n.selectedIndex][t]},f=d(!1),v=function(e){var t=e.target.options;return Array.prototype.map.call(t,(function(e){return{displayValue:e.textContent,exportValue:e.value}}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(function(r){var a={value:function(e){var r;null===(r=c)||void 0===r||r();var a,s=e.detail.value,o=new Set(Array.isArray(s)?s:[s]),l=De(i.options);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.selected=o.has(u.value)}}catch(p){l.e(p)}finally{l.f()}t.setValue(n,{value:d(!0)}),f=d(!1)},multipleSelection:function(e){i.multiple=!0},remove:function(e){var r=i.options,a=e.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){var s=Array.prototype.findIndex.call(r,(function(e){return e.selected}));-1===s&&(r[0].selected=!0)}t.setValue(n,{value:d(!0),items:v(e)}),f=d(!1)},clear:function(e){for(;0!==i.length;)i.remove(0);t.setValue(n,{value:null,items:[]}),f=d(!1)},insert:function(e){var r=e.detail.insert,a=r.index,s=r.displayValue,o=r.exportValue,l=i.children[a],u=document.createElement("option");u.textContent=s,u.value=o,l?l.before(u):i.append(u),t.setValue(n,{value:d(!0),items:v(e)}),f=d(!1)},items:function(e){for(var r=e.detail.items;0!==i.length;)i.remove(0);var a,s=De(r);try{for(s.s();!(a=s.n()).done;){var o=a.value,l=o.displayValue,u=o.exportValue,c=document.createElement("option");c.textContent=l,c.value=u,i.append(c)}}catch(p){s.e(p)}finally{s.f()}i.options.length>0&&(i.options[0].selected=!0),t.setValue(n,{value:d(!0),items:v(e)}),f=d(!1)},indices:function(e){var r,i=new Set(e.detail.indices),a=De(e.target.options);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.selected=i.has(s.index)}}catch(p){a.e(p)}finally{a.f()}t.setValue(n,{value:d(!0)}),f=d(!1)},editable:function(e){e.target.disabled=!e.detail.editable}};e._dispatchEventFromSandbox(a,r)})),i.addEventListener("input",(function(r){var i,a=d(!0),s=d(!1);t.setValue(n,{value:a}),r.preventDefault(),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:f,change:s,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(function(e){return e.target.value}))):i.addEventListener("input",(function(e){t.setValue(n,{value:d(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}]),n}(zf),Xf=function(e){wn(n,e);var t=xn(n);function n(e){var r;ne(this,n);var i=e.data,a=e.elements;return(r=t.call(this,e,{isRenderable:Pf._hasPopupData(i)})).elements=a,r.popup=null,r}return ie(n,[{key:"render",value:function(){this.container.classList.add("popupAnnotation");var e,t=this.popup=new xv({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[],r=De(this.elements);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea()}}catch(a){r.e(a)}finally{r.f()}return this.container.setAttribute("aria-controls",n.map((function(e){return"".concat($r).concat(e)})).join(",")),this.container}}]),n}(Pf),Yf=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,$f=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,av=new WeakMap,sv=new WeakMap,ov=new WeakMap,lv=new WeakMap,uv=new WeakMap,cv=new WeakMap,hv=new WeakMap,dv=new WeakMap,fv=new WeakMap,vv=new WeakMap,pv=new WeakMap,gv=new WeakSet,mv=new WeakSet,yv=new WeakSet,bv=new WeakSet,wv=new WeakSet,kv=new WeakSet,xv=function(){function e(t){var n=t.container,r=t.color,i=t.elements,a=t.titleObj,s=t.modificationDate,o=t.contentsObj,l=t.richText,u=t.parent,c=t.rect,h=t.parentRect,d=t.open;ne(this,e),on(this,kv),on(this,wv),on(this,bv),on(this,yv),on(this,mv),on(this,gv),ln(this,pv,{get:Sv,set:void 0}),ln(this,vv,{get:Av,set:void 0}),ln(this,fv,{get:_v,set:void 0}),ln(this,Yf,{writable:!0,value:un(this,mv,Cv).bind(this)}),ln(this,Kf,{writable:!0,value:un(this,kv,Rv).bind(this)}),ln(this,Qf,{writable:!0,value:un(this,wv,Pv).bind(this)}),ln(this,$f,{writable:!0,value:un(this,bv,Tv).bind(this)}),ln(this,Jf,{writable:!0,value:null}),ln(this,Zf,{writable:!0,value:null}),ln(this,ev,{writable:!0,value:null}),ln(this,tv,{writable:!0,value:null}),ln(this,nv,{writable:!0,value:null}),ln(this,rv,{writable:!0,value:null}),ln(this,iv,{writable:!0,value:null}),ln(this,av,{writable:!0,value:!1}),ln(this,sv,{writable:!0,value:null}),ln(this,ov,{writable:!0,value:null}),ln(this,lv,{writable:!0,value:null}),ln(this,uv,{writable:!0,value:null}),ln(this,cv,{writable:!0,value:null}),ln(this,hv,{writable:!0,value:null}),ln(this,dv,{writable:!0,value:!1}),fn(this,Zf,n),fn(this,cv,a),fn(this,ev,o),fn(this,uv,l),fn(this,rv,u),fn(this,Jf,r),fn(this,lv,c),fn(this,iv,h),fn(this,nv,i),fn(this,tv,di.toDateObject(s)),this.trigger=i.flatMap((function(e){return e.getElementsToTriggerPopup()}));var f,v=De(this.trigger);try{for(v.s();!(f=v.n()).done;){var p=f.value;p.addEventListener("click",hn(this,$f)),p.addEventListener("mouseenter",hn(this,Qf)),p.addEventListener("mouseleave",hn(this,Kf)),p.classList.add("popupTriggerArea")}}catch(b){v.e(b)}finally{v.f()}var g,m=De(i);try{for(m.s();!(g=m.n()).done;){var y;null===(y=g.value.container)||void 0===y||y.addEventListener("keydown",hn(this,Yf))}}catch(b){m.e(b)}finally{m.f()}hn(this,Zf).hidden=!0,d&&un(this,bv,Tv).call(this)}return ie(e,[{key:"render",value:function(){if(!hn(this,sv)){var e=fn(this,sv,document.createElement("div"));if(e.className="popup",hn(this,Jf)){var t=e.style.outlineColor=Hr.makeHexColor.apply(Hr,et(hn(this,Jf)));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)");else{e.style.backgroundColor=Hr.makeHexColor.apply(Hr,et(hn(this,Jf).map((function(e){return Math.floor(.7*(255-e)+e)}))))}}var n=document.createElement("span");n.className="header";var r=document.createElement("h1");n.append(r);var i=hn(this,cv);if(r.dir=i.dir,r.textContent=i.str,e.append(n),hn(this,tv)){var a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:hn(this,tv).valueOf()})),n.append(a)}var s=hn(this,fv);if(s)kf.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{var o=this._formatContents(hn(this,ev));e.append(o)}hn(this,Zf).append(e)}}},{key:"_formatContents",value:function(e){var t=e.str,n=e.dir,r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;for(var i=t.split(/(?:\r\n?|\n)/),a=0,s=i.length;a<s;++a){var o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}},{key:"updateEdited",value:function(e){var t,n=e.rect,r=e.popupContent;hn(this,hv)||fn(this,hv,{contentsObj:hn(this,ev),richText:hn(this,uv)}),n&&fn(this,ov,null),r&&(fn(this,uv,un(this,gv,Ev).call(this,r)),fn(this,ev,null)),null===(t=hn(this,sv))||void 0===t||t.remove(),fn(this,sv,null)}},{key:"resetEdited",value:function(){var e;if(hn(this,hv)){var t=hn(this,hv);en(this,ev).value=t.contentsObj,en(this,uv).value=t.richText,fn(this,hv,null),null===(e=hn(this,sv))||void 0===e||e.remove(),fn(this,sv,null),fn(this,ov,null)}}},{key:"forceHide",value:function(){fn(this,dv,this.isVisible),hn(this,dv)&&(hn(this,Zf).hidden=!0)}},{key:"maybeShow",value:function(){hn(this,dv)&&(hn(this,sv)||un(this,wv,Pv).call(this),fn(this,dv,!1),hn(this,Zf).hidden=!1)}},{key:"isVisible",get:function(){return!1===hn(this,Zf).hidden}}]),e}();function _v(){var e=hn(this,uv),t=hn(this,ev);return null===e||void 0===e||!e.str||null!==t&&void 0!==t&&t.str&&t.str!==e.str?null:hn(this,uv).html||null}function Av(){var e,t,n;return(null===(e=hn(this,fv))||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.style)||void 0===n?void 0:n.fontSize)||0}function Sv(){var e,t,n;return(null===(e=hn(this,fv))||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.style)||void 0===n?void 0:n.color)||null}function Ev(e){var t,n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:hn(this,pv),fontSize:hn(this,vv)?"calc(".concat(hn(this,vv),"px * var(--scale-factor))"):""}},a=De(e.split("\n"));try{for(a.s();!(t=a.n()).done;){var s=t.value;n.push({name:"span",value:s,attributes:i})}}catch(o){a.e(o)}finally{a.f()}return r}function Cv(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&hn(this,av))&&un(this,bv,Tv).call(this)}function Mv(){if(null===hn(this,ov)){var e,t=hn(this,rv),n=t.page.view,r=t.viewport.rawDims,i=r.pageWidth,a=r.pageHeight,s=r.pageX,o=r.pageY,l=!!hn(this,iv),u=hn(this,l?iv:lv),c=De(hn(this,nv));try{for(c.s();!(e=c.n()).done;){var h=e.value;if(!u||null!==Hr.intersect(h.data.rect,u)){u=h.data.rect,l=!0;break}}}catch(m){c.e(m)}finally{c.f()}var d=Hr.normalizeRect([u[0],n[3]-u[1]+n[1],u[2],n[3]-u[3]+n[1]]),f=l?u[2]-u[0]+5:0,v=d[0]+f,p=d[1];fn(this,ov,[100*(v-s)/i,100*(p-o)/a]);var g=hn(this,Zf).style;g.left="".concat(hn(this,ov)[0],"%"),g.top="".concat(hn(this,ov)[1],"%")}}function Tv(){fn(this,av,!hn(this,av)),hn(this,av)?(un(this,wv,Pv).call(this),hn(this,Zf).addEventListener("click",hn(this,$f)),hn(this,Zf).addEventListener("keydown",hn(this,Yf))):(un(this,kv,Rv).call(this),hn(this,Zf).removeEventListener("click",hn(this,$f)),hn(this,Zf).removeEventListener("keydown",hn(this,Yf)))}function Pv(){hn(this,sv)||this.render(),this.isVisible?hn(this,av)&&hn(this,Zf).classList.add("focused"):(un(this,yv,Mv).call(this),hn(this,Zf).hidden=!1,hn(this,Zf).style.zIndex=parseInt(hn(this,Zf).style.zIndex)+1e3)}function Rv(){hn(this,Zf).classList.remove("focused"),!hn(this,av)&&this.isVisible&&(hn(this,Zf).hidden=!0,hn(this,Zf).style.zIndex=parseInt(hn(this,Zf).style.zIndex)-1e3)}var Lv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})).textContent=e.data.textContent,r.textPosition=e.data.textPosition,r.annotationEditorType=Wn.FREETEXT,r}return ie(n,[{key:"render",value:function(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");var t,n=De(this.textContent);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("span");i.textContent=r,e.append(i)}}catch(a){n.e(a)}finally{n.f()}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}]),n}(Pf),Nv=new WeakMap,Iv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),ln(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})),Nv,{writable:!0,value:null}),r}return ie(n,[{key:"render",value:function(){this.container.classList.add("lineAnnotation");var e=this.data,t=Af(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=fn(this,Nv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,Nv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf),Dv=new WeakMap,Ov=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),ln(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})),Dv,{writable:!0,value:null}),r}return ie(n,[{key:"render",value:function(){this.container.classList.add("squareAnnotation");var e=this.data,t=Af(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=fn(this,Dv,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",n-a),s.setAttribute("height",r-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,Dv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf),Fv=new WeakMap,Wv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),ln(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})),Fv,{writable:!0,value:null}),r}return ie(n,[{key:"render",value:function(){this.container.classList.add("circleAnnotation");var e=this.data,t=Af(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=fn(this,Fv,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",n/2),s.setAttribute("cy",r/2),s.setAttribute("rx",n/2-a/2),s.setAttribute("ry",r/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,Fv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf),jv=new WeakMap,zv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),ln(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})),jv,{writable:!0,value:null}),r.containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return ie(n,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var e=this.data,t=e.rect,n=e.vertices,r=e.borderStyle,i=e.popupRef;if(!n)return this.container;for(var a=Af(t),s=a.width,o=a.height,l=this.svgFactory.create(s,o,!0),u=[],c=0,h=n.length;c<h;c+=2){var d=n[c]-t[0],f=t[3]-n[c+1];u.push("".concat(d,",").concat(f))}u=u.join(" ");var v=fn(this,jv,this.svgFactory.createElement(this.svgElementName));return v.setAttribute("points",u),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),l.append(v),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,jv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf),Bv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return ie(n)}(zv),Uv=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!0,ignoreBorder:!0})}return ie(n,[{key:"render",value:function(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}]),n}(Pf),Hv=new WeakMap,Vv=new WeakMap,Gv=new WeakSet,qv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})),Gv),ln(an(r),Hv,{writable:!0,value:null}),ln(an(r),Vv,{writable:!0,value:[]}),r.containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r.annotationEditorType="InkHighlight"===r.data.it?Wn.HIGHLIGHT:Wn.INK,r}return ie(n,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var e=this.data,t=e.rect,n=e.rotation,r=e.inkLists,i=e.borderStyle,a=e.popupRef,s=un(this,Gv,Xv).call(this,n,t),o=s.transform,l=s.width,u=s.height,c=this.svgFactory.create(l,u,!0),h=fn(this,Hv,this.svgFactory.createElement("svg:g"));c.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(var d=0,f=r.length;d<f;d++){var v=this.svgFactory.createElement(this.svgElementName);hn(this,Vv).push(v),v.setAttribute("points",r[d].join(",")),h.append(v)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}},{key:"updateEdited",value:function(e){rn(tn(n.prototype),"updateEdited",this).call(this,e);var t=e.thickness,r=e.points,i=e.rect,a=hn(this,Hv);if(t>=0&&a.setAttribute("stroke-width",t||1),r)for(var s=0,o=hn(this,Vv).length;s<o;s++)hn(this,Vv)[s].setAttribute("points",r[s].join(","));if(i){var l=un(this,Gv,Xv).call(this,this.data.rotation,i),u=l.transform,c=l.width,h=l.height;a.parentElement.setAttribute("viewBox","0 0 ".concat(c," ").concat(h)),a.setAttribute("transform",u)}}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,Vv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf);function Xv(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}var Yv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})).annotationEditorType=Wn.HIGHLIGHT,r}return ie(n,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}]),n}(Pf),Kv=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}return ie(n,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}]),n}(Pf),Qv=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}return ie(n,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}]),n}(Pf),$v=function(e){wn(n,e);var t=xn(n);function n(e){return ne(this,n),t.call(this,e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}return ie(n,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}]),n}(Pf),Jv=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!0})).annotationEditorType=Wn.STAMP,r}return ie(n,[{key:"render",value:function(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}]),n}(Pf),Zv=new WeakMap,ep=new WeakSet,tp=function(e){wn(n,e);var t=xn(n);function n(e){var r,i;ne(this,n),on(an(i=t.call(this,e,{isRenderable:!0})),ep),ln(an(i),Zv,{writable:!0,value:null});var a=i.data.file;return i.filename=a.filename,i.content=a.content,null===(r=i.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",Ae({source:an(i)},a)),i}return ie(n,[{key:"render",value:function(){var e=this;this.container.classList.add("fileAttachmentAnnotation");var t,n=this.container,r=this.data;r.hasAppearance||0===r.fillAlpha?t=document.createElement("div"):((t=document.createElement("img")).src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(r.name)?"paperclip":"pushpin",".svg"),r.fillAlpha&&r.fillAlpha<1&&(t.style="filter: opacity(".concat(Math.round(100*r.fillAlpha),"%);"))),t.addEventListener("dblclick",un(this,ep,np).bind(this)),fn(this,Zv,t);var i=Br.platform.isMac;return n.addEventListener("keydown",(function(t){"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&un(e,ep,np).call(e)})),!r.popupRef&&this.hasPopupData?this._createPopup():t.classList.add("popupTriggerArea"),n.append(t),n}},{key:"getElementsToTriggerPopup",value:function(){return hn(this,Zv)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}]),n}(Pf);function np(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var rp=new WeakMap,ip=new WeakMap,ap=new WeakMap,sp=new WeakMap,op=new WeakSet,lp=new WeakSet,up=function(){function e(t){var n=t.div,r=t.accessibilityManager,i=t.annotationCanvasMap,a=t.annotationEditorUIManager,s=t.page,o=t.viewport,l=t.structTreeLayer;ne(this,e),on(this,lp),on(this,op),ln(this,rp,{writable:!0,value:null}),ln(this,ip,{writable:!0,value:null}),ln(this,ap,{writable:!0,value:new Map}),ln(this,sp,{writable:!0,value:null}),this.div=n,fn(this,rp,r),fn(this,ip,i),fn(this,sp,l||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a}return ie(e,[{key:"hasEditableAnnotations",value:function(){return hn(this,ap).size>0}},{key:"render",value:function(){var e=o(a().mark((function e(t){var n,r,i,s,o,l,u,c,h,d,f,v,p,g,m,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.annotations,yi(r=this.div,this.viewport),i=new Map,s={data:null,layer:r,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new wf,annotationStorage:t.annotationStorage||new Xl,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null},o=De(n),e.prev=6,o.s();case 8:if((l=o.n()).done){e.next=35;break}if(!(u=l.value).noHTML){e.next=12;break}return e.abrupt("continue",33);case 12:if(c=u.annotationType===ur){e.next=19;break}if(h=Af(u.rect),d=h.width,f=h.height,!(d<=0||f<=0)){e.next=17;break}return e.abrupt("continue",33);case 17:e.next=23;break;case 19:if(v=i.get(u.id)){e.next=22;break}return e.abrupt("continue",33);case 22:s.elements=v;case 23:if(s.data=u,(p=Sf.create(s)).isRenderable){e.next=27;break}return e.abrupt("continue",33);case 27:return!c&&u.popupRef&&((g=i.get(u.popupRef))?g.push(p):i.set(u.popupRef,[p])),m=p.render(),u.hidden&&(m.style.visibility="hidden"),e.next=32,un(this,op,cp).call(this,m,u.id);case 32:p._isEditable&&(hn(this,ap).set(p.data.id,p),null===(y=this._annotationEditorUIManager)||void 0===y||y.renderAnnotationElement(p));case 33:e.next=8;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(6),o.e(e.t0);case 40:return e.prev=40,o.f(),e.finish(40);case 43:un(this,lp,dp).call(this);case 44:case"end":return e.stop()}}),e,this,[[6,37,40,43]])})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=e.viewport,n=this.div;this.viewport=t,yi(n,{rotation:t.rotation}),un(this,lp,dp).call(this),n.hidden=!1}},{key:"getEditableAnnotations",value:function(){return Array.from(hn(this,ap).values())}},{key:"getEditableAnnotation",value:function(e){return hn(this,ap).get(e)}}]),e}();function cp(e,t){return hp.apply(this,arguments)}function hp(){return(hp=o(a().mark((function e(t,n){var r,i,s,o,l,u,c,h,f,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.firstChild||t,o=s.id="".concat($r).concat(n),e.next=4,null===(r=hn(this,sp))||void 0===r?void 0:r.getAriaAttributes(o);case 4:if(l=e.sent){u=De(l);try{for(u.s();!(c=u.n()).done;)h=d(c.value,2),f=h[0],v=h[1],s.setAttribute(f,v)}catch(a){u.e(a)}finally{u.f()}}this.div.append(t),null===(i=hn(this,rp))||void 0===i||i.moveElementInDOM(this.div,t,s,!1);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function dp(){if(hn(this,ip)){var e,t=this.div,n=De(hn(this,ip));try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1],s=t.querySelector('[data-annotation-id="'.concat(i,'"]'));if(s){a.className="annotationContent";var o=s.firstChild;o?"CANVAS"===o.nodeName?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):s.append(a)}}}catch(l){n.e(l)}finally{n.f()}hn(this,ip).clear()}}var fp=/\r\n?|\n/g,vp=new WeakMap,pp=new WeakMap,gp=new WeakMap,mp=new WeakMap,yp=new WeakMap,bp=new WeakSet,wp=new WeakSet,kp=new WeakSet,xp=new WeakSet,_p=new WeakSet,Ap=new WeakSet,Sp=new WeakSet,Ep=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,Ae(Ae({},e),{},{name:"freeTextEditor"}))),Sp),on(an(r),Ap),on(an(r),_p),on(an(r),xp),on(an(r),kp),on(an(r),wp),on(an(r),bp),ln(an(r),vp,{writable:!0,value:void 0}),ln(an(r),pp,{writable:!0,value:""}),ln(an(r),gp,{writable:!0,value:"".concat(r.id,"-editor")}),ln(an(r),mp,{writable:!0,value:null}),ln(an(r),yp,{writable:!0,value:void 0}),fn(an(r),vp,e.color||n._defaultColor||ml._defaultLineColor),fn(an(r),yp,e.fontSize||n._defaultFontSize),r}return ie(n,[{key:"updateParams",value:function(e,t){switch(e){case jn.FREETEXT_SIZE:un(this,bp,Cp).call(this,t);break;case jn.FREETEXT_COLOR:un(this,wp,Mp).call(this,t)}}},{key:"propertiesToUpdate",get:function(){return[[jn.FREETEXT_SIZE,hn(this,yp)],[jn.FREETEXT_COLOR,hn(this,vp)]]}},{key:"_translateEmpty",value:function(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}},{key:"getInitialTranslation",value:function(){var e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+hn(this,yp))*e]}},{key:"rebuild",value:function(){this.parent&&(rn(tn(n.prototype),"rebuild",this).call(this),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}},{key:"enableEditMode",value:function(){if(!this.isInEditMode()){this.parent.setEditingState(!1),this.parent.updateToolbar(Wn.FREETEXT),rn(tn(n.prototype),"enableEditMode",this).call(this),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),fn(this,mp,new AbortController);var e=this._uiManager.combinedSignal(hn(this,mp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}}},{key:"disableEditMode",value:function(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),rn(tn(n.prototype),"disableEditMode",this).call(this),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",hn(this,gp)),this._isDraggable=!0,null===(e=hn(this,mp))||void 0===e||e.abort(),fn(this,mp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}},{key:"focusin",value:function(e){this._focusEventsAllowed&&(rn(tn(n.prototype),"focusin",this).call(this,e),e.target!==this.editorDiv&&this.editorDiv.focus())}},{key:"onceAdded",value:function(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}},{key:"isEmpty",value:function(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),rn(tn(n.prototype),"remove",this).call(this)}},{key:"commit",value:function(){var e=this;if(this.isInEditMode()){rn(tn(n.prototype),"commit",this).call(this),this.disableEditMode();var t=hn(this,pp),r=fn(this,pp,un(this,kp,Tp).call(this).trimEnd());if(t!==r){var i=function(t){fn(e,pp,t),t?(un(e,_p,Lp).call(e),e._uiManager.rebuild(e),un(e,xp,Pp).call(e)):e.remove()};this.addCommands({cmd:function(){i(r)},undo:function(){i(t)},mustExec:!1}),un(this,xp,Pp).call(this)}}}},{key:"shouldGetKeyboardEvents",value:function(){return this.isInEditMode()}},{key:"enterInEditMode",value:function(){this.enableEditMode(),this.editorDiv.focus()}},{key:"dblclick",value:function(e){this.enterInEditMode()}},{key:"keydown",value:function(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}},{key:"editorDivKeydown",value:function(e){n._keyboardManager.exec(this,e)}},{key:"editorDivFocus",value:function(e){this.isEditing=!0}},{key:"editorDivBlur",value:function(e){this.isEditing=!1}},{key:"editorDivInput",value:function(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}},{key:"disableEditing",value:function(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function(){if(this.div)return this.div;var e,t;this.width&&(e=this.x,t=this.y),rn(tn(n.prototype),"render",this).call(this),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",hn(this,gp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;var r=this.editorDiv.style;if(r.fontSize="calc(".concat(hn(this,yp),"px * var(--scale-factor))"),r.color=hn(this,vp),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Yi(this,this.div,["dblclick","keydown"]),this.width){var i=d(this.parentDimensions,2),a=i[0],s=i[1];if(this.annotationElementId){var o=this._initialData.position,l=d(this.getInitialTranslation(),2),u=l[0],c=l[1],h=d(this.pageTranslationToScreen(u,c),2);u=h[0],c=h[1];var f,v,p=d(this.pageDimensions,2),g=p[0],m=p[1],y=d(this.pageTranslation,2),b=y[0],w=y[1];switch(this.rotation){case 0:f=e+(o[0]-b)/g,v=t+this.height-(o[1]-w)/m;break;case 90:f=e+(o[0]-b)/g,v=t-(o[1]-w)/m;var k=[c,-u];u=k[0],c=k[1];break;case 180:f=e-this.width+(o[0]-b)/g,v=t-(o[1]-w)/m;var x=[-u,-c];u=x[0],c=x[1];break;case 270:f=e+(o[0]-b-this.height*m)/g,v=t+(o[1]-w-this.width*g)/m;var _=[-c,u];u=_[0],c=_[1]}this.setAt(f*a,v*s,u,c)}else this.setAt(e*a,t*s,this.width*a,this.height*s);un(this,_p,Lp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}},{key:"editorDivPaste",value:function(e){var t=e.clipboardData||window.clipboardData,r=t.types;if(1!==r.length||"text/plain"!==r[0]){e.preventDefault();var i=yn(n,n,Ip).call(n,t.getData("text")||"").replaceAll(fp,"\n");if(i){var a=window.getSelection();if(a.rangeCount){this.editorDiv.normalize(),a.deleteFromDocument();var s=a.getRangeAt(0);if(!i.includes("\n"))return s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void a.collapseToStart();var o=s.startContainer,l=s.startOffset,u=[],c=[];if(o.nodeType===Node.TEXT_NODE){var h=o.parentElement;if(c.push(o.nodeValue.slice(l).replaceAll(fp,"")),h!==this.editorDiv){var d,f=u,v=De(this.editorDiv.childNodes);try{for(v.s();!(d=v.n()).done;){var p=d.value;p!==h?f.push(yn(n,n,Rp).call(n,p)):f=c}}catch(C){v.e(C)}finally{v.f()}}u.push(o.nodeValue.slice(0,l).replaceAll(fp,""))}else if(o===this.editorDiv){var g,m=u,y=0,b=De(this.editorDiv.childNodes);try{for(b.s();!(g=b.n()).done;){var w=g.value;y++===l&&(m=c),m.push(yn(n,n,Rp).call(n,w))}}catch(C){b.e(C)}finally{b.f()}}fn(this,pp,"".concat(u.join("\n")).concat(i).concat(c.join("\n"))),un(this,_p,Lp).call(this);var k,x=new Range,_=u.reduce((function(e,t){return e+t.length}),0),A=De(this.editorDiv.childNodes);try{for(A.s();!(k=A.n()).done;){var S=k.value.firstChild;if(S.nodeType===Node.TEXT_NODE){var E=S.nodeValue.length;if(_<=E){x.setStart(S,_),x.setEnd(S,_);break}_-=E}}}catch(C){A.e(C)}finally{A.f()}a.removeAllRanges(),a.addRange(x)}}}}},{key:"contentDiv",get:function(){return this.editorDiv}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();var t=n._internalPadding*this.parentScale,r=this.getRect(t,t),i=ml._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:hn(this,vp)),a={annotationType:Wn.FREETEXT,color:i,fontSize:hn(this,yp),value:un(this,Ap,Np).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!un(this,Sp,Dp).call(this,a)?null:(a.id=this.annotationElementId,a)}},{key:"renderAnnotationElement",value:function(e){var t=rn(tn(n.prototype),"renderAnnotationElement",this).call(this,e);if(this.deleted)return t;var r=t.style;r.fontSize="calc(".concat(hn(this,yp),"px * var(--scale-factor))"),r.color=hn(this,vp),t.replaceChildren();var i,a=De(hn(this,pp).split("\n"));try{for(a.s();!(i=a.n()).done;){var s=i.value,o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),t.append(o)}}catch(u){a.e(u)}finally{a.f()}var l=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:hn(this,pp)}),t}},{key:"resetAnnotationElement",value:function(e){rn(tn(n.prototype),"resetAnnotationElement",this).call(this,e),e.resetEdited()}}],[{key:"_keyboardManager",get:function(){var e=n.prototype,t=function(e){return e.isEmpty()},r=xs.TRANSLATE_SMALL,i=xs.TRANSLATE_BIG;return Tr(this,"_keyboardManager",new ca([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}},{key:"initialize",value:function(e,t){ml.initialize(e,t);var n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function(e,t){switch(e){case jn.FREETEXT_SIZE:n._defaultFontSize=t;break;case jn.FREETEXT_COLOR:n._defaultColor=t}}},{key:"defaultPropertiesToUpdate",get:function(){return[[jn.FREETEXT_SIZE,n._defaultFontSize],[jn.FREETEXT_COLOR,n._defaultColor||ml._defaultLineColor]]}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,r,i){var s,o,l,u,c,h,d,f,v,p,g,m,y,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,!(t instanceof Lv)){e.next=6;break}if(l=(o=t).data,u=l.defaultAppearanceData,c=u.fontSize,h=u.fontColor,d=l.rect,f=l.rotation,v=l.id,p=l.popupRef,g=o.textContent,m=o.textPosition,y=o.parent.page.pageNumber,g&&0!==g.length){e.next=5;break}return e.abrupt("return",null);case 5:s=t={annotationType:Wn.FREETEXT,color:Array.from(h),fontSize:c,value:g.join("\n"),position:m,pageIndex:y-1,rect:d.slice(0),rotation:f,id:v,deleted:!1,popupRef:p};case 6:return e.next=8,rn(tn(n),"deserialize",this).call(this,t,r,i);case 8:return fn(b=e.sent,yp,t.fontSize),fn(b,vp,Hr.makeHexColor.apply(Hr,et(t.color))),fn(b,pp,yn(n,n,Ip).call(n,t.value)),b.annotationElementId=t.id||null,b._initialData=s,e.abrupt("return",b);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(ml);function Cp(e){var t=this,n=function(e){t.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),t.translate(0,-(e-hn(t,yp))*t.parentScale),fn(t,yp,e),un(t,xp,Pp).call(t)},r=hn(this,yp);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Mp(e){var t=this,n=function(e){fn(t,vp,t.editorDiv.style.color=e)},r=hn(this,vp);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Tp(){var e=[];this.editorDiv.normalize();var t,n=null,r=De(this.editorDiv.childNodes);try{for(r.s();!(t=r.n()).done;){var i,a=t.value;(null===(i=n)||void 0===i?void 0:i.nodeType)===Node.TEXT_NODE&&"BR"===a.nodeName||(e.push(yn(Ep,Ep,Rp).call(Ep,a)),n=a)}}catch(s){r.e(s)}finally{r.f()}return e.join("\n")}function Pp(){var e,t=d(this.parentDimensions,2),n=t[0],r=t[1];if(this.isAttachedToDOM)e=this.div.getBoundingClientRect();else{var i=this.currentLayer,a=this.div,s=a.style.display,o=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),e=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=e.width/n,this.height=e.height/r):(this.width=e.height/n,this.height=e.width/r),this.fixAndSetPosition()}function Rp(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(fp,"")}function Lp(){if(this.editorDiv.replaceChildren(),hn(this,pp)){var e,t=De(hn(this,pp).split("\n"));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}}catch(i){t.e(i)}finally{t.f()}}}function Np(){return hn(this,pp).replaceAll("\xa0"," ")}function Ip(e){return e.replaceAll(" ","\xa0")}function Dp(e){var t=this._initialData,n=t.value,r=t.fontSize,i=t.color,a=t.pageIndex;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((function(e,t){return e!==i[t]}))||e.pageIndex!==a}xe(Ep,"_freeTextDefaultContent",""),xe(Ep,"_internalPadding",0),xe(Ep,"_defaultColor",null),xe(Ep,"_defaultFontSize",10),xe(Ep,"_type","freetext"),xe(Ep,"_editorType",Wn.FREETEXT);var Op=function(){function e(){ne(this,e)}return ie(e,[{key:"toSVGPath",value:function(){Sr("Abstract method `toSVGPath` must be implemented.")}},{key:"box",get:function(){Sr("Abstract getter `box` must be implemented.")}},{key:"serialize",value:function(e,t){Sr("Abstract method `serialize` must be implemented.")}}],[{key:"_rescale",value:function(e,t,n,r,i,a){a||(a=new Float32Array(e.length));for(var s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*r,a[s+1]=n+e[s+1]*i;return a}},{key:"_rescaleAndSwap",value:function(e,t,n,r,i,a){a||(a=new Float32Array(e.length));for(var s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*r,a[s+1]=n+e[s]*i;return a}},{key:"_translate",value:function(e,t,n,r){r||(r=new Float32Array(e.length));for(var i=0,a=e.length;i<a;i+=2)r[i]=t+e[i],r[i+1]=n+e[i+1];return r}},{key:"svgRound",value:function(e){return Math.round(1e4*e)}},{key:"_normalizePoint",value:function(e,t,n,r,i){switch(i){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}},{key:"_normalizePagePoint",value:function(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}},{key:"createBezierPoints",value:function(e,t,n,r,i,a){return[(e+5*n)/6,(t+5*r)/6,(5*n+i)/6,(5*r+a)/6,(n+i)/2,(r+a)/2]}}]),e}();xe(Op,"PRECISION",1e-4);var Fp=new WeakMap,Wp=new WeakMap,jp=new WeakMap,zp=new WeakMap,Bp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,Kp=new WeakMap,Qp=new WeakSet,$p=new WeakSet,Jp=new WeakSet,Zp=new WeakSet,eg=new WeakSet,tg=new WeakSet,ng=new WeakSet,rg=function(){function e(t,n,r,i,a){var s=t.x,o=t.y,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;ne(this,e),on(this,ng),on(this,tg),on(this,eg),on(this,Zp),on(this,Jp),on(this,$p),on(this,Qp),ln(this,Fp,{writable:!0,value:void 0}),ln(this,Wp,{writable:!0,value:[]}),ln(this,jp,{writable:!0,value:void 0}),ln(this,zp,{writable:!0,value:void 0}),ln(this,Bp,{writable:!0,value:[]}),ln(this,Up,{writable:!0,value:new Float32Array(18)}),ln(this,Hp,{writable:!0,value:void 0}),ln(this,Vp,{writable:!0,value:void 0}),ln(this,Gp,{writable:!0,value:void 0}),ln(this,qp,{writable:!0,value:void 0}),ln(this,Xp,{writable:!0,value:void 0}),ln(this,Yp,{writable:!0,value:void 0}),ln(this,Kp,{writable:!0,value:[]}),fn(this,Fp,n),fn(this,Yp,i*r),fn(this,zp,a),hn(this,Up).set([NaN,NaN,NaN,NaN,s,o],6),fn(this,jp,l),fn(this,qp,mn(e,e,hg)*r),fn(this,Gp,mn(e,e,dg)*r),fn(this,Xp,r),hn(this,Kp).push(s,o)}return ie(e,[{key:"isEmpty",value:function(){return isNaN(hn(this,Up)[8])}},{key:"add",value:function(e){var t,n=e.x,r=e.y;fn(this,Hp,n),fn(this,Vp,r);var i=d(hn(this,Fp),4),a=i[0],s=i[1],o=i[2],l=i[3],u=d(hn(this,Up).subarray(8,12),4),c=u[0],h=u[1],f=u[2],v=u[3],p=n-f,g=r-v,m=Math.hypot(p,g);if(m<hn(this,Gp))return!1;var y=m-hn(this,qp),b=y/m,w=b*p,k=b*g,x=c,_=h;c=f,h=v,f+=w,v+=k,null===(t=hn(this,Kp))||void 0===t||t.push(n,r);var A=w/y,S=-k/y*hn(this,Yp),E=A*hn(this,Yp);if(hn(this,Up).set(hn(this,Up).subarray(2,8),0),hn(this,Up).set([f+S,v+E],4),hn(this,Up).set(hn(this,Up).subarray(14,18),12),hn(this,Up).set([f-S,v-E],16),isNaN(hn(this,Up)[6]))return 0===hn(this,Bp).length&&(hn(this,Up).set([c+S,h+E],2),hn(this,Bp).push(NaN,NaN,NaN,NaN,(c+S-a)/o,(h+E-s)/l),hn(this,Up).set([c-S,h-E],14),hn(this,Wp).push(NaN,NaN,NaN,NaN,(c-S-a)/o,(h-E-s)/l)),hn(this,Up).set([x,_,c,h,f,v],6),!this.isEmpty();if(hn(this,Up).set([x,_,c,h,f,v],6),Math.abs(Math.atan2(_-h,x-c)-Math.atan2(k,w))<Math.PI/2){var C=d(hn(this,Up).subarray(2,6),4);c=C[0],h=C[1],f=C[2],v=C[3],hn(this,Bp).push(NaN,NaN,NaN,NaN,((c+f)/2-a)/o,((h+v)/2-s)/l);var M=d(hn(this,Up).subarray(14,18),4);return c=M[0],h=M[1],x=M[2],_=M[3],hn(this,Wp).push(NaN,NaN,NaN,NaN,((x+c)/2-a)/o,((_+h)/2-s)/l),!0}var T=d(hn(this,Up).subarray(0,6),6);x=T[0],_=T[1],c=T[2],h=T[3],f=T[4],v=T[5],hn(this,Bp).push(((x+5*c)/6-a)/o,((_+5*h)/6-s)/l,((5*c+f)/6-a)/o,((5*h+v)/6-s)/l,((c+f)/2-a)/o,((h+v)/2-s)/l);var P=d(hn(this,Up).subarray(12,18),6);return f=P[0],v=P[1],c=P[2],h=P[3],x=P[4],_=P[5],hn(this,Wp).push(((x+5*c)/6-a)/o,((_+5*h)/6-s)/l,((5*c+f)/6-a)/o,((5*h+v)/6-s)/l,((c+f)/2-a)/o,((h+v)/2-s)/l),!0}},{key:"toSVGPath",value:function(){if(this.isEmpty())return"";var e=hn(this,Bp),t=hn(this,Wp);if(isNaN(hn(this,Up)[6])&&!this.isEmpty())return un(this,$p,ag).call(this);var n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(var r=6;r<e.length;r+=6)isNaN(e[r])?n.push("L".concat(e[r+4]," ").concat(e[r+5])):n.push("C".concat(e[r]," ").concat(e[r+1]," ").concat(e[r+2]," ").concat(e[r+3]," ").concat(e[r+4]," ").concat(e[r+5]));un(this,Zp,og).call(this,n);for(var i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));return un(this,Jp,sg).call(this,n),n.join(" ")}},{key:"newFreeDrawOutline",value:function(e,t,n,r,i,a){return new kg(e,t,n,r,i,a)}},{key:"getOutlines",value:function(){for(var e,t,n=hn(this,Bp),r=hn(this,Wp),i=hn(this,Up),a=d(hn(this,Fp),4),s=a[0],o=a[1],l=a[2],u=a[3],c=new Float32Array((null!==(e=null===(t=hn(this,Kp))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2),h=0,f=c.length-2;h<f;h+=2)c[h]=(hn(this,Kp)[h]-s)/l,c[h+1]=(hn(this,Kp)[h+1]-o)/u;if(c[c.length-2]=(hn(this,Hp)-s)/l,c[c.length-1]=(hn(this,Vp)-o)/u,isNaN(i[6])&&!this.isEmpty())return un(this,eg,lg).call(this,c);for(var v=new Float32Array(hn(this,Bp).length+24+hn(this,Wp).length),p=n.length,g=0;g<p;g+=2)isNaN(n[g])?v[g]=v[g+1]=NaN:(v[g]=n[g],v[g+1]=n[g+1]);p=un(this,ng,cg).call(this,v,p);for(var m=r.length-6;m>=6;m-=6)for(var y=0;y<6;y+=2)isNaN(r[m+y])?(v[p]=v[p+1]=NaN,p+=2):(v[p]=r[m+y],v[p+1]=r[m+y+1],p+=2);return un(this,tg,ug).call(this,v,p),this.newFreeDrawOutline(v,c,hn(this,Fp),hn(this,Xp),hn(this,jp),hn(this,zp))}}]),e}();function ig(){var e=hn(this,Up).subarray(4,6),t=hn(this,Up).subarray(16,18),n=d(hn(this,Fp),4),r=n[0],i=n[1],a=n[2],s=n[3];return[(hn(this,Hp)+(e[0]-t[0])/2-r)/a,(hn(this,Vp)+(e[1]-t[1])/2-i)/s,(hn(this,Hp)+(t[0]-e[0])/2-r)/a,(hn(this,Vp)+(t[1]-e[1])/2-i)/s]}function ag(){var e=d(hn(this,Fp),4),t=e[0],n=e[1],r=e[2],i=e[3],a=d(un(this,Qp,ig).call(this),4),s=a[0],o=a[1],l=a[2],u=a[3];return"M".concat((hn(this,Up)[2]-t)/r," ").concat((hn(this,Up)[3]-n)/i," L").concat((hn(this,Up)[4]-t)/r," ").concat((hn(this,Up)[5]-n)/i," L").concat(s," ").concat(o," L").concat(l," ").concat(u," L").concat((hn(this,Up)[16]-t)/r," ").concat((hn(this,Up)[17]-n)/i," L").concat((hn(this,Up)[14]-t)/r," ").concat((hn(this,Up)[15]-n)/i," Z")}function sg(e){var t=hn(this,Wp);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function og(e){var t=d(hn(this,Fp),4),n=t[0],r=t[1],i=t[2],a=t[3],s=hn(this,Up).subarray(4,6),o=hn(this,Up).subarray(16,18),l=d(un(this,Qp,ig).call(this),4),u=l[0],c=l[1],h=l[2],f=l[3];e.push("L".concat((s[0]-n)/i," ").concat((s[1]-r)/a," L").concat(u," ").concat(c," L").concat(h," ").concat(f," L").concat((o[0]-n)/i," ").concat((o[1]-r)/a))}function lg(e){var t=hn(this,Up),n=d(hn(this,Fp),4),r=n[0],i=n[1],a=n[2],s=n[3],o=d(un(this,Qp,ig).call(this),4),l=o[0],u=o[1],c=o[2],h=o[3],f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-r)/a,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-r)/a,(t[5]-i)/s,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(t[16]-r)/a,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-r)/a,(t[15]-i)/s],0),this.newFreeDrawOutline(f,e,hn(this,Fp),hn(this,Xp),hn(this,jp),hn(this,zp))}function ug(e,t){var n=hn(this,Wp);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function cg(e,t){var n=hn(this,Up).subarray(4,6),r=hn(this,Up).subarray(16,18),i=d(hn(this,Fp),4),a=i[0],s=i[1],o=i[2],l=i[3],u=d(un(this,Qp,ig).call(this),4),c=u[0],h=u[1],f=u[2],v=u[3];return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,f,v,NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l],t),t+24}var hg={writable:!0,value:8},dg={writable:!0,value:mn(rg,rg,hg)+mn(rg,rg,{writable:!0,value:2})},fg=new WeakMap,vg=new WeakMap,pg=new WeakMap,gg=new WeakMap,mg=new WeakMap,yg=new WeakMap,bg=new WeakMap,wg=new WeakSet,kg=function(e){wn(n,e);var t=xn(n);function n(e,r,i,a,s,o){var l;ne(this,n),on(an(l=t.call(this)),wg),ln(an(l),fg,{writable:!0,value:void 0}),ln(an(l),vg,{writable:!0,value:new Float32Array(4)}),ln(an(l),pg,{writable:!0,value:void 0}),ln(an(l),gg,{writable:!0,value:void 0}),ln(an(l),mg,{writable:!0,value:void 0}),ln(an(l),yg,{writable:!0,value:void 0}),ln(an(l),bg,{writable:!0,value:void 0}),fn(an(l),bg,e),fn(an(l),mg,r),fn(an(l),fg,i),fn(an(l),yg,a),fn(an(l),pg,s),fn(an(l),gg,o),l.lastPoint=[NaN,NaN],un(an(l),wg,xg).call(an(l),o);for(var u=d(hn(an(l),vg),4),c=u[0],h=u[1],f=u[2],v=u[3],p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/f,e[p+1]=(e[p+1]-h)/v;for(var m=0,y=r.length;m<y;m+=2)r[m]=(r[m]-c)/f,r[m+1]=(r[m+1]-h)/v;return l}return ie(n,[{key:"toSVGPath",value:function(){for(var e=["M".concat(hn(this,bg)[4]," ").concat(hn(this,bg)[5])],t=6,n=hn(this,bg).length;t<n;t+=6)isNaN(hn(this,bg)[t])?e.push("L".concat(hn(this,bg)[t+4]," ").concat(hn(this,bg)[t+5])):e.push("C".concat(hn(this,bg)[t]," ").concat(hn(this,bg)[t+1]," ").concat(hn(this,bg)[t+2]," ").concat(hn(this,bg)[t+3]," ").concat(hn(this,bg)[t+4]," ").concat(hn(this,bg)[t+5]));return e.push("Z"),e.join(" ")}},{key:"serialize",value:function(e,t){var n,r,i=d(e,4),a=i[0],s=i[1],o=i[2],l=i[3],u=o-a,c=l-s;switch(t){case 0:n=Op._rescale(hn(this,bg),a,l,u,-c),r=Op._rescale(hn(this,mg),a,l,u,-c);break;case 90:n=Op._rescaleAndSwap(hn(this,bg),a,s,u,c),r=Op._rescaleAndSwap(hn(this,mg),a,s,u,c);break;case 180:n=Op._rescale(hn(this,bg),o,s,-u,c),r=Op._rescale(hn(this,mg),o,s,-u,c);break;case 270:n=Op._rescaleAndSwap(hn(this,bg),o,l,-u,-c),r=Op._rescaleAndSwap(hn(this,mg),o,l,-u,-c)}return{outline:Array.from(n),points:[Array.from(r)]}}},{key:"box",get:function(){return hn(this,vg)}},{key:"newOutliner",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return new rg(e,t,n,r,i,a)}},{key:"getNewOutline",value:function(e,t){for(var n=d(hn(this,vg),4),r=n[0],i=n[1],a=n[2],s=n[3],o=d(hn(this,fg),4),l=o[0],u=o[1],c=o[2],h=o[3],f=a*c,v=s*h,p=r*c+l,g=i*h+u,m=this.newOutliner({x:hn(this,mg)[0]*f+p,y:hn(this,mg)[1]*v+g},hn(this,fg),hn(this,yg),e,hn(this,gg),null!==t&&void 0!==t?t:hn(this,pg)),y=2;y<hn(this,mg).length;y+=2)m.add({x:hn(this,mg)[y]*f+p,y:hn(this,mg)[y+1]*v+g});return m.getOutlines()}}]),n}(Op);function xg(e){for(var t=hn(this,bg),n=t[4],r=t[5],i=n,a=r,s=n,o=r,l=n,u=r,c=e?Math.max:Math.min,h=6,d=t.length;h<d;h+=6){if(isNaN(t[h]))i=Math.min(i,t[h+4]),a=Math.min(a,t[h+5]),s=Math.max(s,t[h+4]),o=Math.max(o,t[h+5]),u<t[h+5]?(l=t[h+4],u=t[h+5]):u===t[h+5]&&(l=c(l,t[h+4]));else{var f=Hr.bezierBoundingBox.apply(Hr,[n,r].concat(et(t.slice(h,h+6))));i=Math.min(i,f[0]),a=Math.min(a,f[1]),s=Math.max(s,f[2]),o=Math.max(o,f[3]),u<f[3]?(l=f[2],u=f[3]):u===f[3]&&(l=c(l,f[2]))}n=t[h+4],r=t[h+5]}var v=hn(this,vg);v[0]=i-hn(this,pg),v[1]=a-hn(this,pg),v[2]=s-i+2*hn(this,pg),v[3]=o-a+2*hn(this,pg),this.lastPoint=[l,u]}var _g=new WeakMap,Ag=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,Cg=new WeakSet,Mg=new WeakSet,Tg=new WeakSet,Pg=new WeakSet,Rg=new WeakSet,Lg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];ne(this,e),on(this,Rg),on(this,Pg),on(this,Tg),on(this,Mg),on(this,Cg),ln(this,_g,{writable:!0,value:void 0}),ln(this,Ag,{writable:!0,value:void 0}),ln(this,Sg,{writable:!0,value:[]}),ln(this,Eg,{writable:!0,value:[]});var a,s=1/0,o=-1/0,l=1/0,u=-1/0,c=4,h=Math.pow(10,-c),f=De(t);try{for(f.s();!(a=f.n()).done;){var v=a.value,p=v.x,g=v.y,m=v.width,y=v.height,b=Math.floor((p-n)/h)*h,w=Math.ceil((p+m+n)/h)*h,k=Math.floor((g-n)/h)*h,x=Math.ceil((g+y+n)/h)*h,_=[b,k,x,!0],A=[w,k,x,!1];hn(this,Sg).push(_,A),s=Math.min(s,b),o=Math.max(o,w),l=Math.min(l,k),u=Math.max(u,x)}}catch(W){f.e(W)}finally{f.f()}var S,E=o-s+2*r,C=u-l+2*r,M=s-r,T=l-r,P=hn(this,Sg).at(i?-1:-2),R=[P[0],P[2]],L=De(hn(this,Sg));try{for(L.s();!(S=L.n()).done;){var N=S.value,I=d(N,3),D=I[0],O=I[1],F=I[2];N[0]=(D-M)/E,N[1]=(O-T)/C,N[2]=(F-T)/C}}catch(W){L.e(W)}finally{L.f()}fn(this,_g,new Float32Array([M,T,E,C])),fn(this,Ag,R)}return ie(e,[{key:"getOutlines",value:function(){hn(this,Sg).sort((function(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}));var e,t=[],n=De(hn(this,Sg));try{for(n.s();!(e=n.n()).done;){var r=e.value;r[3]?(t.push.apply(t,et(un(this,Rg,Fg).call(this,r))),un(this,Tg,Dg).call(this,r)):(un(this,Pg,Og).call(this,r),t.push.apply(t,et(un(this,Rg,Fg).call(this,r))))}}catch(i){n.e(i)}finally{n.f()}return un(this,Cg,Ng).call(this,t)}}]),e}();function Ng(e){var t,n=[],r=new Set,i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=d(a,3),o=s[0],l=s[1],u=s[2];n.push([o,l,a],[o,u,a])}}catch(M){i.e(M)}finally{i.f()}n.sort((function(e,t){return e[1]-t[1]||e[0]-t[0]}));for(var c=0,h=n.length;c<h;c+=2){var f=n[c][2],v=n[c+1][2];f.push(v),v.push(f),r.add(f),r.add(v)}for(var p,g=[];r.size>0;){var m=r.values().next().value,y=d(m,5),b=y[0],w=y[1],k=y[2],x=y[3],_=y[4];r.delete(m);var A=b,S=w;for(p=[b,k],g.push(p);;){var E=void 0;if(r.has(x))E=x;else{if(!r.has(_))break;E=_}r.delete(E);var C=d(E,5);b=C[0],w=C[1],k=C[2],x=C[3],_=C[4],A!==b&&(p.push(A,S,b,S===w?w:k),A=b),S=S===w?k:w}p.push(A,S)}return new zg(g,hn(this,_g),hn(this,Ag))}function Ig(e){for(var t=hn(this,Eg),n=0,r=t.length-1;n<=r;){var i=n+r>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:r=i-1}return r+1}function Dg(e){var t=d(e,3),n=t[1],r=t[2],i=un(this,Mg,Ig).call(this,n);hn(this,Eg).splice(i,0,[n,r])}function Og(e){for(var t=d(e,3),n=t[1],r=t[2],i=un(this,Mg,Ig).call(this,n),a=i;a<hn(this,Eg).length;a++){var s=d(hn(this,Eg)[a],2),o=s[0],l=s[1];if(o!==n)break;if(o===n&&l===r)return void hn(this,Eg).splice(a,1)}for(var u=i-1;u>=0;u--){var c=d(hn(this,Eg)[u],2),h=c[0],f=c[1];if(h!==n)break;if(h===n&&f===r)return void hn(this,Eg).splice(u,1)}}function Fg(e){for(var t=d(e,3),n=t[0],r=t[1],i=t[2],a=[[n,r,i]],s=un(this,Mg,Ig).call(this,i),o=0;o<s;o++)for(var l=d(hn(this,Eg)[o],2),u=l[0],c=l[1],h=0,f=a.length;h<f;h++){var v=d(a[h],3),p=v[1],g=v[2];if(!(c<=p||g<=u))if(p>=u)if(g>c)a[h][1]=c;else{if(1===f)return[];a.splice(h,1),h--,f--}else a[h][2]=u,g>c&&a.push([n,c,g])}return a}var Wg=new WeakMap,jg=new WeakMap,zg=function(e){wn(n,e);var t=xn(n);function n(e,r,i){var a;return ne(this,n),ln(an(a=t.call(this)),Wg,{writable:!0,value:void 0}),ln(an(a),jg,{writable:!0,value:void 0}),fn(an(a),jg,e),fn(an(a),Wg,r),a.lastPoint=i,a}return ie(n,[{key:"toSVGPath",value:function(){var e,t=[],n=De(hn(this,jg));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=d(r,2),a=i[0],s=i[1];t.push("M".concat(a," ").concat(s));for(var o=2;o<r.length;o+=2){var l=r[o],u=r[o+1];l===a?(t.push("V".concat(u)),s=u):u===s&&(t.push("H".concat(l)),a=l)}t.push("Z")}}catch(c){n.e(c)}finally{n.f()}return t.join(" ")}},{key:"serialize",value:function(e,t){var n,r=d(e,4),i=r[0],a=r[1],s=r[2],o=r[3],l=[],u=s-i,c=o-a,h=De(hn(this,jg));try{for(h.s();!(n=h.n()).done;){for(var f=n.value,v=new Array(f.length),p=0;p<f.length;p+=2)v[p]=i+f[p]*u,v[p+1]=o-f[p+1]*c;l.push(v)}}catch(g){h.e(g)}finally{h.f()}return l}},{key:"box",get:function(){return hn(this,Wg)}},{key:"classNamesForOutlining",get:function(){return["highlightOutline"]}}]),n}(Op),Bg=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"newFreeDrawOutline",value:function(e,t,n,r,i,a){return new Ug(e,t,n,r,i,a)}}]),n}(rg),Ug=function(e){wn(n,e);var t=xn(n);function n(){return ne(this,n),t.apply(this,arguments)}return ie(n,[{key:"newOutliner",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return new Bg(e,t,n,r,i,a)}}]),n}(kg),Hg=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,qg=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Qg=new WeakMap,$g=new WeakMap,Jg=new WeakMap,Zg=new WeakMap,em=new WeakSet,tm=new WeakSet,nm=new WeakSet,rm=new WeakSet,im=new WeakSet,am=new WeakMap,sm=function(){function e(t){var n,r=t.editor,i=void 0===r?null:r,a=t.uiManager,s=void 0===a?null:a;ne(this,e),ln(this,am,{get:dm,set:void 0}),on(this,im),on(this,rm),on(this,nm),on(this,tm),on(this,em),ln(this,Hg,{writable:!0,value:null}),ln(this,Vg,{writable:!0,value:null}),ln(this,Gg,{writable:!0,value:void 0}),ln(this,qg,{writable:!0,value:null}),ln(this,Xg,{writable:!0,value:!1}),ln(this,Yg,{writable:!0,value:!1}),ln(this,Kg,{writable:!0,value:null}),ln(this,Qg,{writable:!0,value:void 0}),ln(this,$g,{writable:!0,value:null}),ln(this,Jg,{writable:!0,value:null}),ln(this,Zg,{writable:!0,value:void 0}),i?(fn(this,Yg,!1),fn(this,Zg,jn.HIGHLIGHT_COLOR),fn(this,Kg,i)):(fn(this,Yg,!0),fn(this,Zg,jn.HIGHLIGHT_DEFAULT_COLOR)),fn(this,Jg,(null===i||void 0===i?void 0:i._uiManager)||s),fn(this,Qg,hn(this,Jg)._eventBus),fn(this,Gg,(null===i||void 0===i?void 0:i.color)||(null===(n=hn(this,Jg))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),mn(e,e,fm)||gn(e,e,fm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}return ie(e,[{key:"renderButton",value:function(){var e=fn(this,Hg,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);var t=hn(this,Jg)._signal;e.addEventListener("click",un(this,rm,cm).bind(this),{signal:t}),e.addEventListener("keydown",un(this,nm,um).bind(this),{signal:t});var n=fn(this,Vg,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=hn(this,Gg),e.append(n),e}},{key:"renderMainDropdown",value:function(){var e=fn(this,qg,un(this,em,om).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}},{key:"_colorSelectFromKeyboard",value:function(e){if(e.target!==hn(this,Hg)){var t=e.target.getAttribute("data-color");t&&un(this,tm,lm).call(this,t,e)}else un(this,rm,cm).call(this,e)}},{key:"_moveToNext",value:function(e){var t,n;hn(this,am)?e.target!==hn(this,Hg)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=hn(this,qg).firstChild)||void 0===n||n.focus():un(this,rm,cm).call(this,e)}},{key:"_moveToPrevious",value:function(e){var t,n;e.target!==(null===(t=hn(this,qg))||void 0===t?void 0:t.firstChild)&&e.target!==hn(this,Hg)?(hn(this,am)||un(this,rm,cm).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):hn(this,am)&&this._hideDropdownFromKeyboard()}},{key:"_moveToBeginning",value:function(e){var t;hn(this,am)?null===(t=hn(this,qg).firstChild)||void 0===t||t.focus():un(this,rm,cm).call(this,e)}},{key:"_moveToEnd",value:function(e){var t;hn(this,am)?null===(t=hn(this,qg).lastChild)||void 0===t||t.focus():un(this,rm,cm).call(this,e)}},{key:"hideDropdown",value:function(){var e,t;null===(e=hn(this,qg))||void 0===e||e.classList.add("hidden"),null===(t=hn(this,$g))||void 0===t||t.abort(),fn(this,$g,null)}},{key:"_hideDropdownFromKeyboard",value:function(){var e;hn(this,Yg)||(hn(this,am)?(this.hideDropdown(),hn(this,Hg).focus({preventScroll:!0,focusVisible:hn(this,Xg)})):null===(e=hn(this,Kg))||void 0===e||e.unselect())}},{key:"updateColor",value:function(e){if(hn(this,Vg)&&(hn(this,Vg).style.backgroundColor=e),hn(this,qg)){var t,n=hn(this,Jg).highlightColors.values(),r=De(hn(this,qg).children);try{for(r.s();!(t=r.n()).done;){t.value.setAttribute("aria-selected",n.next().value===e)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"destroy",value:function(){var e,t;null===(e=hn(this,Hg))||void 0===e||e.remove(),fn(this,Hg,null),fn(this,Vg,null),null===(t=hn(this,qg))||void 0===t||t.remove(),fn(this,qg,null)}}],[{key:"_keyboardManager",get:function(){return Tr(this,"_keyboardManager",new ca([[["Escape","mac+Escape"],e.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],e.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],e.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],e.prototype._moveToPrevious],[["Home","mac+Home"],e.prototype._moveToBeginning],[["End","mac+End"],e.prototype._moveToEnd]]))}}]),e}();function om(){var e=document.createElement("div"),t=hn(this,Jg)._signal;e.addEventListener("contextmenu",ci,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");var n,r=De(hn(this,Jg).highlightColors);try{for(r.s();!(n=r.n()).done;){var i=d(n.value,2),a=i[0],s=i[1],o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=a,o.setAttribute("data-l10n-id",mn(sm,sm,fm)[a]);var l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.setAttribute("aria-selected",s===hn(this,Gg)),o.addEventListener("click",un(this,tm,lm).bind(this,s),{signal:t}),e.append(o)}}catch(u){r.e(u)}finally{r.f()}return e.addEventListener("keydown",un(this,nm,um).bind(this),{signal:t}),e}function lm(e,t){t.stopPropagation(),hn(this,Qg).dispatch("switchannotationeditorparams",{source:this,type:hn(this,Zg),value:e})}function um(e){sm._keyboardManager.exec(this,e)}function cm(e){if(hn(this,am))this.hideDropdown();else if(fn(this,Xg,0===e.detail),hn(this,$g)||(fn(this,$g,new AbortController),window.addEventListener("pointerdown",un(this,im,hm).bind(this),{signal:hn(this,Jg).combinedSignal(hn(this,$g))})),hn(this,qg))hn(this,qg).classList.remove("hidden");else{var t=fn(this,qg,un(this,em,om).call(this));hn(this,Hg).append(t)}}function hm(e){var t;null!==(t=hn(this,qg))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function dm(){return hn(this,qg)&&!hn(this,qg).classList.contains("hidden")}var fm={writable:!0,value:null},vm=new WeakMap,pm=new WeakMap,gm=new WeakMap,mm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakMap,km=new WeakMap,xm=new WeakMap,_m=new WeakMap,Am=new WeakMap,Sm=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Lm=new WeakSet,Nm=new WeakSet,Im=new WeakSet,Dm=new WeakSet,Om=new WeakSet,Fm=new WeakSet,Wm=new WeakSet,jm=new WeakSet,zm=new WeakSet,Bm=new WeakSet,Um=new WeakSet,Hm=new WeakSet,Vm=new WeakSet,Gm=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,Ae(Ae({},e),{},{name:"highlightEditor"}))),Vm),on(an(r),Hm),on(an(r),Um),on(an(r),Bm),on(an(r),zm),on(an(r),jm),on(an(r),Wm),on(an(r),Fm),on(an(r),Om),on(an(r),Dm),on(an(r),Im),on(an(r),Nm),on(an(r),Lm),ln(an(r),vm,{writable:!0,value:null}),ln(an(r),pm,{writable:!0,value:0}),ln(an(r),gm,{writable:!0,value:void 0}),ln(an(r),mm,{writable:!0,value:null}),ln(an(r),ym,{writable:!0,value:null}),ln(an(r),bm,{writable:!0,value:null}),ln(an(r),wm,{writable:!0,value:null}),ln(an(r),km,{writable:!0,value:0}),ln(an(r),xm,{writable:!0,value:null}),ln(an(r),_m,{writable:!0,value:null}),ln(an(r),Am,{writable:!0,value:null}),ln(an(r),Sm,{writable:!0,value:!1}),ln(an(r),Em,{writable:!0,value:null}),ln(an(r),Cm,{writable:!0,value:void 0}),ln(an(r),Mm,{writable:!0,value:null}),ln(an(r),Tm,{writable:!0,value:""}),ln(an(r),Pm,{writable:!0,value:void 0}),ln(an(r),Rm,{writable:!0,value:""}),r.color=e.color||n._defaultColor,fn(an(r),Pm,e.thickness||n._defaultThickness),fn(an(r),Cm,e.opacity||n._defaultOpacity),fn(an(r),gm,e.boxes||null),fn(an(r),Rm,e.methodOfCreation||""),fn(an(r),Tm,e.text||""),r._isDraggable=!1,e.highlightId>-1?(fn(an(r),Sm,!0),un(an(r),Nm,Xm).call(an(r),e),un(an(r),Wm,Jm).call(an(r))):hn(an(r),gm)&&(fn(an(r),vm,e.anchorNode),fn(an(r),pm,e.anchorOffset),fn(an(r),wm,e.focusNode),fn(an(r),km,e.focusOffset),un(an(r),Lm,qm).call(an(r)),un(an(r),Wm,Jm).call(an(r)),r.rotate(r.rotation)),r}return ie(n,[{key:"telemetryInitialData",get:function(){return{action:"added",type:hn(this,Sm)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:hn(this,Pm),methodOfCreation:hn(this,Rm)}}},{key:"telemetryFinalData",get:function(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}},{key:"translateInPage",value:function(e,t){}},{key:"toolbarPosition",get:function(){return hn(this,Em)}},{key:"updateParams",value:function(e,t){switch(e){case jn.HIGHLIGHT_COLOR:un(this,Im,Ym).call(this,t);break;case jn.HIGHLIGHT_THICKNESS:un(this,Dm,Km).call(this,t)}}},{key:"propertiesToUpdate",get:function(){return[[jn.HIGHLIGHT_COLOR,this.color||n._defaultColor],[jn.HIGHLIGHT_THICKNESS,hn(this,Pm)||n._defaultThickness],[jn.HIGHLIGHT_FREE,hn(this,Sm)]]}},{key:"addEditToolbar",value:function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(tn(n.prototype),"addEditToolbar",this).call(this);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return this._uiManager.highlightColors&&(fn(this,ym,new sm({editor:this})),t.addColorPicker(hn(this,ym))),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disableEditing",value:function(){rn(tn(n.prototype),"disableEditing",this).call(this),this.div.classList.toggle("disabled",!0)}},{key:"enableEditing",value:function(){rn(tn(n.prototype),"enableEditing",this).call(this),this.div.classList.toggle("disabled",!1)}},{key:"fixAndSetPosition",value:function(){return rn(tn(n.prototype),"fixAndSetPosition",this).call(this,un(this,Bm,ny).call(this))}},{key:"getBaseTranslation",value:function(){return[0,0]}},{key:"getRect",value:function(e,t){return rn(tn(n.prototype),"getRect",this).call(this,e,t,un(this,Bm,ny).call(this))}},{key:"onceAdded",value:function(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}},{key:"remove",value:function(){un(this,Fm,$m).call(this),this._reportTelemetry({action:"deleted"}),rn(tn(n.prototype),"remove",this).call(this)}},{key:"rebuild",value:function(){this.parent&&(rn(tn(n.prototype),"rebuild",this).call(this),null!==this.div&&(un(this,Wm,Jm).call(this),this.isAttachedToDOM||this.parent.add(this)))}},{key:"setParent",value:function(e){var t=!1;if(this.parent&&!e)un(this,Fm,$m).call(this);else if(e){var r;un(this,Wm,Jm).call(this,e),t=!this.parent&&(null===(r=this.div)||void 0===r?void 0:r.classList.contains("selectedEditor"))}rn(tn(n.prototype),"setParent",this).call(this,e),this.show(this._isVisible),t&&this.select()}},{key:"rotate",value:function(e){var t,r=this.parent.drawLayer;hn(this,Sm)?(e=(e-this.rotation+360)%360,t=yn(n,n,Zm).call(n,hn(this,_m).box,e)):t=yn(n,n,Zm).call(n,[this.x,this.y,this.width,this.height],e),r.updateProperties(hn(this,Am),{bbox:t,root:{"data-main-rotation":e}}),r.updateProperties(hn(this,Mm),{bbox:yn(n,n,Zm).call(n,hn(this,bm).box,e),root:{"data-main-rotation":e}})}},{key:"render",value:function(){if(this.div)return this.div;var e=rn(tn(n.prototype),"render",this).call(this);hn(this,Tm)&&(e.setAttribute("aria-label",hn(this,Tm)),e.setAttribute("role","mark")),hn(this,Sm)?e.classList.add("free"):this.div.addEventListener("keydown",un(this,jm,ey).bind(this),{signal:this._uiManager._signal});var t=fn(this,xm,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=hn(this,mm);var r=d(this.parentDimensions,2),i=r[0],a=r[1];return this.setDims(this.width*i,this.height*a),Yi(this,hn(this,xm),["pointerover","pointerleave"]),this.enableEditing(),e}},{key:"pointerover",value:function(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(hn(this,Mm),{rootClass:{hovered:!0}}))}},{key:"pointerleave",value:function(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(hn(this,Mm),{rootClass:{hovered:!1}}))}},{key:"_moveCaret",value:function(e){switch(this.parent.unselect(this),e){case 0:case 2:un(this,zm,ty).call(this,!0);break;case 1:case 3:un(this,zm,ty).call(this,!1)}}},{key:"select",value:function(){var e;rn(tn(n.prototype),"select",this).call(this),hn(this,Mm)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(hn(this,Mm),{rootClass:{hovered:!1,selected:!0}}))}},{key:"unselect",value:function(){var e;rn(tn(n.prototype),"unselect",this).call(this),hn(this,Mm)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(hn(this,Mm),{rootClass:{selected:!1}}),hn(this,Sm)||un(this,zm,ty).call(this,!1))}},{key:"_mustFixPosition",get:function(){return!hn(this,Sm)}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;rn(tn(n.prototype),"show",this).call(this,e),this.parent&&(this.parent.drawLayer.updateProperties(hn(this,Am),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(hn(this,Mm),{rootClass:{hidden:!e}}))}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();var t=this.getRect(0,0),n=ml._colorManager.convert(this.color),r={annotationType:Wn.HIGHLIGHT,color:n,opacity:hn(this,Cm),thickness:hn(this,Pm),quadPoints:un(this,Um,ry).call(this),outlines:un(this,Hm,iy).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:un(this,Bm,ny).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!un(this,Vm,oy).call(this,r)?null:(r.id=this.annotationElementId,r)}},{key:"renderAnnotationElement",value:function(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}],[{key:"_keyboardManager",get:function(){var e=n.prototype;return Tr(this,"_keyboardManager",new ca([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}},{key:"computeTelemetryFinalData",value:function(e){return{numberOfColors:e.get("color").size}}},{key:"initialize",value:function(e,t){var r;ml.initialize(e,t),n._defaultColor||(n._defaultColor=(null===(r=t.highlightColors)||void 0===r?void 0:r.values().next().value)||"#fff066")}},{key:"updateDefaultParams",value:function(e,t){switch(e){case jn.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case jn.HIGHLIGHT_THICKNESS:n._defaultThickness=t}}},{key:"defaultPropertiesToUpdate",get:function(){return[[jn.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[jn.HIGHLIGHT_THICKNESS,n._defaultThickness]]}},{key:"startHighlighting",value:function(e,t,r){var i=this,a=r.target,s=r.x,o=r.y,l=a.getBoundingClientRect(),u=l.x,c=l.y,h=l.width,d=l.height,f=new AbortController,v=e.combinedSignal(f),p=function(t){f.abort(),yn(i,n,sy).call(i,e,t)};window.addEventListener("blur",p,{signal:v}),window.addEventListener("pointerup",p,{signal:v}),window.addEventListener("pointerdown",hi,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",ci,{signal:v}),a.addEventListener("pointermove",yn(this,n,ay).bind(this,e),{signal:v}),this._freeHighlight=new Bg({x:s,y:o},[u,c,h,d],e.scale,this._defaultThickness/2,t,.001);var g=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0);this._freeHighlightId=g.id,this._freeHighlightClipId=g.clipPathId}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,r,i){var s,o,l,u,c,h,f,v,p,g,m,y,b,w,k,x,_,A,S,E,C,M,T,P,R,L,N,I,D,O,F,W,j,z,B,U,H,V,G,q,X,Y,K;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,t instanceof Yv?(l=(o=t).data,u=l.quadPoints,c=l.rect,h=l.rotation,f=l.id,v=l.color,p=l.opacity,g=l.popupRef,m=o.parent.page.pageNumber,s=t={annotationType:Wn.HIGHLIGHT,color:Array.from(v),opacity:p,quadPoints:u,boxes:null,pageIndex:m-1,rect:c.slice(0),rotation:h,id:f,deleted:!1,popupRef:g}):t instanceof qv&&(b=(y=t).data,w=b.inkLists,k=b.rect,x=b.rotation,_=b.id,A=b.color,S=b.borderStyle.rawWidth,E=b.popupRef,C=y.parent.page.pageNumber,s=t={annotationType:Wn.HIGHLIGHT,color:Array.from(A),thickness:S,inkLists:w,boxes:null,pageIndex:C-1,rect:k.slice(0),rotation:x,id:_,deleted:!1,popupRef:E}),T=(M=t).color,P=M.quadPoints,R=M.inkLists,L=M.opacity,e.next=5,rn(tn(n),"deserialize",this).call(this,t,r,i);case 5:if((N=e.sent).color=Hr.makeHexColor.apply(Hr,et(T)),fn(N,Cm,L||1),R&&fn(N,Pm,t.thickness),N.annotationElementId=t.id||null,N._initialData=s,I=d(N.pageDimensions,2),D=I[0],O=I[1],F=d(N.pageTranslation,2),W=F[0],j=F[1],P){for(z=fn(N,gm,[]),B=0;B<P.length;B+=8)z.push({x:(P[B]-W)/D,y:1-(P[B+1]-j)/O,width:(P[B+2]-P[B])/D,height:(P[B+1]-P[B+5])/O});un(N,Lm,qm).call(N),un(N,Wm,Jm).call(N),N.rotate(N.rotation)}else if(R){for(fn(N,Sm,!0),U=R[0],H={x:U[0]-W,y:O-(U[1]-j)},V=new Bg(H,[0,0,D,O],1,hn(N,Pm)/2,!0,.001),G=0,q=U.length;G<q;G+=2)H.x=U[G]-W,H.y=O-(U[G+1]-j),V.add(H);X=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:N.color,"fill-opacity":N._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:V.toSVGPath()}},!0,!0),Y=X.id,K=X.clipPathId,un(N,Nm,Xm).call(N,{highlightOutlines:V.getOutlines(),highlightId:Y,clipPathId:K}),un(N,Wm,Jm).call(N)}return e.abrupt("return",N);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canCreateNewEmptyEditor",value:function(){return!1}}]),n}(ml);function qm(){var e=new Lg(hn(this,gm),.001);fn(this,_m,e.getOutlines());var t=d(hn(this,_m).box,4);this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3];var n=new Lg(hn(this,gm),.0025,.001,"ltr"===this._uiManager.direction);fn(this,bm,n.getOutlines());var r=hn(this,bm).lastPoint;fn(this,Em,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])}function Xm(e){var t=e.highlightOutlines,n=e.highlightId,r=e.clipPathId;fn(this,_m,t);if(fn(this,bm,t.getNewOutline(hn(this,Pm)/2+1.5,.0025)),n>=0)fn(this,Am,n),fn(this,mm,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),fn(this,Mm,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:hn(this,bm).box,path:{d:hn(this,bm).toSVGPath()}},!0));else if(this.parent){var i=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(hn(this,Am),{bbox:yn(Gm,Gm,Zm).call(Gm,hn(this,_m).box,(i-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(hn(this,Mm),{bbox:yn(Gm,Gm,Zm).call(Gm,hn(this,bm).box,i),path:{d:hn(this,bm).toSVGPath()}})}var a=d(t.box,4),s=a[0],o=a[1],l=a[2],u=a[3];switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:var c=d(this.parentDimensions,2),h=c[0],f=c[1];this.x=o,this.y=1-s,this.width=l*f/h,this.height=u*h/f;break;case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:var v=d(this.parentDimensions,2),p=v[0],g=v[1];this.x=1-o,this.y=s,this.width=l*g/p,this.height=u*p/g}var m=hn(this,bm).lastPoint;fn(this,Em,[(m[0]-s)/l,(m[1]-o)/u])}function Ym(e){var t=this,n=function(e,n){var r,i;t.color=e,fn(t,Cm,n),null===(r=t.parent)||void 0===r||r.drawLayer.updateProperties(hn(t,Am),{root:{fill:e,"fill-opacity":n}}),null===(i=hn(t,ym))||void 0===i||i.updateColor(e)},r=this.color,i=hn(this,Cm);this.addCommands({cmd:n.bind(this,e,Gm._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function Km(e){var t=this,n=hn(this,Pm),r=function(e){fn(t,Pm,e),un(t,Om,Qm).call(t,e)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function Qm(e){if(hn(this,Sm)){un(this,Nm,Xm).call(this,{highlightOutlines:hn(this,_m).getNewOutline(e/2)}),this.fixAndSetPosition();var t=d(this.parentDimensions,2),n=t[0],r=t[1];this.setDims(this.width*n,this.height*r)}}function $m(){null!==hn(this,Am)&&this.parent&&(this.parent.drawLayer.remove(hn(this,Am)),fn(this,Am,null),this.parent.drawLayer.remove(hn(this,Mm)),fn(this,Mm,null))}function Jm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;if(null===hn(this,Am)){var t=e.drawLayer.draw({bbox:hn(this,_m).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":hn(this,Cm)},rootClass:{highlight:!0,free:hn(this,Sm)},path:{d:hn(this,_m).toSVGPath()}},!1,!0);en(this,Am).value=t.id,en(this,mm).value=t.clipPathId,fn(this,Mm,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:hn(this,Sm)},bbox:hn(this,bm).box,path:{d:hn(this,bm).toSVGPath()}},hn(this,Sm))),hn(this,xm)&&(hn(this,xm).style.clipPath=hn(this,mm))}}function Zm(e,t){var n=d(e,4),r=n[0],i=n[1],a=n[2],s=n[3];switch(t){case 90:return[1-i-s,r,s,a];case 180:return[1-r-a,1-i-s,a,s];case 270:return[i,1-r-a,s,a]}return[r,i,a,s]}function ey(e){Gm._keyboardManager.exec(this,e)}function ty(e){if(hn(this,vm)){var t=window.getSelection();e?t.setPosition(hn(this,vm),hn(this,pm)):t.setPosition(hn(this,wm),hn(this,km))}}function ny(){return hn(this,Sm)?this.rotation:0}function ry(){if(hn(this,Sm))return null;var e,t=d(this.pageDimensions,2),n=t[0],r=t[1],i=d(this.pageTranslation,2),a=i[0],s=i[1],o=hn(this,gm),l=new Float32Array(8*o.length),u=0,c=De(o);try{for(c.s();!(e=c.n()).done;){var h=e.value,f=h.x,v=h.y,p=h.width,g=h.height,m=f*n+a,y=(1-v)*r+s;l[u]=l[u+4]=m,l[u+1]=l[u+3]=y,l[u+2]=l[u+6]=m+p*n,l[u+5]=l[u+7]=y-g*r,u+=8}}catch(b){c.e(b)}finally{c.f()}return l}function iy(e){return hn(this,_m).serialize(e,un(this,Bm,ny).call(this))}function ay(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function sy(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function oy(e){var t=this._initialData.color;return e.color.some((function(e,n){return e!==t[n]}))}xe(Gm,"_defaultColor",null),xe(Gm,"_defaultOpacity",1),xe(Gm,"_defaultThickness",12),xe(Gm,"_type","highlight"),xe(Gm,"_editorType",Wn.HIGHLIGHT),xe(Gm,"_freeHighlightId",-1),xe(Gm,"_freeHighlight",null),xe(Gm,"_freeHighlightClipId","");var ly=new WeakMap,uy=function(){function e(){ne(this,e),ln(this,ly,{writable:!0,value:Object.create(null)})}return ie(e,[{key:"updateProperty",value:function(e,t){this[e]=t,this.updateSVGProperty(e,t)}},{key:"updateProperties",value:function(e){if(e)for(var t=0,n=Object.entries(e);t<n.length;t++){var r=d(n[t],2),i=r[0],a=r[1];this.updateProperty(i,a)}}},{key:"updateSVGProperty",value:function(e,t){hn(this,ly)[e]=t}},{key:"toSVGProperties",value:function(){var e=hn(this,ly);return fn(this,ly,Object.create(null)),{root:e}}},{key:"reset",value:function(){fn(this,ly,Object.create(null))}},{key:"updateAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}},{key:"clone",value:function(){Sr("Not implemented")}}]),e}(),cy=new WeakMap,hy=new WeakMap,dy=new WeakSet,fy=new WeakSet,vy=new WeakSet,py=new WeakSet,gy=new WeakSet,my=new WeakSet,yy=new WeakSet,by=new WeakSet,wy=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,e)),by),on(an(r),yy),on(an(r),my),on(an(r),gy),on(an(r),py),on(an(r),vy),on(an(r),fy),on(an(r),dy),ln(an(r),cy,{writable:!0,value:null}),ln(an(r),hy,{writable:!0,value:void 0}),xe(an(r),"_drawId",null),fn(an(r),hy,e.mustBeCommitted||!1),e.drawOutlines&&(un(an(r),dy,ky).call(an(r),e),un(an(r),py,Ay).call(an(r))),r}return ie(n,[{key:"updateParams",value:function(e,t){var n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}},{key:"propertiesToUpdate",get:function(){var e,t=[],n=this._drawingOptions,r=De(this.constructor.typesMap);try{for(r.s();!(e=r.n()).done;){var i=d(e.value,2),a=i[0],s=i[1];t.push([a,n[s]])}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"_updateProperty",value:function(e,t,n){var r=this,i=this._drawingOptions,a=i[t],s=function(e){var n;i.updateProperty(t,e);var a=hn(r,cy).updateProperty(t,e);a&&un(r,yy,Cy).call(r,a),null===(n=r.parent)||void 0===n||n.drawLayer.updateProperties(r._drawId,i.toSVGProperties())};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}},{key:"_onResizing",value:function(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(hn(this,cy).getPathResizingSVGProperties(un(this,my,Ey).call(this)),{bbox:un(this,by,My).call(this)}))}},{key:"_onResized",value:function(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(hn(this,cy).getPathResizedSVGProperties(un(this,my,Ey).call(this)),{bbox:un(this,by,My).call(this)}))}},{key:"_onTranslating",value:function(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:un(this,by,My).call(this,e,t)})}},{key:"_onTranslated",value:function(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(hn(this,cy).getPathTranslatedSVGProperties(un(this,my,Ey).call(this),this.parentDimensions),{bbox:un(this,by,My).call(this)}))}},{key:"_onStartDragging",value:function(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}},{key:"_onStopDragging",value:function(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}},{key:"commit",value:function(){rn(tn(n.prototype),"commit",this).call(this),this.disableEditMode(),this.disableEditing()}},{key:"disableEditing",value:function(){rn(tn(n.prototype),"disableEditing",this).call(this),this.div.classList.toggle("disabled",!0)}},{key:"enableEditing",value:function(){rn(tn(n.prototype),"enableEditing",this).call(this),this.div.classList.toggle("disabled",!1)}},{key:"getBaseTranslation",value:function(){return[0,0]}},{key:"isResizable",get:function(){return!0}},{key:"onceAdded",value:function(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,hn(this,hy)&&(fn(this,hy,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}},{key:"remove",value:function(){un(this,vy,_y).call(this),rn(tn(n.prototype),"remove",this).call(this)}},{key:"rebuild",value:function(){this.parent&&(rn(tn(n.prototype),"rebuild",this).call(this),null!==this.div&&(un(this,py,Ay).call(this),un(this,yy,Cy).call(this,hn(this,cy).box),this.isAttachedToDOM||this.parent.add(this)))}},{key:"setParent",value:function(e){var t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),un(this,vy,_y).call(this);else if(e){var r;this._uiManager.addShouldRescale(this),un(this,py,Ay).call(this,e),t=!this.parent&&(null===(r=this.div)||void 0===r?void 0:r.classList.contains("selectedEditor"))}rn(tn(n.prototype),"setParent",this).call(this,e),t&&this.select()}},{key:"rotate",value:function(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties({bbox:un(this,by,My).call(this)},hn(this,cy).updateRotation((this.parentRotation-this.rotation+360)%360)))}},{key:"onScaleChanging",value:function(){this.parent&&un(this,yy,Cy).call(this,hn(this,cy).updateParentDimensions(this.parentDimensions,this.parent.scale))}},{key:"render",value:function(){if(this.div)return this.div;var e=rn(tn(n.prototype),"render",this).call(this);e.classList.add("draw");var t=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal";var r=d(this.parentDimensions,2),i=r[0],a=r[1];return this.setDims(this.width*i,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),e}},{key:"createDrawingOptions",value:function(e){}},{key:"serializeDraw",value:function(e){var t=d(this.pageTranslation,2),n=t[0],r=t[1],i=d(this.pageDimensions,2),a=i[0],s=i[1];return hn(this,cy).serialize([n,r,a,s],e)}},{key:"renderAnnotationElement",value:function(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}],[{key:"_mergeSVGProperties",value:function(e,t){for(var n=new Set(Object.keys(e)),r=0,i=Object.entries(t);r<i.length;r++){var a=d(i[r],2),s=a[0],o=a[1];n.has(s)?Object.assign(e[s],o):e[s]=o}return e}},{key:"getDefaultDrawingOptions",value:function(e){Sr("Not implemented")}},{key:"typesMap",get:function(){Sr("Not implemented")}},{key:"isDrawer",get:function(){return!0}},{key:"supportMultipleDrawings",get:function(){return!1}},{key:"updateDefaultParams",value:function(e,t){var r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,t),this._currentParent&&(mn(n,n,Ty).updateProperty(r,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}},{key:"defaultPropertiesToUpdate",get:function(){var e,t=[],n=this._defaultDrawingOptions,r=De(this.typesMap);try{for(r.s();!(e=r.n()).done;){var i=d(e.value,2),a=i[0],s=i[1];t.push([a,n[s]])}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"onScaleChangingWhenDrawing",value:function(){}},{key:"createDrawerInstance",value:function(e,t,n,r,i){Sr("Not implemented")}},{key:"startDrawing",value:function(e,t,r,i){var a,s,o=this,l=i.target,u=i.offsetX,c=i.offsetY,h=i.pointerId,d=i.pointerType;if(!mn(n,n,Ny)||mn(n,n,Ny)===d){var f=e.viewport.rotation,v=l.getBoundingClientRect(),p=v.width,g=v.height,m=gn(n,n,Py,new AbortController),y=e.combinedSignal(m);if(mn(n,n,Ly)||gn(n,n,Ly,h),null!==(a=mn(n,n,Ny))&&void 0!==a||gn(n,n,Ny,d),window.addEventListener("pointerup",(function(e){var t;mn(n,n,Ly)===e.pointerId?o._endDraw(e):null===(t=mn(n,n,Iy))||void 0===t||t.delete(e.pointerId)}),{signal:y}),window.addEventListener("pointercancel",(function(e){var t;mn(n,n,Ly)===e.pointerId?o._currentParent.endDrawingSession():null===(t=mn(n,n,Iy))||void 0===t||t.delete(e.pointerId)}),{signal:y}),window.addEventListener("pointerdown",(function(e){mn(n,n,Ny)===e.pointerType&&((mn(n,n,Iy)||gn(n,n,Iy,new Set)).add(e.pointerId),mn(n,n,Ty).isCancellable()&&(mn(n,n,Ty).removeLastElement(),mn(n,n,Ty).isEmpty()?o._currentParent.endDrawingSession(!0):o._endDraw(null)))}),{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",ci,{signal:y}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),l.addEventListener("touchmove",(function(e){e.timeStamp===mn(n,n,Dy)&&hi(e)}),{signal:y}),e.toggleDrawing(),null===(s=t._editorUndoBar)||void 0===s||s.hide(),mn(n,n,Ty))e.drawLayer.updateProperties(this._currentDrawId,mn(n,n,Ty).startNew(u,c,p,g,f));else{t.updateUIForDefaultProperties(this),gn(n,n,Ty,this.createDrawerInstance(u,c,p,g,f)),gn(n,n,Ry,this.getDefaultDrawingOptions()),this._currentParent=e;var b=e.drawLayer.draw(this._mergeSVGProperties(mn(n,n,Ry).toSVGProperties(),mn(n,n,Ty).defaultSVGProperties),!0,!1);this._currentDrawId=b.id}}}},{key:"_drawMove",value:function(e){var t;if(gn(n,n,Dy,-1),mn(n,n,Ty)){var r=e.offsetX,i=e.offsetY,a=e.pointerId;mn(n,n,Ly)===a&&((null===(t=mn(n,n,Iy))||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,mn(n,n,Ty).add(r,i)),gn(n,n,Dy,e.timeStamp),hi(e)))}}},{key:"_cleanup",value:function(e){e&&(this._currentDrawId=-1,this._currentParent=null,gn(n,n,Ty,null),gn(n,n,Ry,null),gn(n,n,Ny,null),gn(n,n,Dy,NaN)),mn(n,n,Py)&&(mn(n,n,Py).abort(),gn(n,n,Py,null),gn(n,n,Ly,NaN),gn(n,n,Iy,null))}},{key:"_endDraw",value:function(e){var t=this._currentParent;if(t)if(t.toggleDrawing(!0),this._cleanup(!1),e&&t.drawLayer.updateProperties(this._currentDrawId,mn(n,n,Ty).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){var r=mn(n,n,Ty),i=this._currentDrawId,a=r.getLastElement();t.addCommands({cmd:function(){t.drawLayer.updateProperties(i,r.setLastElement(a))},undo:function(){t.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:jn.DRAW_STEP})}else this.endDrawing(!1)}},{key:"endDrawing",value:function(e){var t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(jn.DRAW_STEP),!mn(n,n,Ty).isEmpty()){var r=d(t.pageDimensions,2),i=r[0],a=r[1],s=t.scale,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:mn(n,n,Ty).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:mn(n,n,Ry),mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}},{key:"deserializeDraw",value:function(e,t,n,r,i,a){Sr("Not implemented")}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,r,i){var s,o,l,u,c,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.viewport.rawDims,o=s.pageWidth,l=s.pageHeight,u=s.pageX,c=s.pageY,h=this.deserializeDraw(u,c,o,l,this._INNER_MARGIN,t),e.next=4,rn(tn(n),"deserialize",this).call(this,t,r,i);case 4:return(d=e.sent).createDrawingOptions(t),un(d,dy,ky).call(d,{drawOutlines:h}),un(d,py,Ay).call(d),d.onScaleChanging(),d.rotate(),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canCreateNewEmptyEditor",value:function(){return!1}}]),n}(ml);function ky(e){var t=e.drawOutlines,n=e.drawId,r=e.drawingOptions;fn(this,cy,t),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=un(this,fy,xy).call(this,t,this.parent),un(this,yy,Cy).call(this,t.box)}function xy(e,t){return t.drawLayer.draw(wy._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1).id}function _y(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function Ay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=un(this,fy,xy).call(this,hn(this,cy),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function Sy(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=d(this.parentDimensions,2),o=s[0],l=s[1];switch(this.rotation){case 90:return[r,1-n,i*(l/o),a*(o/l)];case 180:return[1-n,1-r,i,a];case 270:return[1-r,n,i*(l/o),a*(o/l)];default:return[n,r,i,a]}}function Ey(){var e=this.x,t=this.y,n=this.width,r=this.height,i=d(this.parentDimensions,2),a=i[0],s=i[1];switch(this.rotation){case 90:return[1-t,e,n*(a/s),r*(s/a)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(a/s),r*(s/a)];default:return[e,t,n,r]}}function Cy(e){var t=d(un(this,gy,Sy).call(this,e),4);if(this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3],this.div){this.fixAndSetPosition();var n=d(this.parentDimensions,2),r=n[0],i=n[1];this.setDims(this.width*r,this.height*i)}this._onResized()}function My(){var e=this.x,t=this.y,n=this.width,r=this.height,i=this.rotation,a=this.parentRotation,s=d(this.parentDimensions,2),o=s[0],l=s[1];switch((4*i+a)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(o/l),r*(l/o),n*(o/l)];case 5:return[1-t,e,n*(o/l),r*(l/o)];case 6:return[1-e-r*(l/o),1-t,r*(l/o),n*(o/l)];case 7:return[t-n*(o/l),1-e-r*(l/o),n*(o/l),r*(l/o)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(l/o),t,r*(l/o),n*(o/l)];case 13:return[1-t-n*(o/l),e-r*(l/o),n*(o/l),r*(l/o)];case 14:return[1-e,1-t-n*(o/l),r*(l/o),n*(o/l)];case 15:return[t,1-e,n*(o/l),r*(l/o)];default:return[e,t,n,r]}}xe(wy,"_currentDrawId",-1),xe(wy,"_currentParent",null);var Ty={writable:!0,value:null},Py={writable:!0,value:null},Ry={writable:!0,value:null},Ly={writable:!0,value:NaN},Ny={writable:!0,value:null},Iy={writable:!0,value:null},Dy={writable:!0,value:NaN};xe(wy,"_INNER_MARGIN",3);var Oy=new WeakMap,Fy=new WeakMap,Wy=new WeakMap,jy=new WeakMap,zy=new WeakMap,By=new WeakMap,Uy=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,Gy=new WeakMap,qy=new WeakMap,Xy=new WeakSet,Yy=function(){function e(t,n,r,i,a,s){ne(this,e),on(this,Xy),ln(this,Oy,{writable:!0,value:new Float64Array(6)}),ln(this,Fy,{writable:!0,value:void 0}),ln(this,Wy,{writable:!0,value:void 0}),ln(this,jy,{writable:!0,value:void 0}),ln(this,zy,{writable:!0,value:void 0}),ln(this,By,{writable:!0,value:void 0}),ln(this,Uy,{writable:!0,value:""}),ln(this,Hy,{writable:!0,value:0}),ln(this,Vy,{writable:!0,value:new ub}),ln(this,Gy,{writable:!0,value:void 0}),ln(this,qy,{writable:!0,value:void 0}),fn(this,Gy,r),fn(this,qy,i),fn(this,jy,a),fn(this,zy,s);var o=d(un(this,Xy,Ky).call(this,t,n),2);t=o[0],n=o[1];var l=fn(this,Fy,[NaN,NaN,NaN,NaN,t,n]);fn(this,By,[t,n]),fn(this,Wy,[{line:l,points:hn(this,By)}]),hn(this,Oy).set(l,0)}return ie(e,[{key:"updateProperty",value:function(e,t){"stroke-width"===e&&fn(this,zy,t)}},{key:"isEmpty",value:function(){return!hn(this,Wy)||0===hn(this,Wy).length}},{key:"isCancellable",value:function(){return hn(this,By).length<=10}},{key:"add",value:function(e,t){var n,r=d(un(this,Xy,Ky).call(this,e,t),2);e=r[0],t=r[1];var i=d(hn(this,Oy).subarray(2,6),4),a=i[0],s=i[1],o=i[2],l=i[3],u=e-o,c=t-l;return Math.hypot(hn(this,Gy)*u,hn(this,qy)*c)<=2?null:(hn(this,By).push(e,t),isNaN(a)?(hn(this,Oy).set([o,l,e,t],2),hn(this,Fy).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(hn(this,Oy)[0])&&hn(this,Fy).splice(6,6),hn(this,Oy).set([a,s,o,l,e,t],0),(n=hn(this,Fy)).push.apply(n,et(Op.createBezierPoints(a,s,o,l,e,t))),{path:{d:this.toSVGPath()}}))}},{key:"end",value:function(e,t){var n=this.add(e,t);return n||(2===hn(this,By).length?{path:{d:this.toSVGPath()}}:null)}},{key:"startNew",value:function(e,t,n,r,i){fn(this,Gy,n),fn(this,qy,r),fn(this,jy,i);var a=d(un(this,Xy,Ky).call(this,e,t),2);e=a[0],t=a[1];var s=fn(this,Fy,[NaN,NaN,NaN,NaN,e,t]);fn(this,By,[e,t]);var o=hn(this,Wy).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),hn(this,Wy).push({line:s,points:hn(this,By)}),hn(this,Oy).set(s,0),fn(this,Hy,0),this.toSVGPath(),null}},{key:"getLastElement",value:function(){return hn(this,Wy).at(-1)}},{key:"setLastElement",value:function(e){return hn(this,Wy)?(hn(this,Wy).push(e),fn(this,Fy,e.line),fn(this,By,e.points),fn(this,Hy,0),{path:{d:this.toSVGPath()}}):hn(this,Vy).setLastElement(e)}},{key:"removeLastElement",value:function(){if(!hn(this,Wy))return hn(this,Vy).removeLastElement();hn(this,Wy).pop(),fn(this,Uy,"");for(var e=0,t=hn(this,Wy).length;e<t;e++){var n=hn(this,Wy)[e],r=n.line,i=n.points;fn(this,Fy,r),fn(this,By,i),fn(this,Hy,0),this.toSVGPath()}return{path:{d:hn(this,Uy)}}}},{key:"toSVGPath",value:function(){var e=Op.svgRound(hn(this,Fy)[4]),t=Op.svgRound(hn(this,Fy)[5]);if(2===hn(this,By).length)return fn(this,Uy,"".concat(hn(this,Uy)," M ").concat(e," ").concat(t," Z")),hn(this,Uy);if(hn(this,By).length<=6){var n=hn(this,Uy).lastIndexOf("M");fn(this,Uy,"".concat(hn(this,Uy).slice(0,n)," M ").concat(e," ").concat(t)),fn(this,Hy,6)}if(4===hn(this,By).length){var r=Op.svgRound(hn(this,Fy)[10]),i=Op.svgRound(hn(this,Fy)[11]);return fn(this,Uy,"".concat(hn(this,Uy)," L ").concat(r," ").concat(i)),fn(this,Hy,12),hn(this,Uy)}var a=[];0===hn(this,Hy)&&(a.push("M ".concat(e," ").concat(t)),fn(this,Hy,6));for(var s=hn(this,Hy),o=hn(this,Fy).length;s<o;s+=6){var l=d(hn(this,Fy).slice(s,s+6).map(Op.svgRound),6),u=l[0],c=l[1],h=l[2],f=l[3],v=l[4],p=l[5];a.push("C".concat(u," ").concat(c," ").concat(h," ").concat(f," ").concat(v," ").concat(p))}return fn(this,Uy,hn(this,Uy)+a.join(" ")),fn(this,Hy,hn(this,Fy).length),hn(this,Uy)}},{key:"getOutlines",value:function(e,t,n,r){var i=hn(this,Wy).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),hn(this,Vy).build(hn(this,Wy),e,t,n,hn(this,jy),hn(this,zy),r),fn(this,Oy,null),fn(this,Fy,null),fn(this,Wy,null),fn(this,Uy,null),hn(this,Vy)}},{key:"defaultSVGProperties",get:function(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}]),e}();function Ky(e,t){return Op._normalizePoint(e,t,hn(this,Gy),hn(this,qy),hn(this,jy))}var Qy=new WeakMap,$y=new WeakMap,Jy=new WeakMap,Zy=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,ib=new WeakMap,ab=new WeakSet,sb=new WeakSet,ob=new WeakSet,lb=new WeakSet,ub=function(e){wn(n,e);var t=xn(n);function n(){var e;ne(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return on(an(e=t.call.apply(t,[this].concat(i))),lb),on(an(e),ob),on(an(e),sb),on(an(e),ab),ln(an(e),Qy,{writable:!0,value:void 0}),ln(an(e),$y,{writable:!0,value:0}),ln(an(e),Jy,{writable:!0,value:void 0}),ln(an(e),Zy,{writable:!0,value:void 0}),ln(an(e),eb,{writable:!0,value:void 0}),ln(an(e),tb,{writable:!0,value:void 0}),ln(an(e),nb,{writable:!0,value:void 0}),ln(an(e),rb,{writable:!0,value:void 0}),ln(an(e),ib,{writable:!0,value:void 0}),e}return ie(n,[{key:"build",value:function(e,t,n,r,i,a,s){fn(this,eb,t),fn(this,tb,n),fn(this,nb,r),fn(this,rb,i),fn(this,ib,a),fn(this,Jy,null!==s&&void 0!==s?s:0),fn(this,Zy,e),un(this,ob,db).call(this)}},{key:"setLastElement",value:function(e){return hn(this,Zy).push(e),{path:{d:this.toSVGPath()}}}},{key:"removeLastElement",value:function(){return hn(this,Zy).pop(),{path:{d:this.toSVGPath()}}}},{key:"toSVGPath",value:function(){var e,t=[],n=De(hn(this,Zy));try{for(n.s();!(e=n.n()).done;){var r=e.value.line;if(t.push("M".concat(Op.svgRound(r[4])," ").concat(Op.svgRound(r[5]))),6!==r.length)if(12!==r.length)for(var i=6,a=r.length;i<a;i+=6){var s=d(r.subarray(i,i+6).map(Op.svgRound),6),o=s[0],l=s[1],u=s[2],c=s[3],h=s[4],f=s[5];t.push("C".concat(o," ").concat(l," ").concat(u," ").concat(c," ").concat(h," ").concat(f))}else t.push("L".concat(Op.svgRound(r[10])," ").concat(Op.svgRound(r[11])));else t.push("Z")}}catch(v){n.e(v)}finally{n.f()}return t.join("")}},{key:"serialize",value:function(e,t){var n,r,i,a,s,o,l,u,c,h=d(e,4),f=h[0],v=h[1],p=h[2],g=h[3],m=[],y=[],b=d(un(this,sb,hb).call(this),4),w=b[0],k=b[1],x=b[2],_=b[3];switch(hn(this,rb)){case 0:c=Op._rescale,n=f,r=v+g,i=p,a=-g,s=f+w*p,o=v+(1-k-_)*g,l=f+(w+x)*p,u=v+(1-k)*g;break;case 90:c=Op._rescaleAndSwap,n=f,r=v,i=p,a=g,s=f+k*p,o=v+w*g,l=f+(k+_)*p,u=v+(w+x)*g;break;case 180:c=Op._rescale,n=f+p,r=v,i=-p,a=g,s=f+(1-w-x)*p,o=v+k*g,l=f+(1-w)*p,u=v+(k+_)*g;break;case 270:c=Op._rescaleAndSwap,n=f+p,r=v+g,i=-p,a=-g,s=f+(1-k-_)*p,o=v+(1-w-x)*g,l=f+(1-k)*p,u=v+(1-w)*g}var A,S=De(hn(this,Zy));try{for(S.s();!(A=S.n()).done;){var E=A.value,C=E.line,M=E.points;m.push(c(C,n,r,i,a,t?new Array(C.length):null)),y.push(c(M,n,r,i,a,t?new Array(M.length):null))}}catch(T){S.e(T)}finally{S.f()}return{lines:m,points:y,rect:[s,o,l,u]}}},{key:"box",get:function(){return hn(this,Qy)}},{key:"updateProperty",value:function(e,t){return"stroke-width"===e?un(this,lb,fb).call(this,t):null}},{key:"updateParentDimensions",value:function(e,t){var n=d(e,2),r=n[0],i=n[1],a=d(un(this,ab,cb).call(this),2),s=a[0],o=a[1];fn(this,eb,r),fn(this,tb,i),fn(this,nb,t);var l=d(un(this,ab,cb).call(this),2),u=l[0]-s,c=l[1]-o,h=hn(this,Qy);return h[0]-=u,h[1]-=c,h[2]+=2*u,h[3]+=2*c,h}},{key:"updateRotation",value:function(e){return fn(this,$y,e),{path:{transform:this.rotationTransform}}}},{key:"viewBox",get:function(){return hn(this,Qy).map(Op.svgRound).join(" ")}},{key:"defaultProperties",get:function(){var e=d(hn(this,Qy),2),t=e[0],n=e[1];return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Op.svgRound(t)," ").concat(Op.svgRound(n))}}}},{key:"rotationTransform",get:function(){var e=d(hn(this,Qy),4),t=e[2],n=e[3],r=0,i=0,a=0,s=0,o=0,l=0;switch(hn(this,$y)){case 90:i=n/t,a=-t/n,o=t;break;case 180:r=-1,s=-1,o=t,l=n;break;case 270:i=-n/t,a=t/n,l=n;break;default:return""}return"matrix(".concat(r," ").concat(i," ").concat(a," ").concat(s," ").concat(Op.svgRound(o)," ").concat(Op.svgRound(l),")")}},{key:"getPathResizingSVGProperties",value:function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=d(un(this,ab,cb).call(this),2),o=s[0],l=s[1],u=d(hn(this,Qy),4),c=u[0],h=u[1],f=u[2],v=u[3];if(Math.abs(f-o)<=Op.PRECISION||Math.abs(v-l)<=Op.PRECISION){var p=n+i/2-(c+f/2),g=r+a/2-(h+v/2);return{path:{"transform-origin":"".concat(Op.svgRound(n)," ").concat(Op.svgRound(r)),transform:"".concat(this.rotationTransform," translate(").concat(p," ").concat(g,")")}}}var m=(i-2*o)/(f-2*o),y=(a-2*l)/(v-2*l),b=f/i,w=v/a;return{path:{"transform-origin":"".concat(Op.svgRound(c)," ").concat(Op.svgRound(h)),transform:"".concat(this.rotationTransform," scale(").concat(b," ").concat(w,") ")+"translate(".concat(Op.svgRound(o)," ").concat(Op.svgRound(l),") scale(").concat(m," ").concat(y,") ")+"translate(".concat(Op.svgRound(-o)," ").concat(Op.svgRound(-l),")")}}}},{key:"getPathResizedSVGProperties",value:function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=d(un(this,ab,cb).call(this),2),o=s[0],l=s[1],u=hn(this,Qy),c=d(u,4),h=c[0],f=c[1],v=c[2],p=c[3];if(u[0]=n,u[1]=r,u[2]=i,u[3]=a,Math.abs(v-o)<=Op.PRECISION||Math.abs(p-l)<=Op.PRECISION){var g,m=n+i/2-(h+v/2),y=r+a/2-(f+p/2),b=De(hn(this,Zy));try{for(b.s();!(g=b.n()).done;){var w=g.value,k=w.line,x=w.points;Op._translate(k,m,y,k),Op._translate(x,m,y,x)}}catch(L){b.e(L)}finally{b.f()}return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Op.svgRound(n)," ").concat(Op.svgRound(r)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}var _=(i-2*o)/(v-2*o),A=(a-2*l)/(p-2*l),S=-_*(h+o)+n+o,E=-A*(f+l)+r+l;if(1!==_||1!==A||0!==S||0!==E){var C,M=De(hn(this,Zy));try{for(M.s();!(C=M.n()).done;){var T=C.value,P=T.line,R=T.points;Op._rescale(P,S,E,_,A,P),Op._rescale(R,S,E,_,A,R)}}catch(L){M.e(L)}finally{M.f()}}return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Op.svgRound(n)," ").concat(Op.svgRound(r)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}},{key:"getPathTranslatedSVGProperties",value:function(e,t){var n=d(e,2),r=n[0],i=n[1],a=d(t,2),s=a[0],o=a[1],l=hn(this,Qy),u=r-l[0],c=i-l[1];if(hn(this,eb)===s&&hn(this,tb)===o){var h,f=De(hn(this,Zy));try{for(f.s();!(h=f.n()).done;){var v=h.value,p=v.line,g=v.points;Op._translate(p,u,c,p),Op._translate(g,u,c,g)}}catch(A){f.e(A)}finally{f.f()}}else{var m=hn(this,eb)/s,y=hn(this,tb)/o;fn(this,eb,s),fn(this,tb,o);var b,w=De(hn(this,Zy));try{for(w.s();!(b=w.n()).done;){var k=b.value,x=k.line,_=k.points;Op._rescale(x,u,c,m,y,x),Op._rescale(_,u,c,m,y,_)}}catch(A){w.e(A)}finally{w.f()}l[2]*=m,l[3]*=y}return l[0]=r,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(Op.svgRound(r)," ").concat(Op.svgRound(i))}}}},{key:"defaultSVGProperties",get:function(){var e=hn(this,Qy);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(Op.svgRound(e[0])," ").concat(Op.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}],[{key:"deserialize",value:function(e,t,r,i,a,s){var o,l,u,c,h,f=s.paths,v=f.lines,p=f.points,g=s.rotation,m=s.thickness,y=[];switch(g){case 0:h=Op._rescale,o=-e/r,l=t/i+1,u=1/r,c=-1/i;break;case 90:h=Op._rescaleAndSwap,o=-t/i,l=-e/r,u=1/i,c=1/r;break;case 180:h=Op._rescale,o=e/r+1,l=-t/i,u=-1/r,c=1/i;break;case 270:h=Op._rescaleAndSwap,o=t/i+1,l=e/r+1,u=-1/i,c=-1/r}if(!v){v=[];var b,w=De(p);try{for(w.s();!(b=w.n()).done;){var k=b.value,x=k.length;if(2!==x)if(4!==x){var _=new Float32Array(3*(x-2));v.push(_);var A=d(k.subarray(0,4),4),S=A[0],E=A[1],C=A[2],M=A[3];_.set([NaN,NaN,NaN,NaN,S,E],0);for(var T=4;T<x;T+=2){var P=k[T],R=k[T+1];_.set(Op.createBezierPoints(S,E,C,M,P,R),3*(T-2));var L=[C,M,P,R];S=L[0],E=L[1],C=L[2],M=L[3]}}else v.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1],NaN,NaN,NaN,NaN,k[2],k[3]]));else v.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1]]))}}catch(O){w.e(O)}finally{w.f()}}for(var N=0,I=v.length;N<I;N++)y.push({line:h(v[N].map((function(e){return null!==e&&void 0!==e?e:NaN})),o,l,u,c),points:h(p[N].map((function(e){return null!==e&&void 0!==e?e:NaN})),o,l,u,c)});var D=new n;return D.build(y,r,i,1,g,m,a),D}}]),n}(Op);function cb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(this,ib),t=hn(this,Jy)+e/2*hn(this,nb);return hn(this,rb)%180===0?[t/hn(this,eb),t/hn(this,tb)]:[t/hn(this,tb),t/hn(this,eb)]}function hb(){var e=d(hn(this,Qy),4),t=e[0],n=e[1],r=e[2],i=e[3],a=d(un(this,ab,cb).call(this,0),2),s=a[0],o=a[1];return[t+s,n+o,r-2*s,i-2*o]}function db(){var e,t=fn(this,Qy,new Float32Array([1/0,1/0,-1/0,-1/0])),n=De(hn(this,Zy));try{for(n.s();!(e=n.n()).done;){var r=e.value.line;if(r.length<=12)for(var i=4,a=r.length;i<a;i+=6){var s=d(r.subarray(i,i+2),2),o=s[0],l=s[1];t[0]=Math.min(t[0],o),t[1]=Math.min(t[1],l),t[2]=Math.max(t[2],o),t[3]=Math.max(t[3],l)}else for(var u=r[4],c=r[5],h=6,f=r.length;h<f;h+=6){var v=d(r.subarray(h,h+6),6),p=v[0],g=v[1],m=v[2],y=v[3],b=v[4],w=v[5];Hr.bezierBoundingBox(u,c,p,g,m,y,b,w,t),u=b,c=w}}}catch(A){n.e(A)}finally{n.f()}var k=d(un(this,ab,cb).call(this),2),x=k[0],_=k[1];t[0]=Math.min(1,Math.max(0,t[0]-x)),t[1]=Math.min(1,Math.max(0,t[1]-_)),t[2]=Math.min(1,Math.max(0,t[2]+x)),t[3]=Math.min(1,Math.max(0,t[3]+_)),t[2]-=t[0],t[3]-=t[1]}function fb(e){var t=d(un(this,ab,cb).call(this),2),n=t[0],r=t[1];fn(this,ib,e);var i=d(un(this,ab,cb).call(this),2),a=i[0]-n,s=i[1]-r,o=hn(this,Qy);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o}var vb=new WeakMap,pb=function(e){wn(n,e);var t=xn(n);function n(e){var r,i;return ne(this,n),ln(an(i=t.call(this)),vb,{writable:!0,value:void 0}),fn(an(i),vb,e),rn((r=an(i),tn(n.prototype)),"updateProperties",r).call(r,{fill:"none",stroke:ml._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10}),i}return ie(n,[{key:"updateSVGProperty",value:function(e,t){var r;"stroke-width"===e&&(null!==(r=t)&&void 0!==r||(t=this["stroke-width"]),t*=hn(this,vb).realScale);rn(tn(n.prototype),"updateSVGProperty",this).call(this,e,t)}},{key:"clone",value:function(){var e=new n(hn(this,vb));return e.updateAll(this),e}}]),n}(uy),gb=new WeakSet,mb=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,Ae(Ae({},e),{},{name:"inkEditor"}))),gb),r._willKeepAspectRatio=!0,r}return ie(n,[{key:"onScaleChanging",value:function(){if(this.parent){rn(tn(n.prototype),"onScaleChanging",this).call(this);var e=this._drawId,t=this._drawingOptions,r=this.parent;t.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,t.toSVGProperties())}}},{key:"createDrawingOptions",value:function(e){var t=e.color,r=e.thickness,i=e.opacity;this._drawingOptions=n.getDefaultDrawingOptions({stroke:Hr.makeHexColor.apply(Hr,et(t)),"stroke-width":r,"stroke-opacity":i})}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();var t=this.serializeDraw(e),n=t.lines,r=t.points,i=t.rect,a=this._drawingOptions,s=a.stroke,o=a["stroke-opacity"],l=a["stroke-width"],u={annotationType:Wn.INK,color:ml._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!un(this,gb,yb).call(this,u)?null:(u.id=this.annotationElementId,u)}},{key:"renderAnnotationElement",value:function(e){var t=this.serializeDraw(!1),n=t.points,r=t.rect;return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}}],[{key:"initialize",value:function(e,t){ml.initialize(e,t),this._defaultDrawingOptions=new pb(t.viewParameters)}},{key:"getDefaultDrawingOptions",value:function(e){var t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}},{key:"supportMultipleDrawings",get:function(){return!0}},{key:"typesMap",get:function(){return Tr(this,"typesMap",new Map([[jn.INK_THICKNESS,"stroke-width"],[jn.INK_COLOR,"stroke"],[jn.INK_OPACITY,"stroke-opacity"]]))}},{key:"createDrawerInstance",value:function(e,t,n,r,i){return new Yy(e,t,n,r,i,this._defaultDrawingOptions["stroke-width"])}},{key:"deserializeDraw",value:function(e,t,n,r,i,a){return ub.deserialize(e,t,n,r,i,a)}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,r,i){var s,o,l,u,c,h,d,f,v,p,g,m,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,t instanceof qv&&(l=(o=t).data,u=l.inkLists,c=l.rect,h=l.rotation,d=l.id,f=l.color,v=l.opacity,p=l.borderStyle.rawWidth,g=l.popupRef,m=o.parent.page.pageNumber,s=t={annotationType:Wn.INK,color:Array.from(f),thickness:p,opacity:v,paths:{points:u},boxes:null,pageIndex:m-1,rect:c.slice(0),rotation:h,id:d,deleted:!1,popupRef:g}),e.next=4,rn(tn(n),"deserialize",this).call(this,t,r,i);case 4:return(y=e.sent).annotationElementId=t.id||null,y._initialData=s,e.abrupt("return",y);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onScaleChangingWhenDrawing",value:function(){var e=this._currentParent;e&&(rn(tn(n),"onScaleChangingWhenDrawing",this).call(this),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}}]),n}(wy);function yb(e){var t=this._initialData,n=t.color,r=t.thickness,i=t.opacity,a=t.pageIndex;return this._hasBeenMoved||this._hasBeenResized||e.color.some((function(e,t){return e!==n[t]}))||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}xe(mb,"_type","ink"),xe(mb,"_editorType",Wn.INK),xe(mb,"_defaultDrawingOptions",null);var bb=new WeakMap,wb=new WeakMap,kb=new WeakMap,xb=new WeakMap,_b=new WeakMap,Ab=new WeakMap,Sb=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Tb=new WeakSet,Pb=new WeakSet,Rb=new WeakSet,Lb=new WeakSet,Nb=new WeakSet,Ib=new WeakSet,Db=new WeakSet,Ob=new WeakSet,Fb=function(e){wn(n,e);var t=xn(n);function n(e){var r;return ne(this,n),on(an(r=t.call(this,Ae(Ae({},e),{},{name:"stampEditor"}))),Ob),on(an(r),Db),on(an(r),Ib),on(an(r),Nb),on(an(r),Lb),on(an(r),Rb),on(an(r),Pb),on(an(r),Tb),ln(an(r),bb,{writable:!0,value:null}),ln(an(r),wb,{writable:!0,value:null}),ln(an(r),kb,{writable:!0,value:null}),ln(an(r),xb,{writable:!0,value:null}),ln(an(r),_b,{writable:!0,value:null}),ln(an(r),Ab,{writable:!0,value:""}),ln(an(r),Sb,{writable:!0,value:null}),ln(an(r),Eb,{writable:!0,value:null}),ln(an(r),Cb,{writable:!0,value:!1}),ln(an(r),Mb,{writable:!0,value:!1}),fn(an(r),xb,e.bitmapUrl),fn(an(r),_b,e.bitmapFile),r}return ie(n,[{key:"altTextFinish",value:function(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),rn(tn(n.prototype),"altTextFinish",this).call(this)}},{key:"telemetryFinalData",get:function(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}},{key:"mlGuessAltText",value:function(){var e=o(a().mark((function e(){var t,n,r,i,s,o,l,u,c,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:null,n=!(h.length>1&&void 0!==h[1])||h[1],!this.hasAltTextData()){e.next=4;break}return e.abrupt("return",null);case 4:if(r=this._uiManager.mlManager){e.next=7;break}throw new Error("No ML.");case 7:return e.next=9,r.isEnabledFor("altText");case 9:if(e.sent){e.next=11;break}throw new Error("ML isn't enabled for alt text.");case 11:return i=t||this.copyCanvas(null,null,!0).imageData,s=i.data,o=i.width,l=i.height,e.next=14,r.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});case 14:if(u=e.sent){e.next=17;break}throw new Error("No response from the AI service.");case 17:if(!u.error){e.next=19;break}throw new Error("Error from the AI service.");case 19:if(!u.cancel){e.next=21;break}return e.abrupt("return",null);case 21:if(u.output){e.next=23;break}throw new Error("No valid response from the AI service.");case 23:return c=u.output,e.next=26,this.setGuessedAltText(c);case 26:return n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),e.abrupt("return",c);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e;hn(this,wb)&&(fn(this,bb,null),this._uiManager.imageManager.deleteId(hn(this,wb)),null===(e=hn(this,Sb))||void 0===e||e.remove(),fn(this,Sb,null),hn(this,Eb)&&(clearTimeout(hn(this,Eb)),fn(this,Eb,null)));rn(tn(n.prototype),"remove",this).call(this)}},{key:"rebuild",value:function(){this.parent?(rn(tn(n.prototype),"rebuild",this).call(this),null!==this.div&&(hn(this,wb)&&null===hn(this,Sb)&&un(this,Rb,zb).call(this),this.isAttachedToDOM||this.parent.add(this))):hn(this,wb)&&un(this,Rb,zb).call(this)}},{key:"onceAdded",value:function(e){this._isDraggable=!0,e&&this.div.focus()}},{key:"isEmpty",value:function(){return!(hn(this,kb)||hn(this,bb)||hn(this,xb)||hn(this,_b)||hn(this,wb))}},{key:"isResizable",get:function(){return!0}},{key:"render",value:function(){if(this.div)return this.div;var e,t;if(this.width&&(e=this.x,t=this.y),rn(tn(n.prototype),"render",this).call(this),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),hn(this,bb)?un(this,Lb,Bb).call(this):un(this,Rb,zb).call(this),this.width&&!this.annotationElementId){var r=d(this.parentDimensions,2),i=r[0],a=r[1];this.setAt(e*i,t*a,this.width*i,this.height*a)}return this._uiManager.addShouldRescale(this),this.div}},{key:"_onResized",value:function(){this.onScaleChanging()}},{key:"onScaleChanging",value:function(){var e=this;if(this.parent){null!==hn(this,Eb)&&clearTimeout(hn(this,Eb));fn(this,Eb,setTimeout((function(){fn(e,Eb,null),un(e,Ib,Hb).call(e)}),200))}}},{key:"copyCanvas",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);var r=hn(this,bb),i=r.width,a=r.height,s=new bi,o=hn(this,bb),l=i,u=a,c=null;if(t){var h,d;if(i>t||a>t){var f=Math.min(t/i,t/a);l=Math.floor(i*f),u=Math.floor(a*f)}var v=(c=document.createElement("canvas")).width=Math.ceil(l*s.sx),p=c.height=Math.ceil(u*s.sy);hn(this,Cb)||(o=un(this,Nb,Ub).call(this,v,p));var g=c.getContext("2d");g.filter=this._uiManager.hcmFilter;var m="white",y="#cfcfd8";"none"!==this._uiManager.hcmFilter?y="black":null!==(h=(d=window).matchMedia)&&void 0!==h&&h.call(d,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",y="#42414d");var b=15,w=b*s.sx,k=b*s.sy,x=new OffscreenCanvas(2*w,2*k),_=x.getContext("2d");_.fillStyle=m,_.fillRect(0,0,2*w,2*k),_.fillStyle=y,_.fillRect(0,0,w,k),_.fillRect(w,k,w,k),g.fillStyle=g.createPattern(x,"repeat"),g.fillRect(0,0,v,p),g.drawImage(o,0,0,o.width,o.height,0,0,v,p)}var A=null;if(n){var S,E;if(s.symmetric&&o.width<e&&o.height<e)S=o.width,E=o.height;else if(o=hn(this,bb),i>e||a>e){var C=Math.min(e/i,e/a);S=Math.floor(i*C),E=Math.floor(a*C),hn(this,Cb)||(o=un(this,Nb,Ub).call(this,S,E))}var M=new OffscreenCanvas(S,E),T=M.getContext("2d",{willReadFrequently:!0});T.drawImage(o,0,0,o.width,o.height,0,0,S,E),A={width:S,height:E,data:T.getImageData(0,0,S,E).data}}return{canvas:c,width:l,height:u,imageData:A}}},{key:"getImageForAltText",value:function(){return hn(this,Sb)}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();var n={annotationType:Wn.STAMP,bitmapId:hn(this,wb),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:hn(this,Cb),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=un(this,Db,Vb).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;var r=this.serializeAltText(!1),i=r.decorative,a=r.altText;if(!i&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){var s,o=un(this,Ob,Gb).call(this,n);if(o.isSame)return null;if(o.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(s=this._initialData.structParent)&&void 0!==s?s:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);var l=hn(this,Cb)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(hn(this,wb))){if(hn(this,Cb)){var u=t.stamps.get(hn(this,wb));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=un(this,Db,Vb).call(this,!1))}}else t.stamps.set(hn(this,wb),{area:l,serialized:n}),n.bitmap=un(this,Db,Vb).call(this,!1);return n}},{key:"renderAnnotationElement",value:function(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}],[{key:"initialize",value:function(e,t){ml.initialize(e,t)}},{key:"supportedTypes",get:function(){return Tr(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((function(e){return"image/".concat(e)})))}},{key:"supportedTypesStr",get:function(){return Tr(this,"supportedTypesStr",this.supportedTypes.join(","))}},{key:"isHandlingMimeForPasting",value:function(e){return this.supportedTypes.includes(e)}},{key:"paste",value:function(e,t){t.pasteEditor(Wn.STAMP,{bitmapFile:e.getAsFile()})}},{key:"computeTelemetryFinalData",value:function(e){var t,n,r=e.get("hasAltText");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}},{key:"deserialize",value:function(){var e=o(a().mark((function e(t,r,i){var s,o,l,u,c,h,f,v,p,g,m,y,b,w,k,x,_,A,S,E,C,M,T,P,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,!(t instanceof Jv)){e.next=22;break}return u=(l=t).data,c=u.rect,h=u.rotation,f=u.id,v=u.structParent,p=u.popupRef,g=l.container,m=l.parent.page.pageNumber,y=g.querySelector("canvas"),b=i.imageManager.getFromCanvas(g.id,y),y.remove(),e.next=8,r._structTree.getAriaAttributes("".concat($r).concat(f));case 8:if(e.t2=o=e.sent,e.t1=null===e.t2,e.t1){e.next=12;break}e.t1=void 0===o;case 12:if(!e.t1){e.next=16;break}e.t3=void 0,e.next=17;break;case 16:e.t3=o.get("aria-label");case 17:if(e.t0=e.t3,e.t0){e.next=20;break}e.t0="";case 20:w=e.t0,s=t={annotationType:Wn.STAMP,bitmapId:b.id,bitmap:b.bitmap,pageIndex:m-1,rect:c.slice(0),rotation:h,id:f,deleted:!1,accessibilityData:{decorative:!1,altText:w},isSvg:!1,structParent:v,popupRef:p};case 22:return e.next=24,rn(tn(n),"deserialize",this).call(this,t,r,i);case 24:return k=e.sent,_=(x=t).rect,A=x.bitmap,S=x.bitmapUrl,E=x.bitmapId,C=x.isSvg,M=x.accessibilityData,E&&i.imageManager.isValidId(E)?(fn(k,wb,E),A&&fn(k,bb,A)):fn(k,xb,S),fn(k,Cb,C),T=d(k.pageDimensions,2),P=T[0],R=T[1],k.width=(_[2]-_[0])/P,k.height=(_[3]-_[1])/R,k.annotationElementId=t.id||null,M&&(k.altTextData=M),k._initialData=s,fn(k,Mb,!!s),e.abrupt("return",k);case 36:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(ml);function Wb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(fn(this,bb,e.bitmap),t||(fn(this,wb,e.id),fn(this,Cb,e.isSvg)),e.file&&fn(this,Ab,e.file.name),un(this,Lb,Bb).call(this)):this.remove()}function jb(){if(fn(this,kb,null),this._uiManager.enableWaiting(!1),hn(this,Sb)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&hn(this,bb))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&hn(this,bb)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function zb(){var e=this;if(hn(this,wb))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(hn(this,wb)).then((function(t){return un(e,Tb,Wb).call(e,t,!0)})).finally((function(){return un(e,Pb,jb).call(e)}));if(hn(this,xb)){var t=hn(this,xb);return fn(this,xb,null),this._uiManager.enableWaiting(!0),void fn(this,kb,this._uiManager.imageManager.getFromUrl(t).then((function(t){return un(e,Tb,Wb).call(e,t)})).finally((function(){return un(e,Pb,jb).call(e)})))}if(hn(this,_b)){var n=hn(this,_b);return fn(this,_b,null),this._uiManager.enableWaiting(!0),void fn(this,kb,this._uiManager.imageManager.getFromFile(n).then((function(t){return un(e,Tb,Wb).call(e,t)})).finally((function(){return un(e,Pb,jb).call(e)})))}var r=document.createElement("input");r.type="file",r.accept=Fb.supportedTypesStr;var i=this._uiManager._signal;fn(this,kb,new Promise((function(t){r.addEventListener("change",o(a().mark((function n(){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.files&&0!==r.files.length){n.next=4;break}e.remove(),n.next=10;break;case 4:return e._uiManager.enableWaiting(!0),n.next=7,e._uiManager.imageManager.getFromFile(r.files[0]);case 7:i=n.sent,e._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:e._uiManager.useNewAltTextFlow}}),un(e,Tb,Wb).call(e,i);case 10:t();case 11:case"end":return n.stop()}}),n)}))),{signal:i}),r.addEventListener("cancel",(function(){e.remove(),t()}),{signal:i})})).finally((function(){return un(e,Pb,jb).call(e)}))),r.click()}function Bb(){var e,t=this.div,n=hn(this,bb),r=n.width,i=n.height,a=d(this.pageDimensions,2),s=a[0],o=a[1],l=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>l*s||i>l*o){var u=Math.min(l*s/r,l*o/i);r*=u,i*=u}var c=d(this.parentDimensions,2),h=c[0],f=c[1];this.setDims(r*h/s,i*f/o),this._uiManager.enableWaiting(!1);var v=fn(this,Sb,document.createElement("canvas"));v.setAttribute("role","img"),this.addContainer(v),this.width=r/s,this.height=i/o,null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),un(this,Ib,Hb).call(this),hn(this,Mb)||(this.parent.addUndoableEditor(this),fn(this,Mb,!0)),this._reportTelemetry({action:"inserted_image"}),hn(this,Ab)&&v.setAttribute("aria-label",hn(this,Ab))}function Ub(e,t){for(var n=hn(this,bb),r=n.width,i=n.height,a=hn(this,bb);r>2*e||i>2*t;){var s=r,o=i;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));var l=new OffscreenCanvas(r,i);l.getContext("2d").drawImage(a,0,0,s,o,0,0,r,i),a=l.transferToImageBitmap()}return a}function Hb(){var e=d(this.parentDimensions,2),t=e[0],n=e[1],r=this.width,i=this.height,a=new bi,s=Math.ceil(r*t*a.sx),o=Math.ceil(i*n*a.sy),l=hn(this,Sb);if(l&&(l.width!==s||l.height!==o)){l.width=s,l.height=o;var u=hn(this,Cb)?hn(this,bb):un(this,Nb,Ub).call(this,s,o),c=l.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(u,0,0,u.width,u.height,0,0,s,o)}}function Vb(e){if(e){if(hn(this,Cb)){var t=this._uiManager.imageManager.getSvgUrl(hn(this,wb));if(t)return t}var n=document.createElement("canvas"),r=hn(this,bb);return n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(hn(this,bb),0,0),n.toDataURL()}if(hn(this,Cb)){var i=d(this.pageDimensions,2),a=i[0],s=i[1],o=Math.round(this.width*a*Zr.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Zr.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,l);return u.getContext("2d").drawImage(hn(this,bb),0,0,hn(this,bb).width,hn(this,bb).height,0,0,o,l),u.transferToImageBitmap()}return structuredClone(hn(this,bb))}function Gb(e){var t,n=this._initialData,r=n.pageIndex,i=n.accessibilityData.altText,a=e.pageIndex===r,s=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}xe(Fb,"_type","stamp"),xe(Fb,"_editorType",Wn.STAMP);var qb=new WeakMap,Xb=new WeakMap,Yb=new WeakMap,Kb=new WeakMap,Qb=new WeakMap,$b=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,ew=new WeakMap,tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,iw=new WeakMap,aw=new WeakMap,sw=new WeakSet,ow=new WeakMap,lw=new WeakSet,uw=new WeakSet,cw=new WeakSet,hw=function(){function e(t){var n=t.uiManager,r=t.pageIndex,i=t.div,a=t.structTreeLayer,s=t.accessibilityManager,o=t.annotationLayer,l=t.drawLayer,u=t.textLayer,c=t.viewport,h=t.l10n;ne(this,e),on(this,cw),on(this,uw),on(this,lw),ln(this,ow,{get:fw,set:void 0}),on(this,sw),ln(this,qb,{writable:!0,value:void 0}),ln(this,Xb,{writable:!0,value:!1}),ln(this,Yb,{writable:!0,value:null}),ln(this,Kb,{writable:!0,value:null}),ln(this,Qb,{writable:!0,value:null}),ln(this,$b,{writable:!0,value:new Map}),ln(this,Jb,{writable:!0,value:!1}),ln(this,Zb,{writable:!0,value:!1}),ln(this,ew,{writable:!0,value:!1}),ln(this,tw,{writable:!0,value:null}),ln(this,nw,{writable:!0,value:null}),ln(this,rw,{writable:!0,value:null}),ln(this,iw,{writable:!0,value:null}),ln(this,aw,{writable:!0,value:void 0});var d=et(mn(e,e,mw).values());if(!e._initialized){e._initialized=!0;var f,v=De(d);try{for(v.s();!(f=v.n()).done;){f.value.initialize(h,n)}}catch(p){v.e(p)}finally{v.f()}}n.registerEditorTypes(d),fn(this,aw,n),this.pageIndex=r,this.div=i,fn(this,qb,s),fn(this,Yb,o),this.viewport=c,fn(this,rw,u),this.drawLayer=l,this._structTree=a,hn(this,aw).addLayer(this)}return ie(e,[{key:"isEmpty",get:function(){return 0===hn(this,$b).size}},{key:"isInvisible",get:function(){return this.isEmpty&&hn(this,aw).getMode()===Wn.NONE}},{key:"updateToolbar",value:function(e){hn(this,aw).updateToolbar(e)}},{key:"updateMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(this,aw).getMode();switch(un(this,cw,gw).call(this),t){case Wn.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Wn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Wn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var n,r=this.div.classList,i=De(mn(e,e,mw).values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r.toggle("".concat(a._type,"Editing"),t===a._editorType)}}catch(s){i.e(s)}finally{i.f()}this.div.hidden=!1}},{key:"hasTextLayer",value:function(e){var t;return e===(null===(t=hn(this,rw))||void 0===t?void 0:t.div)}},{key:"setEditingState",value:function(e){hn(this,aw).setEditingState(e)}},{key:"addCommands",value:function(e){hn(this,aw).addCommands(e)}},{key:"cleanUndoStack",value:function(e){hn(this,aw).cleanUndoStack(e)}},{key:"toggleDrawing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}},{key:"togglePointerEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}},{key:"toggleAnnotationLayerPointerEvents",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=hn(this,Yb))||void 0===e||e.div.classList.toggle("disabled",!t)}},{key:"enable",value:function(){var e=o(a().mark((function e(){var t,n,r,i,s,o,l,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fn(this,ew,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),t=new Set,n=De(hn(this,$b).values());try{for(n.s();!(r=n.n()).done;)(i=r.value).enableEditing(),i.show(!0),i.annotationElementId&&(hn(this,aw).removeChangedExistingAnnotation(i),t.add(i.annotationElementId))}catch(a){n.e(a)}finally{n.f()}if(hn(this,Yb)){e.next=9;break}return fn(this,ew,!1),e.abrupt("return");case 9:s=hn(this,Yb).getEditableAnnotations(),o=De(s),e.prev=11,o.s();case 13:if((l=o.n()).done){e.next=29;break}if((u=l.value).hide(),!hn(this,aw).isDeletedAnnotationElement(u.data.id)){e.next=18;break}return e.abrupt("continue",27);case 18:if(!t.has(u.data.id)){e.next=20;break}return e.abrupt("continue",27);case 20:return e.next=22,this.deserialize(u);case 22:if(c=e.sent){e.next=25;break}return e.abrupt("continue",27);case 25:this.addOrRebuild(c),c.enableEditing();case 27:e.next=13;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(11),o.e(e.t0);case 34:return e.prev=34,o.f(),e.finish(34);case 37:fn(this,ew,!1);case 38:case"end":return e.stop()}}),e,this,[[11,31,34,37]])})));return function(){return e.apply(this,arguments)}}()},{key:"disable",value:function(){fn(this,Zb,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);var t,n=new Map,r=new Map,i=De(hn(this,$b).values());try{for(i.s();!(t=i.n()).done;){var a;(l=t.value).disableEditing(),l.annotationElementId&&(null===l.serialize()?(r.set(l.annotationElementId,l),null===(a=this.getEditableAnnotation(l.annotationElementId))||void 0===a||a.show(),l.remove()):n.set(l.annotationElementId,l))}}catch(p){i.e(p)}finally{i.f()}if(hn(this,Yb)){var s,o=De(hn(this,Yb).getEditableAnnotations());try{for(o.s();!(s=o.n()).done;){var l,u=s.value,c=u.data.id;if(!hn(this,aw).isDeletedAnnotationElement(c))(l=r.get(c))?(l.resetAnnotationElement(u),l.show(!1),u.show()):((l=n.get(c))&&(hn(this,aw).addChangedExistingAnnotation(l),l.renderAnnotationElement(u)&&l.show(!1)),u.show())}}catch(p){o.e(p)}finally{o.f()}}un(this,cw,gw).call(this),this.isEmpty&&(this.div.hidden=!0);var h,d=this.div.classList,f=De(mn(e,e,mw).values());try{for(f.s();!(h=f.n()).done;){var v=h.value;d.remove("".concat(v._type,"Editing"))}}catch(p){f.e(p)}finally{f.f()}this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),fn(this,Zb,!1)}},{key:"getEditableAnnotation",value:function(e){var t;return(null===(t=hn(this,Yb))||void 0===t?void 0:t.getEditableAnnotation(e))||null}},{key:"setActiveEditor",value:function(e){hn(this,aw).getActive()!==e&&hn(this,aw).setActiveEditor(e)}},{key:"enableTextSelection",value:function(){var e;if(this.div.tabIndex=-1,null!==(e=hn(this,rw))&&void 0!==e&&e.div&&!hn(this,iw)){fn(this,iw,new AbortController);var t=hn(this,aw).combinedSignal(hn(this,iw));hn(this,rw).div.addEventListener("pointerdown",un(this,sw,dw).bind(this),{signal:t}),hn(this,rw).div.classList.add("highlighting")}}},{key:"disableTextSelection",value:function(){var e;this.div.tabIndex=0,null!==(e=hn(this,rw))&&void 0!==e&&e.div&&hn(this,iw)&&(hn(this,iw).abort(),fn(this,iw,null),hn(this,rw).div.classList.remove("highlighting"))}},{key:"enableClick",value:function(){if(!hn(this,Kb)){fn(this,Kb,new AbortController);var e=hn(this,aw).combinedSignal(hn(this,Kb));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});var t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}}},{key:"disableClick",value:function(){var e;null===(e=hn(this,Kb))||void 0===e||e.abort(),fn(this,Kb,null)}},{key:"attach",value:function(e){hn(this,$b).set(e.id,e);var t=e.annotationElementId;t&&hn(this,aw).isDeletedAnnotationElement(t)&&hn(this,aw).removeDeletedAnnotationElement(e)}},{key:"detach",value:function(e){var t;hn(this,$b).delete(e.id),null===(t=hn(this,qb))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!hn(this,Zb)&&e.annotationElementId&&hn(this,aw).addDeletedAnnotationElement(e)}},{key:"remove",value:function(e){this.detach(e),hn(this,aw).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}},{key:"changeParent",value:function(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(hn(this,aw).addDeletedAnnotationElement(e.annotationElementId),ml.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}},{key:"add",value:function(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),hn(this,aw).addEditor(e),this.attach(e),!e.isAttachedToDOM){var t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!hn(this,ew)),hn(this,aw).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}},{key:"moveEditorInDOM",value:function(e){var t,n=this;if(e.isAttachedToDOM){var r=document.activeElement;e.div.contains(r)&&!hn(this,Qb)&&(e._focusEventsAllowed=!1,fn(this,Qb,setTimeout((function(){fn(n,Qb,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(function(){e._focusEventsAllowed=!0}),{once:!0,signal:hn(n,aw)._signal}),r.focus())}),0))),e._structTreeParentId=null===(t=hn(this,qb))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}}},{key:"addOrRebuild",value:function(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}},{key:"addUndoableEditor",value:function(e){this.addCommands({cmd:function(){return e._uiManager.rebuild(e)},undo:function(){e.remove()},mustExec:!1})}},{key:"getNextId",value:function(){return hn(this,aw).getId()}},{key:"combinedSignal",value:function(e){return hn(this,aw).combinedSignal(e)}},{key:"canCreateNewEmptyEditor",value:function(){var e;return null===(e=hn(this,ow))||void 0===e?void 0:e.canCreateNewEmptyEditor()}},{key:"pasteEditor",value:function(e,t){hn(this,aw).updateToolbar(e),hn(this,aw).updateMode(e);var n=un(this,uw,pw).call(this),r=n.offsetX,i=n.offsetY,a=this.getNextId(),s=un(this,lw,vw).call(this,Ae({parent:this,id:a,x:r,y:i,uiManager:hn(this,aw),isCentered:!0},t));s&&this.add(s)}},{key:"deserialize",value:function(){var t=o(a().mark((function t(n){var r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=mn(e,e,mw).get(null!==(i=n.annotationType)&&void 0!==i?i:n.annotationEditorType))||void 0===r?void 0:r.deserialize(n,this,hn(this,aw));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=null;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createAndAddNewEditor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getNextId(),i=un(this,lw,vw).call(this,Ae({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:hn(this,aw),isCentered:t},n));return i&&this.add(i),i}},{key:"addNewEditor",value:function(){this.createAndAddNewEditor(un(this,uw,pw).call(this),!0)}},{key:"setSelected",value:function(e){hn(this,aw).setSelected(e)}},{key:"toggleSelected",value:function(e){hn(this,aw).toggleSelected(e)}},{key:"unselect",value:function(e){hn(this,aw).unselect(e)}},{key:"pointerup",value:function(e){var t,n=Br.platform.isMac;0!==e.button||e.ctrlKey&&n||e.target===this.div&&hn(this,Jb)&&(fn(this,Jb,!1),null!==(t=hn(this,ow))&&void 0!==t&&t.isDrawer&&hn(this,ow).supportMultipleDrawings||(hn(this,Xb)?hn(this,aw).getMode()!==Wn.STAMP?this.createAndAddNewEditor(e,!1):hn(this,aw).unselectAll():fn(this,Xb,!0)))}},{key:"pointerdown",value:function(e){var t;if(hn(this,aw).getMode()===Wn.HIGHLIGHT&&this.enableTextSelection(),hn(this,Jb))fn(this,Jb,!1);else{var n=Br.platform.isMac;if(!(0!==e.button||e.ctrlKey&&n)&&e.target===this.div)if(fn(this,Jb,!0),null!==(t=hn(this,ow))&&void 0!==t&&t.isDrawer)this.startDrawingSession(e);else{var r=hn(this,aw).getActive();fn(this,Xb,!r||r.isEmpty())}}}},{key:"startDrawingSession",value:function(e){var t=this;if(this.div.focus(),hn(this,tw))hn(this,ow).startDrawing(this,hn(this,aw),!1,e);else{hn(this,aw).setCurrentDrawingSession(this),fn(this,tw,new AbortController);var n=hn(this,aw).combinedSignal(hn(this,tw));this.div.addEventListener("blur",(function(e){var n=e.relatedTarget;n&&!t.div.contains(n)&&(fn(t,nw,null),t.commitOrRemove())}),{signal:n}),hn(this,ow).startDrawing(this,hn(this,aw),!1,e)}}},{key:"pause",value:function(e){var t=this;if(e){var n=document.activeElement;this.div.contains(n)&&fn(this,nw,n)}else hn(this,nw)&&setTimeout((function(){var e;null===(e=hn(t,nw))||void 0===e||e.focus(),fn(t,nw,null)}),0)}},{key:"endDrawingSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hn(this,tw)?(hn(this,aw).setCurrentDrawingSession(null),hn(this,tw).abort(),fn(this,tw,null),fn(this,nw,null),hn(this,ow).endDrawing(e)):null}},{key:"findNewParent",value:function(e,t,n){var r=hn(this,aw).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}},{key:"commitOrRemove",value:function(){return!!hn(this,tw)&&(this.endDrawingSession(),!0)}},{key:"onScaleChanging",value:function(){hn(this,tw)&&hn(this,ow).onScaleChangingWhenDrawing(this)}},{key:"destroy",value:function(){var e;this.commitOrRemove(),(null===(e=hn(this,aw).getActive())||void 0===e?void 0:e.parent)===this&&(hn(this,aw).commitOrRemove(),hn(this,aw).setActiveEditor(null)),hn(this,Qb)&&(clearTimeout(hn(this,Qb)),fn(this,Qb,null));var t,n=De(hn(this,$b).values());try{for(n.s();!(t=n.n()).done;){var r,i=t.value;null===(r=hn(this,qb))||void 0===r||r.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove()}}catch(a){n.e(a)}finally{n.f()}this.div=null,hn(this,$b).clear(),hn(this,aw).removeLayer(this)}},{key:"render",value:function(e){var t=e.viewport;this.viewport=t,yi(this.div,t);var n,r=De(hn(this,aw).getEditors(this.pageIndex));try{for(r.s();!(n=r.n()).done;){var i=n.value;this.add(i),i.rebuild()}}catch(a){r.e(a)}finally{r.f()}this.updateMode()}},{key:"update",value:function(e){var t=e.viewport;hn(this,aw).commitOrRemove(),un(this,cw,gw).call(this);var n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,yi(this.div,{rotation:r}),n!==r){var i,a=De(hn(this,$b).values());try{for(a.s();!(i=a.n()).done;){i.value.rotate(r)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"pageDimensions",get:function(){var e=this.viewport.rawDims;return[e.pageWidth,e.pageHeight]}},{key:"scale",get:function(){return hn(this,aw).viewParameters.realScale}}]),e}();function dw(e){var t=this;hn(this,aw).unselectAll();var n=e.target;if(n===hn(this,rw).div||("img"===n.getAttribute("role")||n.classList.contains("endOfContent"))&&hn(this,rw).div.contains(n)){var r=Br.platform.isMac;if(0!==e.button||e.ctrlKey&&r)return;hn(this,aw).showAllEditors("highlight",!0,!0),hn(this,rw).div.classList.add("free"),this.toggleDrawing(),Gm.startHighlighting(this,"ltr"===hn(this,aw).direction,{target:hn(this,rw).div,x:e.x,y:e.y}),hn(this,rw).div.addEventListener("pointerup",(function(){hn(t,rw).div.classList.remove("free"),t.toggleDrawing(!0)}),{once:!0,signal:hn(this,aw)._signal}),e.preventDefault()}}function fw(){return mn(hw,hw,mw).get(hn(this,aw).getMode())}function vw(e){var t=hn(this,ow);return t?new t.prototype.constructor(e):null}function pw(){var e=this.div.getBoundingClientRect(),t=e.x,n=e.y,r=e.width,i=e.height,a=Math.max(0,t),s=Math.max(0,n),o=(a+Math.min(window.innerWidth,t+r))/2-t,l=(s+Math.min(window.innerHeight,n+i))/2-n,u=d(this.viewport.rotation%180===0?[o,l]:[l,o],2);return{offsetX:u[0],offsetY:u[1]}}function gw(){var e,t=De(hn(this,$b).values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isEmpty()&&n.remove()}}catch(r){t.e(r)}finally{t.f()}}xe(hw,"_initialized",!1);var mw={writable:!0,value:new Map([Ep,mb,Fb,Gm].map((function(e){return[e._editorType,e]})))},yw=new WeakMap,bw=new WeakMap,ww=new WeakMap,kw=new WeakMap,xw=new WeakSet,_w=new WeakSet,Aw=new WeakSet,Sw=function(){function e(t){var n=t.pageIndex;ne(this,e),on(this,Aw),on(this,_w),on(this,xw),ln(this,yw,{writable:!0,value:null}),ln(this,bw,{writable:!0,value:0}),ln(this,ww,{writable:!0,value:new Map}),ln(this,kw,{writable:!0,value:new Map}),this.pageIndex=n}return ie(e,[{key:"setParent",value:function(e){if(hn(this,yw)){if(hn(this,yw)!==e){if(hn(this,ww).size>0){var t,n=De(hn(this,ww).values());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.remove(),e.append(r)}}catch(i){n.e(i)}finally{n.f()}}fn(this,yw,e)}}else fn(this,yw,e)}},{key:"draw",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(fn(this,bw,(n=hn(this,bw),r=n++,n)),r),o=un(this,xw,Cw).call(this),l=e._svgFactory.createElement("defs");o.append(l);var u=e._svgFactory.createElement("path");l.append(u);var c="path_p".concat(this.pageIndex,"_").concat(s);u.setAttribute("id",c),u.setAttribute("vector-effect","non-scaling-stroke"),i&&hn(this,kw).set(s,u);var h=a?un(this,_w,Mw).call(this,l,c):null,d=e._svgFactory.createElement("use");return o.append(d),d.setAttribute("href","#".concat(c)),this.updateProperties(o,t),hn(this,ww).set(s,o),{id:s,clipPathId:"url(#".concat(h,")")}}},{key:"drawOutline",value:function(t,n){var r,i,a=(fn(this,bw,(r=hn(this,bw),i=r++,r)),i),s=un(this,xw,Cw).call(this),o=e._svgFactory.createElement("defs");s.append(o);var l=e._svgFactory.createElement("path");o.append(l);var u,c="path_p".concat(this.pageIndex,"_").concat(a);if(l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n){var h=e._svgFactory.createElement("mask");o.append(h),u="mask_p".concat(this.pageIndex,"_").concat(a),h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");var d=e._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");var f=e._svgFactory.createElement("use");h.append(f),f.setAttribute("href","#".concat(c)),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}var v=e._svgFactory.createElement("use");s.append(v),v.setAttribute("href","#".concat(c)),u&&v.setAttribute("mask","url(#".concat(u,")"));var p=v.cloneNode();return s.append(p),v.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,t),hn(this,ww).set(a,s),a}},{key:"finalizeDraw",value:function(e,t){hn(this,kw).delete(e),this.updateProperties(e,t)}},{key:"updateProperties",value:function(t,n){if(n){var r=n.root,i=n.bbox,a=n.rootClass,s=n.path,o="number"===typeof t?hn(this,ww).get(t):t;if(o){if(r&&un(this,Aw,Tw).call(this,o,r),i&&yn(e,e,Ew).call(e,o,i),a)for(var l=o.classList,u=0,c=Object.entries(a);u<c.length;u++){var h=d(c[u],2),f=h[0],v=h[1];l.toggle(f,v)}if(s){var p=o.firstChild.firstChild;un(this,Aw,Tw).call(this,p,s)}}}}},{key:"updateParent",value:function(e,t){if(t!==this){var n=hn(this,ww).get(e);n&&(hn(t,yw).append(n),hn(this,ww).delete(e),hn(t,ww).set(e,n))}}},{key:"remove",value:function(e){hn(this,kw).delete(e),null!==hn(this,yw)&&(hn(this,ww).get(e).remove(),hn(this,ww).delete(e))}},{key:"destroy",value:function(){fn(this,yw,null);var e,t=De(hn(this,ww).values());try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(n){t.e(n)}finally{t.f()}hn(this,ww).clear(),hn(this,kw).clear()}}],[{key:"_svgFactory",get:function(){return Tr(this,"_svgFactory",new wf)}}]),e}();function Ew(e,t){var n=d(t,4),r=n[0],i=n[1],a=n[2],s=n[3],o=e.style;o.top="".concat(100*i,"%"),o.left="".concat(100*r,"%"),o.width="".concat(100*a,"%"),o.height="".concat(100*s,"%")}function Cw(){var e=Sw._svgFactory.create(1,1,!0);return hn(this,yw).append(e),e.setAttribute("aria-hidden",!0),e}function Mw(e,t){var n=Sw._svgFactory.createElement("clipPath");e.append(n);var r="clip_".concat(t);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");var i=Sw._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),r}function Tw(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var i=d(r[n],2),a=i[0],s=i[1];null===s?e.removeAttribute(a):e.setAttribute(a,s)}}globalThis.pdfjsTestingUtils={HighlightOutliner:Lg};var Pw=An.GlobalWorkerOptions,Rw=An.getDocument,Lw=n(184),Nw=function(){Pw.workerSrc="/pdf.worker.min.mjs";var e=d((0,t.useState)(null),2),n=e[0],r=e[1],i=d((0,t.useState)(null),2),s=i[0],l=i[1],u=d((0,t.useState)(0),2),c=u[0],h=u[1],v=d((0,t.useState)("select"),2),p=v[0],g=v[1],m=d((0,t.useState)("content will be displayed here"),2),y=m[0],b=m[1],w=function(){var e=o(a().mark((function e(t){var n,r,i,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rw(t).promise;case 2:n=e.sent,r=n.numPages,i="",s=1;case 6:if(!(s<=r)){e.next=17;break}return e.next=9,n.getPage(s);case 9:return o=e.sent,e.next=12,o.getTextContent();case 12:e.sent.items.forEach((function(e){i+=e.str+" "}));case 14:s++,e.next=6;break;case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=o(a().mark((function e(){var t,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.createWorker)("eng");case 3:return t=e.sent,e.next=6,t.recognize(URL.createObjectURL(n));case 6:return r=e.sent,i=r.data,b(i.text),console.log(i.text),e.next=12,t.terminate();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error during OCR processing:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),x=(0,t.useRef)(),_=function(){var e=o(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}if(!n.type.startsWith("image/")){e.next=5;break}k(),e.next=10;break;case 5:if("application/pdf"!==n.type){e.next=10;break}return e.next=8,w(URL.createObjectURL(n));case 8:t=e.sent,b(t);case 10:g("done");case 11:if("done"!==p){e.next=17;break}return r(null),l(null),h(0),g("select"),e.abrupt("return");case 17:return e.prev=17,g("uploading"),(i=new FormData).append("file",n),e.next=23,Jt.post("http://localhost:7000/dashboard",i,{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);h(t)}});case 23:e.sent,g("done"),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(17),console.error(e.t0),g("select");case 31:case"end":return e.stop()}}),e,null,[[17,27]])})));return function(){return e.apply(this,arguments)}}();return n?(0,Lw.jsxs)(Lw.Fragment,{children:[(0,Lw.jsxs)("div",{className:"wrapper",children:[(0,Lw.jsxs)("div",{className:"file-card",children:[(0,Lw.jsx)("span",{className:"material-symbols-outlined icon",children:"description"}),(0,Lw.jsx)("div",{className:"file-info",children:(0,Lw.jsxs)("div",{style:{flex:1},children:[(0,Lw.jsx)("h6",{className:"extra",children:n.name.length>20?"".concat(n.name.slice(0,23),"..."):n.name}),(0,Lw.jsx)("div",{className:"progress-bg",children:(0,Lw.jsx)("div",{className:"progress",style:{width:"".concat(c,"%")}})})]})}),"select"===p?(0,Lw.jsx)("button",{className:"cancel",onClick:function(){r(null),g("select"),h(0)},children:(0,Lw.jsx)("span",{class:"material-symbols-outlined close-icon",children:"close"})}):(0,Lw.jsx)("div",{className:"check-circle",children:"uploading"===p?"".concat(c,"%"):"done"===p?(0,Lw.jsx)("span",{class:"material-symbols-outlined",style:{fontSize:"20px"},children:"check"}):null})]}),(0,Lw.jsx)("button",{className:"upload-btn",onClick:_,children:"select"===p||"uploading"===p?"Upload":"Done"})]}),s&&(0,Lw.jsxs)("div",{className:"group",children:[(0,Lw.jsx)("div",{className:"result",children:n.type.startsWith("image/")?(0,Lw.jsx)("img",{className:"image",src:s,alt:"Uploaded file"}):(0,Lw.jsx)("p",{children:"Preview not available for non-image files."})}),(0,Lw.jsx)("div",{className:"extracted",children:y})]})]}):(0,Lw.jsx)("div",{className:"container",children:(0,Lw.jsxs)("div",{className:"dropzone uploads",onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files[0];t&&(r(t),l(URL.createObjectURL(t)))},children:[(0,Lw.jsx)("h1",{children:"Drag and Drop Files to Upload"}),(0,Lw.jsx)("h1",{children:"Or"}),(0,Lw.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&(r(t),l(URL.createObjectURL(t)))},hidden:!0,accept:"image/png, image/jpeg, application/pdf",ref:x}),(0,Lw.jsx)("button",{onClick:function(){return x.current.click()},children:"Select Files"})]})})},Iw=function(){return(0,Lw.jsx)("div",{className:"container",children:(0,Lw.jsx)(Nw,{})})};r.createRoot(document.getElementById("root")).render((0,Lw.jsx)(t.StrictMode,{children:(0,Lw.jsx)(Iw,{})}))}()}();
//# sourceMappingURL=main.e6210279.js.map